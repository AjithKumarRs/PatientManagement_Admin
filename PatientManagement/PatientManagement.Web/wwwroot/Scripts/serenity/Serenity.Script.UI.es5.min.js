"use strict";(function(){var n={},ar,vr,tf,w,b,yr,rf,uf,uu,fu,ce,ff,fi,eu,pr,ou,a,u,ef,bt,ct,of,le,sf,pi,kt,ei,ae,su,oi,ft,hf,hu,wi,cu,dt,s,e,ir,bi,wr,ve,br,si,ye,lt,ut,kr,ki,cf,lf,l,t,di,rr,gt,af,v,vf,pe,yf,ur,tt,hi,lu,at,wt,pf,wf,bf,dr,gr,ni,gi,fr,d,g,au,vu,ti,kf,er,nr,we,it,y,nt,et,o,df,nu,ot,be,yu,ci,gf,pu,wu,or,ne,te,ie,r,li,bu,tu,ke,de,ge,no,c,to,st,iu,sr,io,vt,ku,ai,ru,hr,re,ue,tr,yt,fe,du,p,ii,pt,k,cr,ht,ri,ro,rt,lr,gu,nf,vi,ee,h,oe,se,yi,ui,uo,f,he,fo,i;global.Serenity=global.Serenity||{};global.Serenity.Reporting=global.Serenity.Reporting||{};global.System=global.System||{};global.System.ComponentModel=global.System.ComponentModel||{};ss.initAssembly(n,"Serenity.Script.UI");ar=function(n,t){var r,u;p.call(this,n,null);r=ss.getEnumerator(t);try{while(r.moveNext()){var i=r.current(),e=i.name,f=Q.tryGetText(i.title);ss.isNullOrUndefined(f)&&(u=i.title,ss.isNullOrUndefined(u)&&(u=i.name),f=u);this.addOption(e,f,i,!1)}}finally{r.dispose()}};ar.__typeName="Serenity.$FilterPanel$FieldSelect";vr=function(n,t){var r,i,u,f,s,e,o;p.call(this,n,null);r=ss.getEnumerator(t);try{while(r.moveNext())i=r.current(),u=i.title,ss.isNullOrUndefined(u)&&(f=Q.tryGetText("Controls.FilterPanel.OperatorNames."+i.key),ss.isNullOrUndefined(f)&&(f=i.key),u=f),s=u,this.addOption(i.key,s,i,!1)}finally{r.dispose()}e=null;o=ss.getEnumerator(t);o.moveNext()&&(e=o.current());ss.isValue(e)&&this.set_value(e.key)};vr.__typeName="Serenity.$FilterPanel$OperatorSelect";tf=function(n,t){ot.call(this,n,t)};tf.__typeName="Serenity.AsyncLookupEditor";global.Serenity.AsyncLookupEditor=tf;w=function w(n){var t=function(){this.editor=null;b.call(this)};return ss.registerGenericClassInstance(t,w,[n],{useEditor:function(){switch(this.get_operator().key){case"eq":case"ne":case"lt":case"le":case"gt":case"ge":return!0}return!1},createEditor:function(){if(this.useEditor()){this.editor=Serenity.Widget.create({type:n,container:this.get_container(),options:this.getEditorOptions(),init:null});return}b.prototype.createEditor.call(this)},useIdField:function(){return!1},getCriteriaField:function(){return this.useEditor()&&this.useIdField()&&!Q.isEmptyOrNull(this.get_field().filteringIdField)?this.get_field().filteringIdField:b.prototype.getCriteriaField.call(this)},getEditorOptions:function(){var n=Q.deepClone({},this.get_field().editorParams);return delete n.cascadeFrom,Q.deepClone(n,this.get_field().filteringParams)},loadState:function(n){if(this.useEditor()){if(ss.isNullOrUndefined(n))return;e.setValue(this.editor,n);return}b.prototype.loadState.call(this,n)},saveState:function(){return this.useEditor()?e.getValue(this.editor):b.prototype.saveState.call(this)},getEditorValue:function(){if(this.useEditor()){var n=e.getValue(this.editor);if(ss.isNullOrUndefined(n)||ss.isInstanceOfType(n,String)&&ss.cast(n,String).trim().length===0)throw this.argumentNull();return n}return b.prototype.getEditorValue.call(this)},initQuickFilter:function(t){b.prototype.initQuickFilter.call(this,t);t.type=n;t.options=Q.deepClone({},this.getEditorOptions(),this.get_field().quickFilterParams)}},function(){return b},function(){return[d,it]}),t};w.__typeName="Serenity.BaseEditorFiltering$1";ss.initGenericClass(w,n,1);global.Serenity.BaseEditorFiltering$1=w;b=function(){this.$1$FieldField=null;this.$1$ContainerField=null;this.$1$OperatorField=null};b.__typeName="Serenity.BaseFiltering";global.Serenity.BaseFiltering=b;yr=function(n){Serenity.Widget.call(this,n,{});n.removeClass("flexify")};yr.__typeName="Serenity.BooleanEditor";global.Serenity.BooleanEditor=yr;rf=function(){b.call(this)};rf.__typeName="Serenity.BooleanFiltering";global.Serenity.BooleanFiltering=rf;uf=function(){this.$1$FalseTextField=null;this.$1$TrueTextField=null};uf.__typeName="Serenity.BooleanFormatter";global.Serenity.BooleanFormatter=uf;uu=function uu(n){var t=function(n,t){this.$widget=null;this.$parentChange=null;this.$parentID=null;this.$widget=n;this.$parentChange=t;this.bind();this.$widget.element.bind("remove."+n.uniqueName+"cwh",ss.mkdel(this,function(){this.unbind();this.$widget=null;this.$parentChange=null}))};return ss.registerGenericClassInstance(t,uu,[n],{bind:function(){if(Q.isEmptyOrNull(this.$parentID))return null;var t=Q.findElementWithRelativeId(this.$widget.element,this.$parentID).tryGetWidget(n);return ss.isValue(t)?(t.element.bind("change."+this.$widget.uniqueName,ss.mkdel(this,function(){this.$parentChange(t)})),t):(Q.notifyError("Can't find cascaded parent element with ID: "+this.$parentID+"!","",null),null)},unbind:function(){if(Q.isEmptyOrNull(this.$parentID))return null;var t=Q.findElementWithRelativeId(this.$widget.element,this.$parentID).tryGetWidget(n);return ss.isValue(t)&&t.element.unbind("."+this.$widget.uniqueName),t},get_parentID:function(){return this.$parentID},set_parentID:function(n){ss.referenceEquals(this.$parentID,n)||(this.unbind(),this.$parentID=n,this.bind())}},function(){return null},function(){return[]}),t};uu.__typeName="Serenity.CascadedWidgetLink$1";ss.initGenericClass(uu,n,1);global.Serenity.CascadedWidgetLink$1=uu;fu=function(n){this.category=null;this.category=n};fu.__typeName="Serenity.CategoryAttribute";global.Serenity.CategoryAttribute=fu;ce=function(){};ce.__typeName="Serenity.CheckboxFormatter";global.Serenity.CheckboxFormatter=ce;ff=function(n,t){this.$list=null;Serenity.Widget.call(this,n,t);n.addClass("s-CheckListEditor");this.$list=$("<ul/>").appendTo(n);this.updateItems()};ff.__typeName="Serenity.CheckListEditor";global.Serenity.CheckListEditor=ff;fi=function(){};fi.__typeName="Serenity.CheckListEditorOptions";fi.createInstance=function(){return fi.$ctor()};fi.$ctor=function(){var n={};return n.items=null,n.selectAllOptionText=null,n.selectAllOptionText="Tümünü Seç",n.items=[],n};fi.isInstanceOfType=function(){return!0};global.Serenity.CheckListEditorOptions=fi;eu=function(n,t){this.$byId=null;a.call(this,n,t);n.addClass("s-CheckTreeEditor");this.updateItems()};eu.__typeName="Serenity.CheckTreeEditor";global.Serenity.CheckTreeEditor=eu;pr=function(n){this.value=!1;this.collapsed=!1;this.value=n};pr.__typeName="Serenity.CollapsibleAttribute";global.Serenity.CollapsibleAttribute=pr;ou=function(n){this.cssClass=null;this.cssClass=n};ou.__typeName="Serenity.CssClassAttribute";global.Serenity.CssClassAttribute=ou;a=function(n,t){var r,i;this.titleDiv=null;this.toolbar=null;this.filterBar=null;this.quickFiltersDiv=null;this.view=null;this.slickContainer=null;this.slickGrid=null;this.allColumns=null;this.initialSettings=null;this.restoringSettings=0;this.$idProperty=null;this.$isActiveProperty=null;this.$localTextDbPrefix=null;this.$isDisabled=!1;this.$4$submitHandlersField=null;this.rows=null;this.$slickGridOnSort=null;this.$slickGridOnClick=null;Serenity.Widget.call(this,n,t);r=this;this.element.addClass("s-DataGrid").html("");this.element.addClass("s-"+ss.getTypeName(ss.getInstanceType(this)));this.element.addClass("require-layout").bind("layout."+this.uniqueName,function(){r.layout()});this.setTitle(this.getInitialTitle());i=this.getButtons();ss.isValue(i)&&this.createToolbar(i);this.slickContainer=this.createSlickContainer();this.view=this.createView();this.slickGrid=this.createSlickGrid();this.enableFiltering()&&this.createFilterBar();this.usePager()&&this.createPager();this.bindToSlickEvents();this.bindToViewEvents();ss.isValue(i)&&this.createToolbarExtensions();this.createQuickFilters();this.updateDisabledState();this.isAsyncWidget()||(this.initialSettings=this.getCurrentSettings(null),this.restoreSettings(null,null),window.setTimeout(ss.mkdel(this,this.initialPopulate),0))};a.__typeName="Serenity.DataGrid";global.Serenity.DataGrid=a;u=function u(n){this.$4$MinValueField=null;this.$4$MaxValueField=null;Serenity.Widget.call(this,n,{});n.addClass("dateQ");n.datepicker({showOn:"button",beforeShow:function(){return!n.hasClass("readonly")}});n.bind("keyup."+this.uniqueName,ss.mkdel(this,function(n){n.which!==32||this.get_readOnly()?u.dateInputKeyup(n):this.set_valueAsDate(new Date)}));n.bind("change."+this.uniqueName,u.dateInputChange);ui.addValidationRule(n,this.uniqueName,ss.mkdel(this,function(){var n=this.get_value();return ss.isNullOrEmptyString(n)?null:!ss.isNullOrEmptyString(this.get_minValue())&&ss.compareStrings(n,this.get_minValue())<0?ss.formatString(Q.text("Validation.MinDate"),Q.formatDate(this.get_minValue(),null)):!ss.isNullOrEmptyString(this.get_maxValue())&&ss.compareStrings(n,this.get_maxValue())>=0?ss.formatString(Q.text("Validation.MaxDate"),Q.formatDate(this.get_maxValue(),null)):null}));this.set_sqlMinMax(!0)};u.__typeName="Serenity.DateEditor";u.dateInputChange=function(n){var i,t,r,u;Q.Culture.dateOrder==="dmy"&&(i=$(n.target),i.is(":input"))&&(t=ss.coalesce(i.val(),""),r={},t.length>=6&&ss.Int32.tryParse(t,r)&&i.val(t.substr(0,2)+Q.Culture.dateSeparator+t.substr(2,2)+Q.Culture.dateSeparator+t.substr(4)),t=ss.coalesce(i.val(),""),!(t.length>=5&&!ss.referenceEquals(Q.parseDate(t),!1))||(u=Q.parseDate(t),i.val(Q.formatDate(u,null))))};u.dateInputKeyup=function(n){var i,t;if(Q.Culture.dateOrder==="dmy"&&(i=$(n.target),i.is(":input"))&&!i.is("[readonly]")&&!i.is(":disabled")&&(t=ss.coalesce(i.val(),""),!(t.length===0||!ss.referenceEquals(i[0].selectionEnd,t.length)))){if(t.indexOf(Q.Culture.dateSeparator+Q.Culture.dateSeparator)!==-1){i.val(ss.replaceAllString(t,Q.Culture.dateSeparator+Q.Culture.dateSeparator,Q.Culture.dateSeparator));return}if(n.which===47||n.which===111){if(t.length>=2&&ss.referenceEquals(String.fromCharCode(t.charCodeAt(t.length-1)),Q.Culture.dateSeparator)&&ss.referenceEquals(String.fromCharCode(t.charCodeAt(t.length-2)),Q.Culture.dateSeparator)){i.val(t.substr(0,t.length-1));return}if(!ss.referenceEquals(String.fromCharCode(t.charCodeAt(t.length-1)),Q.Culture.dateSeparator))return;switch(t.length){case 2:if(u.$isNumeric(t.charCodeAt(0))){t="0"+t;break}else return;case 4:if(u.$isNumeric(t.charCodeAt(0))&&u.$isNumeric(t.charCodeAt(2))&&ss.referenceEquals(String.fromCharCode(t.charCodeAt(1)),Q.Culture.dateSeparator)){t="0"+String.fromCharCode(t.charCodeAt(0))+Q.Culture.dateSeparator+"0"+String.fromCharCode(t.charCodeAt(2))+Q.Culture.dateSeparator;break}else return;case 5:if(u.$isNumeric(t.charCodeAt(0))&&u.$isNumeric(t.charCodeAt(2))&&u.$isNumeric(t.charCodeAt(3))&&ss.referenceEquals(String.fromCharCode(t.charCodeAt(1)),Q.Culture.dateSeparator)){t="0"+t;break}else if(u.$isNumeric(t.charCodeAt(0))&&u.$isNumeric(t.charCodeAt(1))&&u.$isNumeric(t.charCodeAt(3))&&ss.referenceEquals(String.fromCharCode(t.charCodeAt(2)),Q.Culture.dateSeparator)){t=String.fromCharCode(t.charCodeAt(0))+String.fromCharCode(t.charCodeAt(1))+Q.Culture.dateSeparator+"0"+String.fromCharCode(t.charCodeAt(3))+Q.Culture.dateSeparator;break}else break;default:return}i.val(t)}if(t.length<6&&(n.which>=48&&n.which<=57||n.which>=96&&n.which<=105)&&u.$isNumeric(t.charCodeAt(t.length-1))){switch(t.length){case 1:if(t.charCodeAt(0)<=51)return;t="0"+t;break;case 2:if(!u.$isNumeric(t.charCodeAt(0)))return;break;case 3:if(!u.$isNumeric(t.charCodeAt(0))||!ss.referenceEquals(String.fromCharCode(t.charCodeAt(1)),Q.Culture.dateSeparator)||t.charCodeAt(2)<=49)return;t="0"+String.fromCharCode(t.charCodeAt(0))+Q.Culture.dateSeparator+"0"+String.fromCharCode(t.charCodeAt(2));break;case 4:if(ss.referenceEquals(String.fromCharCode(t.charCodeAt(1)),Q.Culture.dateSeparator)){if(!u.$isNumeric(t.charCodeAt(0))||!u.$isNumeric(t.charCodeAt(2)))return;t="0"+t;break}else if(ss.referenceEquals(String.fromCharCode(t.charCodeAt(2)),Q.Culture.dateSeparator)){if(!u.$isNumeric(t.charCodeAt(0))||!u.$isNumeric(t.charCodeAt(1))||t.charCodeAt(3)<=49)return;t=String.fromCharCode(t.charCodeAt(0))+String.fromCharCode(t.charCodeAt(1))+Q.Culture.dateSeparator+"0"+String.fromCharCode(t.charCodeAt(3));break}else return;case 5:if(!ss.referenceEquals(String.fromCharCode(t.charCodeAt(2)),Q.Culture.dateSeparator)||!u.$isNumeric(t.charCodeAt(0))||!u.$isNumeric(t.charCodeAt(1))||!u.$isNumeric(t.charCodeAt(3)))return;break;default:return}i.val(t+Q.Culture.dateSeparator)}}};u.$isNumeric=function(n){return n>=48&&n<=57};u.defaultAutoNumericOptions=function(){return{aDec:Q.Culture.decimalSeparator,altDec:Q.Culture.decimalSeparator==="."?",":".",aSep:Q.Culture.decimalSeparator==="."?",":".",aPad:!0}};global.Serenity.DateEditor=u;ef=function(){ss.makeGenericType(w,[u]).call(this)};ef.__typeName="Serenity.DateFiltering";global.Serenity.DateFiltering=ef;bt=function(){this.$1$DisplayFormatField=null;this.set_displayFormat(Q.Culture.dateFormat)};bt.__typeName="Serenity.DateFormatter";bt.format=function(n,t){if(!ss.isValue(n))return"";var i;if(typeof n=="date")i=n;else if(typeof n=="string"){if(i=Q.parseISODateTime(n),ss.staticEquals(i,null))return Q.htmlEncode(n)}else return n.toString();return Q.htmlEncode(Q.formatDate(i,t))};global.Serenity.DateFormatter=bt;ct=function ct(n,t){var i,f,r,e;for(this.$time=null,this.$4$MinValueField=null,this.$4$MaxValueField=null,Serenity.Widget.call(this,n,t),n.addClass("dateQ s-DateTimeEditor").datepicker({showOn:"button",beforeShow:function(){return!n.hasClass("readonly")}}),n.bind("keyup."+this.uniqueName,ss.mkdel(this,function(n){n.which!==32||this.get_readOnly()?u.dateInputKeyup(n):this.set_valueAsDate(new Date)})),n.bind("change."+this.uniqueName,u.dateInputChange),this.$time=$("<select/>").addClass("editor s-DateTimeEditor time"),i=n.next(".ui-datepicker-trigger"),i.length>0?this.$time.insertAfter(i):(i=n.prev(".ui-datepicker-trigger"),i.length>0?this.$time.insertBefore(i):this.$time.insertAfter(n)),f=ct.$getTimeOptions(ss.coalesce(this.options.startHour,0),0,ss.coalesce(this.options.endHour,23),59,ss.coalesce(this.options.intervalMinutes,5)),r=0;r<f.length;r++)e=f[r],Q.addOption(this.$time,e,e);ui.addValidationRule(n,this.uniqueName,ss.mkdel(this,function(){var n=this.get_value();return ss.isNullOrEmptyString(n)?null:!ss.isNullOrEmptyString(this.get_minValue())&&ss.compareStrings(n,this.get_minValue())<0?ss.formatString(Q.text("Validation.MinDate"),Q.formatDate(this.get_minValue(),null)):!ss.isNullOrEmptyString(this.get_maxValue())&&ss.compareStrings(n,this.get_maxValue())>=0?ss.formatString(Q.text("Validation.MaxDate"),Q.formatDate(this.get_maxValue(),null)):null}));this.set_sqlMinMax(!0);$("<div class='inplace-button inplace-now'><b><\/b><\/div>").attr("title","set to now").insertAfter(this.$time).click(ss.mkdel(this,function(){this.element.hasClass("readonly")||this.set_valueAsDate(new Date)}))};ct.__typeName="Serenity.DateTimeEditor";ct.$getTimeOptions=function(n,t,i,r,u){var o=[],e,f,s;for(i>=23&&(i=23),r>=60&&(r=59),e=n,f=t;;){if(e>i||e===i&&f>r)break;s=(e>=10?"":"0")+e+":"+(f>=10?"":"0")+f;o.push(s);f+=u;f>=60&&(f-=60,e++)}return o};ct.roundToMinutes=function(n,t){n=new Date(n.getTime());var i=ss.Int32.trunc(ss.round(n.getMinutes()/t)*t);return n.setMinutes(i),n.setSeconds(0),n.setMilliseconds(0),n};global.Serenity.DateTimeEditor=ct;of=function(){ss.makeGenericType(w,[u]).call(this)};of.__typeName="Serenity.DateTimeFiltering";global.Serenity.DateTimeFiltering=of;le=function(){bt.call(this);this.set_displayFormat(Q.Culture.dateTimeFormat)};le.__typeName="Serenity.DateTimeFormatter";global.Serenity.DateTimeFormatter=le;sf=function(n,t){ii.call(this,n,t);this.updateItems()};sf.__typeName="Serenity.DateYearEditor";global.Serenity.DateYearEditor=sf;pi=function(){};pi.__typeName="Serenity.DateYearEditorOptions";pi.createInstance=function(){return pi.$ctor()};pi.$ctor=function(){var n=pt.$ctor();return n.minYear=null,n.maxYear=null,n.descending=!1,n.minYear="-10",n.maxYear="+0",n};pi.isInstanceOfType=function(){return!0};global.Serenity.DateYearEditorOptions=pi;kt=function kt(n,t){Serenity.Widget.call(this,n,t);n.addClass("decimalQ");var i=$.extend(kt.defaultAutoNumericOptions(),{vMin:this.options.minValue,vMax:this.options.maxValue});ss.isValue(this.options.decimals)&&(i.mDec=ss.unbox(this.options.decimals));ss.isValue(this.options.padDecimals)&&(i.aPad=ss.unbox(this.options.padDecimals));n.autoNumeric(i)};kt.__typeName="Serenity.DecimalEditor";kt.defaultAutoNumericOptions=function(){return{aDec:Q.Culture.decimalSeparator,altDec:Q.Culture.decimalSeparator==="."?",":".",aSep:Q.Culture.decimalSeparator==="."?",":".",aPad:!0}};global.Serenity.DecimalEditor=kt;ei=function(){};ei.__typeName="Serenity.DecimalEditorOptions";ei.createInstance=function(){return ei.$ctor()};ei.$ctor=function(){var n={};return n.minValue=null,n.maxValue=null,n.decimals=null,n.padDecimals=null,n.minValue="0.00",n.maxValue="999999999999.99",n};ei.isInstanceOfType=function(){return!0};global.Serenity.DecimalEditorOptions=ei;ae=function(){ss.makeGenericType(w,[kt]).call(this)};ae.__typeName="Serenity.DecimalFiltering";global.Serenity.DecimalFiltering=ae;su=function(n){this.value=null;this.value=n};su.__typeName="Serenity.DefaultValueAttribute";global.Serenity.DefaultValueAttribute=su;oi=function(){};oi.__typeName="Serenity.DialogExtensions";oi.dialogFlexify=function(n){var t=new af(n.closest(".ui-dialog"),{});return n};oi.dialogResizable=function(n,t,i,r,u){var f=n.dialog();return f.dialog("option","resizable",!0),ss.isValue(r)&&f.dialog("option","minWidth",ss.unbox(r)),ss.isValue(t)&&f.dialog("option","width",ss.unbox(t)),ss.isValue(u)&&f.dialog("option","minHeight",ss.unbox(u)),ss.isValue(i)&&f.dialog("option","height",ss.unbox(i)),n};oi.dialogMaximizable=function(n){return n.dialogExtend({closable:!0,maximizable:!0,dblclick:"maximize",icons:{maximize:"ui-icon-maximize-window"}}),n};oi.dialogCloseOnEnter=function(n){return n.bind("keydown",function(n){var t,i,r,u,f;n.which===oi.$enterKeyCode&&(t=n.target.tagName.toLowerCase(),t!=="button"&&t!=="select"&&t!=="textarea"&&(t!=="input"||n.target.getAttribute("type")!=="button"))&&(i=$(this),i.hasClass("ui-dialog")||(i=i.closest(".ui-dialog")),r=i.children(".ui-dialog-buttonpane").find("button"),r.length>0&&(u=r.find(".default-button"),u.length>0&&(r=u)),f=r.eq(0),f.is(":disabled")||(n.preventDefault(),f.trigger("click")))}),n};global.Serenity.DialogExtensions=oi;ft=function(){};ft.__typeName="Serenity.DialogTypeRegistry";ft.$search=function(n){var t=ss.getType(n),i,r;if(ss.isValue(t)&&ss.isAssignableFrom(ni,t))return t;for(i=0;i<Q.Config.rootNamespaces.length;i++)if(r=Q.Config.rootNamespaces[i],t=ss.getType(r+"."+n),ss.isValue(t)&&ss.isAssignableFrom(ni,t))return t;return null};ft.get=function(n){if(!ss.keyExists(ft.$knownTypes,n)){var t=n,i=ft.$search(t);if(ss.isNullOrUndefined(i)&&!ss.endsWithString(n,"Dialog")&&(t=n+"Dialog",i=ft.$search(t)),ss.isNullOrUndefined(i))throw new ss.Exception(t+" dialog class is not found!");ft.$knownTypes[n]=i}return ft.$knownTypes[n]};global.Serenity.DialogTypeRegistry=ft;hf=function(){this.$3$EditorTypeField=null;this.$3$UseRelativeField=!1;this.$3$UseLikeField=!1;ss.makeGenericType(w,[Object]).call(this)};hf.__typeName="Serenity.EditorFiltering";global.Serenity.EditorFiltering=hf;hu=function(n,t){this.key=null;this.value=null;this.key=n;this.value=t};hu.__typeName="Serenity.EditorOptionAttribute";global.Serenity.EditorOptionAttribute=hu;wi=function(n){cu.call(this,n)};wi.__typeName="Serenity.EditorTypeAttribute";global.Serenity.EditorTypeAttribute=wi;cu=function(n){this.editorType=null;this.editorType=n};cu.__typeName="Serenity.EditorTypeAttributeBase";global.Serenity.EditorTypeAttributeBase=cu;dt=function(n){var t=pt.$ctor();t.emptyOptionText=Q.text("Controls.SelectEditor.EmptyItemText");ii.call(this,n,t)};dt.__typeName="Serenity.EditorTypeEditor";global.Serenity.EditorTypeEditor=dt;s=function(){};s.__typeName="Serenity.EditorTypeRegistry";s.get=function(n){if(Q.isEmptyOrNull(n))throw new ss.ArgumentNullException("key");s.$initialize();var t=s.$knownTypes[n.toLowerCase()];if(ss.isNullOrUndefined(t))throw new ss.Exception(ss.formatString("Can't find {0} editor type!",n));return t};s.$initialize=function(){var e,t,a,o,i,n,r,u,h,f,c,l;if(!ss.isValue(s.$knownTypes)){for(s.$knownTypes={},e=ss.getAssemblies(),t=0;t<e.length;t++)for(a=e[t],o=ss.getAssemblyTypes(a),i=0;i<o.length;i++)if((n=o[i],n.prototype instanceof Serenity.Widget)&&!ss.isGenericTypeDefinition(n))for(r=ss.getTypeFullName(n).toLowerCase(),s.$knownTypes[r]=n,u=ss.getAttributes(n,Serenity.EditorAttribute,!1),ss.isValue(u)&&u.length>0&&(h=u[0].key,Q.isEmptyOrNull(h)||(s.$knownTypes[h.toLowerCase()]=n)),f=0;f<Q.Config.rootNamespaces.length;f++)c=Q.Config.rootNamespaces[f],ss.startsWithString(r,c.toLowerCase()+".")&&(l=r.substr(c.length+1).toLowerCase(),ss.isNullOrUndefined(s.$knownTypes[l])&&(s.$knownTypes[l]=n));s.$setTypeKeysWithoutEditorSuffix()}};s.reset=function(){s.$knownTypes=null};s.$setTypeKeysWithoutEditorSuffix=function(){for(var n,t,r="editor",u=Object.keys(s.$knownTypes),i=0;i<u.length;i++)(n=u[i],ss.endsWithString(n,r))&&((t=n.substr(0,n.length-r.length),Q.isEmptyOrNull(t))||ss.isValue(s.$knownTypes[t])||(s.$knownTypes[t]=s.$knownTypes[n]))};global.Serenity.EditorTypeRegistry=s;e=function(){};e.__typeName="Serenity.EditorUtils";e.getValue=function(n){var t={};return e.saveValue(n,e.$dummy,t),t._};e.saveValue=function(n,t,i){var s=ss.safeCast(n,g),r,u,f,e;if(ss.isValue(s)){s.getEditValue(t,i);return}if(r=ss.safeCast(n,o),ss.isValue(r)){i[t.name]=r.get_value();return}if(u=ss.safeCast(n,dr),ss.isValue(u)){i[t.name]=u.get_value();return}if(f=ss.safeCast(n,gi),ss.isValue(f)){e=f.get_value();i[t.name]=isNaN(e)?null:e;return}if(!!ss.isValue(n.getEditValue)){n.getEditValue(t,i);return}if(n.element.is(":input")){i[t.name]=n.element.val();return}};e.setValue=function(n,t){var i={_:t};e.loadValue(n,e.$dummy,i)};e.loadValue=function(n,t,i){var l=ss.safeCast(n,nt),h,f,e,s,u,r,c;if(ss.isValue(l)){l.setEditValue(i,t);return}if(h=ss.safeCast(n,o),ss.isValue(h)){f=i[t.name];!ss.isValue(f)||(f=f.toString());h.set_value(ss.cast(f,String));return}if(e=ss.safeCast(n,dr),ss.isValue(e)){s=i[t.name];typeof s=="number"?e.set_value(s>0):e.set_value(!!s);return}if(u=ss.safeCast(n,gi),ss.isValue(u)){r=i[t.name];(ss.isNullOrUndefined(r)||ss.isInstanceOfType(r,String)&&Q.isTrimmedEmpty(ss.cast(r,String)))?u.set_value(null):ss.isInstanceOfType(r,String)?u.set_value(ss.cast(Q.parseDecimal(ss.cast(r,String)),Number)):ss.isInstanceOfType(r,Boolean)?u.set_value(!r?0:1):u.set_value(ss.cast(r,Number));return}if(!!ss.isValue(n.setEditValue)){n.setEditValue(i,t);return}if(n.element.is(":input")){c=i[t.name];!ss.isValue(c)?n.element.val(""):n.element.val(c);return}};e.setReadonly=function(n,t){return n.each(function(n,i){var r=$(i),u=r.attr("type");return r.is("select")||u==="radio"||u==="checkbox"?t?r.addClass("readonly").attr("disabled","disabled"):r.removeClass("readonly").removeAttr("disabled"):t?r.addClass("readonly").attr("readonly","readonly"):r.removeClass("readonly").removeAttr("readonly"),!0}),n};e.setReadOnly=function(n,t){var i=ss.safeCast(n,y);ss.isValue(i)?i.set_readOnly(t):n.element.is(":input")&&e.setReadonly(n.element,t)};e.setRequired=function(n,t){var u=ss.safeCast(n,df),i,r;ss.isValue(u)?u.set_required(t):n.element.is(":input")&&n.element.toggleClass("required",!!t);i=f.getGridField(n);r=i.find("sup").get().length>0;t&&!r?$("<sup>*<\/sup>").attr("title",Q.text("Controls.PropertyGrid.RequiredHint")).prependTo(i.find(".caption")[0]):!t&&r&&$(i.find("sup")[0]).remove()};global.Serenity.EditorUtils=e;ir=function ir(n,t){Serenity.Widget.call(this,n,t);ir.registerValidationMethods();n.addClass("emailuser").removeClass("flexify");var r=$("<span/>").text("@").addClass("emailat").insertAfter(n),i=$('<input type="text"/>').addClass("emaildomain").addClass("flexify").insertAfter(r);i.bind("blur."+this.uniqueName,function(){var t=i.closest("form").data("validator");ss.isValue(t)&&t.element(n[0])});Q.isEmptyOrNull(this.options.domain)||i.val(this.options.domain);this.options.readOnlyDomain&&i.attr("readonly","readonly").addClass("disabled").attr("tabindex","-1");n.bind("keypress."+this.uniqueName,ss.mkdel(this,function(n){n.which===64&&(n.preventDefault(),this.options.readOnlyDomain||(i.focus(),i.select()))}));i.bind("keypress."+this.uniqueName,function(n){n.which===64&&n.preventDefault()});this.options.readOnlyDomain||n.change(ss.mkdel(this,function(){this.set_value(n.val())}))};ir.__typeName="Serenity.EmailEditor";ir.registerValidationMethods=function(){ss.staticEquals($.validator.methods.emailuser,null)&&$.validator.addMethod("emailuser",function(n,t){var i=$(t).nextAll(".emaildomain");return i.length>0&&ss.isNullOrUndefined(i.attr("readonly"))?this.optional(t)&&this.optional(i[0])?!0:(n=n+"@"+i.val(),Q.Config.emailAllowOnlyAscii)?new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(n):new RegExp("^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$","i").test(n):Q.Config.emailAllowOnlyAscii?this.optional(t)||new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+$").test(n):this.optional(t)||new RegExp("^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))$","i").test(n)},"Lütfen geçerli bir e-posta adresi giriniz!")};global.Serenity.EmailEditor=ir;bi=function(){};bi.__typeName="Serenity.EmailEditorOptions";bi.createInstance=function(){return bi.$ctor()};bi.$ctor=function(){var n={};return n.domain=null,n.readOnlyDomain=!1,n};bi.isInstanceOfType=function(){return!0};global.Serenity.EmailEditorOptions=bi;wr=function(n){this.entity=null;this.entityId=null;this.$entityType=null;this.$entitySingular=null;this.$formKey=null;this.$idProperty=null;this.$isActiveProperty=null;this.$localTextDbPrefix=null;this.$nameProperty=null;this.$service=null;this.localizationGrid=null;this.localizationButton=null;this.localizationLastValue=null;this.localizationPendingValue=null;this.propertyGrid=null;this.saveAndCloseButton=null;this.applyChangesButton=null;this.deleteButton=null;this.undeleteButton=null;this.cloneButton=null;Serenity.TemplatedDialog.call(this,n);this.isAsyncWidget()||(this.$initPropertyGrid(),this.$initLocalizationGrid())};wr.__typeName="Serenity.EntityDialog";global.Serenity.EntityDialog=wr;ve=function(n,t){this.$entityType=null;this.$displayName=null;this.$itemName=null;this.$service=null;this.$dialogType=null;a.call(this,n,t)};ve.__typeName="Serenity.EntityGrid";global.Serenity.EntityGrid=ve;br=function(n,t){p.call(this,n,t);this.updateItems()};br.__typeName="Serenity.EnumEditor";global.Serenity.EnumEditor=br;si=function(){};si.__typeName="Serenity.EnumEditorOptions";si.createInstance=function(){return si.$ctor()};si.$ctor=function(){var n={};return n.enumKey=null,n.enumType=null,n.allowClear=null,n};si.isInstanceOfType=function(){return!0};global.Serenity.EnumEditorOptions=si;ye=function(){ss.makeGenericType(w,[br]).call(this)};ye.__typeName="Serenity.EnumFiltering";global.Serenity.EnumFiltering=ye;lt=function(){this.$1$EnumKeyField=null};lt.__typeName="Serenity.EnumFormatter";lt.format=function(n,t){var r,u,f;if(!ss.isValue(t))return"";try{r=ss.Enum.toString(n,t)}catch(i){if(i=ss.Exception.wrap(i),ss.isInstanceOfType(i,ss.ArgumentException))r=t.toString();else throw i;}return u=ss.getAttributes(n,Serenity.EnumKeyAttribute,!1),f=u.length>0?u[0].value:ss.getTypeFullName(n),lt.getText$1(f,r)};lt.getText$1=function(n,t){return Q.htmlEncode(ss.coalesce(Q.tryGetText("Enums."+n+"."+t),t))};lt.getText=function(n){return function(t){return ss.isValue(t)?lt.format(n,ss.unbox(t)):""}};lt.getName=function(n){return function(t){return ss.isValue(t)?ss.Enum.toString(n,ss.unbox(t)):""}};global.Serenity.EnumFormatter=lt;ut=function(){};ut.__typeName="Serenity.EnumTypeRegistry";ut.get=function(n){var o,i,c,s,r,t,u,f,e,h;if(ss.isNullOrUndefined(ut.$knownTypes))for(ut.$knownTypes={},o=ss.getAssemblies(),i=0;i<o.length;i++)for(c=o[i],s=ss.getAssemblyTypes(c),r=0;r<s.length;r++)if(t=s[r],ss.isEnum(t))for(u=ss.getTypeFullName(t),ut.$knownTypes[u]=t,f=ss.getAttributes(t,Serenity.EnumKeyAttribute,!1),ss.isValue(f)&&f.length>0&&(ut.$knownTypes[f[0].value]=t),e=0;e<Q.Config.rootNamespaces.length;e++)h=Q.Config.rootNamespaces[e],ss.startsWithString(u,h+".")&&(ut.$knownTypes[u.substr(h.length+1)]=t);if(!ss.keyExists(ut.$knownTypes,n))throw new ss.Exception(ss.formatString("Can't find {0} enum type!",n));return ut.$knownTypes[n]};global.Serenity.EnumTypeRegistry=ut;kr=function(){this.$1$DisplayFormatField=null;this.$1$OriginalNamePropertyField=null};kr.__typeName="Serenity.FileDownloadFormatter";kr.dbFileUrl=function(n){return n=ss.replaceAllString(ss.coalesce(n,""),"\\","/"),Q.resolveUrl("~/upload/")+n};global.Serenity.FileDownloadFormatter=kr;ki=function ki(){ki.$ctor1.call(this,!0)};ki.__typeName="Serenity.FilterableAttribute";ki.$ctor1=function(n){this.value=!1;this.value=n};global.Serenity.FilterableAttribute=ki;cf=function(){this.$filterPanel=null;Serenity.TemplatedDialog.call(this);this.$filterPanel=new di(this.byId("FilterPanel"));this.$filterPanel.set_showInitialLine(!0);this.$filterPanel.set_showSearchButton(!1);this.$filterPanel.set_updateStoreOnReset(!1)};cf.__typeName="Serenity.FilterDialog";global.Serenity.FilterDialog=cf;lf=function(n){ss.makeGenericType(gt,[Object]).call(this,n,null);this.element.find(".cap").text(Q.text("Controls.FilterPanel.EffectiveFilter"));this.element.find(".edit").text(Q.text("Controls.FilterPanel.EditFilter"));this.element.find(".reset").attr("title",Q.text("Controls.FilterPanel.ResetFilterHint"));var t=ss.mkdel(this,function(n){n.preventDefault();var t=new cf;t.get_filterPanel().set_store(this.get_store());t.dialogOpen()});this.element.find(".edit").click(t);this.element.find(".txt").click(t);this.element.find(".reset").click(ss.mkdel(this,function(n){n.preventDefault();ss.clear(this.get_store().get_items());this.get_store().raiseChanged()}))};lf.__typeName="Serenity.FilterDisplayBar";global.Serenity.FilterDisplayBar=lf;l=function(){};l.__typeName="Serenity.FilteringTypeRegistry";l.get=function(n){if(Q.isEmptyOrNull(n))throw new ss.ArgumentNullException("key");l.$initialize();var t=l.$knownTypes[n.toLowerCase()];if(ss.isNullOrUndefined(t))throw new ss.Exception(ss.formatString("Can't find {0} filter handler type!",n));return t};l.$initialize=function(){var f,t,h,e,i,n,r,u,o,s;if(!ss.isValue(l.$knownTypes)){for(l.$knownTypes={},f=ss.getAssemblies(),t=0;t<f.length;t++)for(h=f[t],e=ss.getAssemblyTypes(h),i=0;i<e.length;i++)if((n=e[i],ss.isAssignableFrom(d,n))&&!ss.isGenericTypeDefinition(n))for(r=ss.getTypeFullName(n).toLowerCase(),l.$knownTypes[r]=n,u=0;u<Q.Config.rootNamespaces.length;u++)o=Q.Config.rootNamespaces[u],ss.startsWithString(r,o.toLowerCase()+".")&&(s=r.substr(o.length+1).toLowerCase(),ss.isNullOrUndefined(l.$knownTypes[s])&&(l.$knownTypes[s]=n));l.$setTypeKeysWithoutFilterHandlerSuffix()}};l.reset=function(){l.$knownTypes=null};l.$setTypeKeysWithoutFilterHandlerSuffix=function(){for(var n,t,r="filtering",u=Object.keys(l.$knownTypes),i=0;i<u.length;i++)(n=u[i],ss.endsWithString(n,r))&&((t=n.substr(0,n.length-r.length),Q.isEmptyOrNull(t))||ss.isValue(l.$knownTypes[t])||(l.$knownTypes[t]=l.$knownTypes[n]))};global.Serenity.FilteringTypeRegistry=l;t=function(){};t.__typeName="Serenity.FilterOperators";global.Serenity.FilterOperators=t;di=function(n){this.$rowsDiv=null;this.$showInitialLine=!1;this.$showSearchButton=!0;this.$updateStoreOnReset=!1;ss.makeGenericType(gt,[Object]).call(this,n,null);this.element.addClass("s-FilterPanel");this.$rowsDiv=this.byId("Rows");this.$initButtons();this.$updateButtons()};di.__typeName="Serenity.FilterPanel";global.Serenity.FilterPanel=di;rr=function(n){var t,i;if(this.$changed=null,this.$displayText=null,this.$1$FieldsField=null,this.$1$FieldByNameField=null,this.$1$ItemsField=null,this.set_items([]),ss.isNullOrUndefined(n))throw new ss.ArgumentNullException("source");for(this.set_fields(ss.arrayClone(n)),this.get_fields().sort(function(n,t){var f=Q.tryGetText(n.title),i,r,u;return ss.isNullOrUndefined(f)&&(i=n.title,ss.isNullOrUndefined(i)&&(i=n.name),f=i),r=Q.tryGetText(t.title),ss.isNullOrUndefined(r)&&(u=t.title,ss.isNullOrUndefined(u)&&(u=t.name),r=u),Q.turkishLocaleCompare(f,r)}),this.set_fieldByName({}),t=0;t<n.length;t++)i=n[t],this.get_fieldByName()[i.name]=i};rr.__typeName="Serenity.FilterStore";global.Serenity.FilterStore=rr;gt=function gt(n){var t=function(n,t){this.$store=null;Serenity.TemplatedWidget.call(this,n,t);this.$store=new rr([]);this.$store.add_changed(ss.mkdel(this,this.$onFilterStoreChanged))};return ss.registerGenericClassInstance(t,gt,[n],{destroy:function(){ss.isValue(this.$store)&&(this.$store.remove_changed(ss.mkdel(this,this.$onFilterStoreChanged)),this.$store=null);Serenity.Widget.prototype.destroy.call(this)},$onFilterStoreChanged:function(){this.filterStoreChanged()},filterStoreChanged:function(){},get_store:function(){return this.$store},set_store:function(n){ss.referenceEquals(this.$store,n)||(ss.isValue(this.$store)&&this.$store.remove_changed(ss.mkdel(this,this.$onFilterStoreChanged)),this.$store=n||new rr([]),this.$store.add_changed(ss.mkdel(this,this.$onFilterStoreChanged)),this.filterStoreChanged())}},function(){return Serenity.TemplatedWidget},function(){return[]}),t};gt.__typeName="Serenity.FilterWidgetBase$1";ss.initGenericClass(gt,n,1);global.Serenity.FilterWidgetBase$1=gt;af=function(n,t){this.$xDifference=0;this.$yDifference=0;Serenity.Widget.call(this,n,t);var i=this;Serenity.LazyLoadHelper.executeOnceWhenShown(n,function(){i.$storeInitialSize()})};af.__typeName="Serenity.Flexify";global.Serenity.Flexify=af;v=function(){};v.__typeName="Serenity.FormatterTypeRegistry";v.get=function(n){if(Q.isEmptyOrNull(n))throw new ss.ArgumentNullException("key");v.$initialize();var t=v.$knownTypes[n.toLowerCase()];if(ss.isNullOrUndefined(t))throw new ss.Exception(ss.formatString("Can't find {0} formatter type!",n));return t};v.$initialize=function(){var f,t,h,e,i,n,r,u,o,s;if(!ss.isValue(v.$knownTypes)){for(v.$knownTypes={},f=ss.getAssemblies(),t=0;t<f.length;t++)for(h=f[t],e=ss.getAssemblyTypes(h),i=0;i<e.length;i++)if((n=e[i],ss.isAssignableFrom(et,n))&&!ss.isGenericTypeDefinition(n))for(r=ss.getTypeFullName(n).toLowerCase(),v.$knownTypes[r]=n,u=0;u<Q.Config.rootNamespaces.length;u++)o=Q.Config.rootNamespaces[u],ss.startsWithString(r,o.toLowerCase()+".")&&(s=r.substr(o.length+1).toLowerCase(),ss.isNullOrUndefined(v.$knownTypes[s])&&(v.$knownTypes[s]=n));v.$setTypeKeysWithoutFormatterSuffix()}};v.reset=function(){v.$knownTypes=null};v.$setTypeKeysWithoutFormatterSuffix=function(){for(var n,t,r="formatter",u=Object.keys(v.$knownTypes),i=0;i<u.length;i++)(n=u[i],ss.endsWithString(n,r))&&((t=n.substr(0,n.length-r.length),Q.isEmptyOrNull(t))||ss.isValue(v.$knownTypes[t])||(v.$knownTypes[t]=v.$knownTypes[n]))};global.Serenity.FormatterTypeRegistry=v;vf=function(n,t){var e,i,r,u,f;this.$map=null;Serenity.Widget.call(this,n,t);e=new google.maps.LatLng(ss.coalesce(this.options.latitude,0),ss.coalesce(this.options.longitude,0));i={};i.center=e;i.mapTypeId=ss.coalesce(this.options.mapTypeId,"roadmap");i.zoom=ss.coalesce(this.options.zoom,15);i.zoomControl=!0;this.$map=new google.maps.Map(n[0],i);ss.isValue(this.options.markerTitle)&&(r={},u=this.options.markerLatitude,ss.isNullOrUndefined(u)&&(u=ss.coalesce(this.options.latitude,0)),f=this.options.markerLongitude,ss.isNullOrUndefined(f)&&(f=ss.coalesce(this.options.longitude,0)),r.position=new google.maps.LatLng(u,f),r.map=this.$map,r.title=this.options.markerTitle,r.animation=2,new google.maps.Marker(r));Serenity.LazyLoadHelper.executeOnceWhenShown(n,ss.mkdel(this,function(){google.maps.event.trigger(this.$map,"resize",[]);this.$map.setCenter(e)}))};vf.__typeName="Serenity.GoogleMap";global.Serenity.GoogleMap=vf;pe=function(){};pe.__typeName="Serenity.GridRows";global.Serenity.GridRows=pe;yf=function(n){this.$idField=null;this.$grid=null;this.$include={};this.$grid=n;this.$idField=n.getView().idField;n.getGrid().onClick.subscribe(ss.mkdel(this,function(t,i){var f,r,u;if($(t.target).hasClass("select-item")){for(t.preventDefault(),f=n.getView().getItem(ss.unbox(ss.cast(i.row,ss.Int32))),r=f[this.$idField].toString(),ss.keyExists(this.$include,ss.cast(r,String))?delete this.$include[ss.cast(r,String)]:this.$include[ss.cast(r,String)]=!0,u=0;u<n.getView().getLength();u++)n.getGrid().updateRow(u);this.$updateSelectAll()}}));n.getGrid().onHeaderClick.subscribe(ss.mkdel(this,function(t){var e,r,i,u,f;if(!t.isDefaultPrevented()&&$(t.target).hasClass("select-all-items")){if(t.preventDefault(),e=n.getView(),ss.getKeyCount(this.$include)>0)ss.clearKeys(this.$include);else for(r=n.getView().getItems(),i=0;i<r.length;i++)u=r[i],f=u[this.$idField],this.$include[ss.cast(f.toString(),String)]=!0;this.$updateSelectAll();n.getView().setItems(n.getView().getItems(),!0)}}));n.getView().onRowsChanged.subscribe(ss.mkdel(this,function(){return this.$updateSelectAll()}))};yf.__typeName="Serenity.GridRowSelectionMixin";yf.createSelectColumn=function(n){return{name:'<span class="select-all-items check-box no-float "><\/span>',toolTip:" ",field:"__select__",width:26,minWidth:26,headerCssClass:"select-all-header",sortable:!1,format:function(t){var u=t.item,i=n(),r;return ss.isNullOrUndefined(i)?"":(r=!!ss.keyExists(i.$include,ss.cast(t.item[i.$idField].toString(),String)),'<span class="select-item check-box no-float '+(r?" checked":"")+'"><\/span>')}}};global.Serenity.GridRowSelectionMixin=yf;ur=function(){};ur.__typeName="Serenity.GridSelectAllButtonHelper";ur.update=function(n,t){var r=n,u=r.element.children(".s-Toolbar"),e,i;u.length!==0&&(e=f.getWidget(vi).call(null,u).findButton("select-all-button"),i=r.view.getItems(),e.toggleClass("checked",i.length>0&&!i.some(function(n){return!t(n)})))};ur.define=function(n,t,i,r,u,e){return{title:ss.coalesce(u,"Tümünü Seç"),cssClass:"select-all-button",onClick:function(){var h=n(),i=h.view,c=f.getWidget(vi).call(null,h.element.children(".s-Toolbar")).findButton("select-all-button"),l=!c.hasClass("checked"),s,u,o;i.beginUpdate();try{for(s=i.getItems(),u=0;u<s.length;u++)o=s[u],r(o,l),i.updateItem(t(o),o);ss.staticEquals(e,null)||e()}finally{i.endUpdate()}c.toggleClass("checked",l)}}};global.Serenity.GridSelectAllButtonHelper=ur;tt=function(){};tt.__typeName="Serenity.GridUtils";tt.addToggleButton=function(n,t,i,r,u){var f=$('<div><a href="#"><\/a><\/div>').addClass("s-ToggleButton").addClass(t).prependTo(n);f.children("a").click(function(n){n.preventDefault();f.toggleClass("pressed");var t=f.hasClass("pressed");ss.staticEquals(i,null)||i(t)}).attr("title",ss.coalesce(r,""));u&&f.addClass("pressed")};tt.addIncludeDeletedToggle=function(n,t,i,r){var e=!1,f=t.onSubmit,u;t.onSubmit=function(n){return(n.params.IncludeDeleted=e,!ss.staticEquals(f,null))?f(n):!0};u=i;ss.isNullOrUndefined(u)&&(u=Q.text("Controls.EntityGrid.IncludeDeletedToggle"));tt.addToggleButton(n,"s-IncludeDeletedToggle",function(n){e=n;t.seekToPage=1;t.populate()},u,r);n.bind("remove",function(){t.onSubmit=null;f=null})};tt.addQuickSearchInput=function(n,t,i){var e=t.onSubmit,u="",f="",r;t.onSubmit=function(n){return(ss.isValue(u)&&u.length>0?n.params.ContainsText=u:delete n.params.ContainsText,ss.isValue(f)&&f.length>0?n.params.ContainsField=f:delete n.params.ContainsField,!ss.staticEquals(e,null))?e(n):!0};r=null;tt.addQuickSearchInputCustom$1(n,function(n,i,e){u=i;f=n;t.seekToPage=1;r=e;t.populate()},i);t.onDataLoaded.subscribe(function(){ss.staticEquals(r,null)||(r(t.getLength()>0),r=null)})};tt.addQuickSearchInputCustom=function(n,t){tt.addQuickSearchInputCustom$1(n,function(n,i,r){t(n,i);r(!0)},null)};tt.addQuickSearchInputCustom$1=function(n,t,i){var r=$('<div><input type="text"/><\/div>').addClass("s-QuickSearchBar").prependTo(n),u;ss.isValue(i)&&i.length>0&&r.addClass("has-quick-search-fields");r=r.children();u=ai.$ctor();u.fields=i;u.onSearch=t;new ku(r,u)};tt.makeOrderable=function(n,t){var i=new Slick.RowMoveManager({cancelEditOnDrag:!0});i.onBeforeMoveRows.subscribe(function(n,t){for(var i=0;!!(i<t.rows.length);i++)if(!!(ss.referenceEquals(t.rows[i],t.insertBefore)||ss.referenceEquals(t.rows[i],t.insertBefore-1)))return n.stopPropagation(),!1;return!0});i.onMoveRows.subscribe(function(i,r){var u=ss.cast(r.rows,Array),f=ss.unbox(ss.cast(r.insertBefore,ss.Int32));t(u,f);try{n.setSelectedRows([])}catch(e){}});n.registerPlugin(i)};tt.makeOrderableWithUpdateRequest=function(){return function(n,t,i,r,u){tt.makeOrderable(n.slickGrid,function(f,e){var o,c,s,h;f.length!==0&&(c=e,c<0?o=1:e>=n.rows.getDataLength()?(o=ss.coalesce(i(n.rows.getDataItem(n.rows.getDataLength()-1)),0),o=o===0?e+1:o+1):(o=ss.coalesce(i(n.rows.getDataItem(e)),0),o===0&&(o=e+1)),s=0,h=null,h=function(){Q.serviceCall({service:r,request:u(t(n.rows.getDataItem(f[s])),o++),onSuccess:function(){s++;s<f.length?h():n.view.populate()}})},h())})}};global.Serenity.GridUtils=tt;hi=function(){};hi.__typeName="Serenity.HiddenAttribute";global.Serenity.HiddenAttribute=hi;lu=function(n){this.hint=null;this.hint=n};lu.__typeName="Serenity.HintAttribute";global.Serenity.HintAttribute=lu;at=function at(n,t){var i,r,u;this.$instanceReady=!1;Serenity.Widget.call(this,n,t);at.$includeCKEditor();i=n.attr("id");Q.isTrimmedEmpty(i)&&(n.attr("id",this.uniqueName),i=this.uniqueName);ss.isValue(this.options.cols)&&n.attr("cols",ss.unbox(this.options.cols).toString());ss.isValue(this.options.rows)&&n.attr("rows",ss.unbox(this.options.rows).toString());r=this;u=this.getConfig();CKEDITOR.replace(i,u);this.addValidationRule(this.uniqueName,function(n){if(n.hasClass("required")){var t=Q.trimToNull(r.get_value());if(ss.isNullOrUndefined(t))return Q.text("Validation.Required")}return null})};at.__typeName="Serenity.HtmlContentEditor";at.$includeCKEditor=function(){var t=window.window,n;ss.isValue(t.CKEDITOR)||(n=$("CKEditorScript"),n.length>0)||$("<script/>").attr("type","text/javascript").attr("id","CKEditorScript").attr("src",Q.resolveUrl("~/Scripts/CKEditor/ckeditor.js")).appendTo(window.document.head)};global.Serenity.HtmlContentEditor=at;wt=function(){};wt.__typeName="Serenity.HtmlContentEditorOptions";wt.createInstance=function(){return wt.$ctor()};wt.$ctor=function(){var n={};return n.cols=null,n.rows=null,n.cols=80,n.rows=6,n};wt.isInstanceOfType=function(){return!0};global.Serenity.HtmlContentEditorOptions=wt;pf=function(n,t){at.call(this,n,t)};pf.__typeName="Serenity.HtmlNoteContentEditor";global.Serenity.HtmlNoteContentEditor=pf;wf=function(n,t){at.call(this,n,t)};wf.__typeName="Serenity.HtmlReportContentEditor";global.Serenity.HtmlReportContentEditor=wf;bf=function(){};bf.__typeName="Serenity.IAsyncInit";global.Serenity.IAsyncInit=bf;dr=function(){};dr.__typeName="Serenity.IBooleanValue";global.Serenity.IBooleanValue=dr;gr=function(){};gr.__typeName="Serenity.IDataGrid";global.Serenity.IDataGrid=gr;ni=function(){};ni.__typeName="Serenity.IDialog";global.Serenity.IDialog=ni;gi=function(){};gi.__typeName="Serenity.IDoubleValue";global.Serenity.IDoubleValue=gi;fr=function(){};fr.__typeName="Serenity.IEditDialog";global.Serenity.IEditDialog=fr;d=function(){};d.__typeName="Serenity.IFiltering";global.Serenity.IFiltering=d;g=function(){};g.__typeName="Serenity.IGetEditValue";global.Serenity.IGetEditValue=g;au=function(){};au.__typeName="Serenity.IInitializeColumn";global.Serenity.IInitializeColumn=au;vu=function(n,t){var i,r,u;this.entity=null;this.toolbar=null;this.fileSymbols=null;this.uploadInput=null;Serenity.Widget.call(this,n,t);n.addClass("s-ImageUploadEditor");Q.isEmptyOrNull(this.options.originalNameProperty)&&n.addClass("hide-original-name");i=this;this.toolbar=new vi($("<div/>").appendTo(this.element),{buttons:this.getToolButtons()});r=$("<div><div><\/div><\/div>").addClass("upload-progress").prependTo(this.toolbar.element);u=this.toolbar.findButton("add-file-button");this.uploadInput=h.addUploadInput({container:u,inputName:this.uniqueName,progress:r,fileDone:ss.mkdel(this,function(n,t){if(h.checkImageConstraints(n,this.options)){var r={OriginalName:t,Filename:n.TemporaryFile};i.entity=r;i.populate();i.updateInterface()}})});this.fileSymbols=$("<ul/>").appendTo(this.element);this.updateInterface()};vu.__typeName="Serenity.ImageUploadEditor";global.Serenity.ImageUploadEditor=vu;ti=function(){};ti.__typeName="Serenity.ImageUploadEditorOptions";ti.createInstance=function(){return ti.$ctor()};ti.$ctor=function(){var n={};return n.minWidth=0,n.maxWidth=0,n.minHeight=0,n.maxHeight=0,n.minSize=0,n.maxSize=0,n.originalNameProperty=null,n.urlPrefix=null,n.allowNonImage=!1,n};ti.isInstanceOfType=function(){return!0};global.Serenity.ImageUploadEditorOptions=ti;kf=function(n){this.value=!1;this.value=n};kf.__typeName="Serenity.InsertableAttribute";global.Serenity.InsertableAttribute=kf;er=function(n,t){Serenity.Widget.call(this,n,t);n.addClass("integerQ");var i=$.extend(kt.defaultAutoNumericOptions(),{vMin:ss.coalesce(this.options.minValue,0),vMax:ss.coalesce(this.options.maxValue,2147483647),aSep:null});n.autoNumeric(i)};er.__typeName="Serenity.IntegerEditor";global.Serenity.IntegerEditor=er;nr=function(){};nr.__typeName="Serenity.IntegerEditorOptions";nr.createInstance=function(){return nr.$ctor()};nr.$ctor=function(){var n={};return n.minValue=null,n.maxValue=null,n.minValue=0,n.maxValue=2147483647,n};nr.isInstanceOfType=function(){return!0};global.Serenity.IntegerEditorOptions=nr;we=function(){ss.makeGenericType(w,[er]).call(this)};we.__typeName="Serenity.IntegerFiltering";global.Serenity.IntegerFiltering=we;it=function(){};it.__typeName="Serenity.IQuickFiltering";global.Serenity.IQuickFiltering=it;y=function(){};y.__typeName="Serenity.IReadOnly";global.Serenity.IReadOnly=y;nt=function(){};nt.__typeName="Serenity.ISetEditValue";global.Serenity.ISetEditValue=nt;et=function(){};et.__typeName="Serenity.ISlickFormatter";global.Serenity.ISlickFormatter=et;o=function(){};o.__typeName="Serenity.IStringValue";global.Serenity.IStringValue=o;df=function(){};df.__typeName="Serenity.IValidateRequired";global.Serenity.IValidateRequired=df;nu=function(n,t){ot.call(this,n,t)};nu.__typeName="Serenity.LookupEditor";global.Serenity.LookupEditor=nu;ot=function(n,t){this.$cascadeLink=null;this.onInitNewEntity=null;p.call(this,n,t);this.$setCascadeFrom(this.options.cascadeFrom);var i=this;this.isAsyncWidget()||(this.updateItems(),Q.ScriptData.bindToChange("Lookup."+this.getLookupKey(),this.uniqueName,function(){i.updateItems()}));this.options.inplaceAdd&&(ss.isNullOrUndefined(this.options.inplaceAddPermission)||Q.Authorization.hasPermission(this.options.inplaceAddPermission))&&this.addInplaceCreate(Q.text("Controls.SelectEditor.InplaceAdd"),null)};ot.__typeName="Serenity.LookupEditorBase";global.Serenity.LookupEditorBase=ot;be=function(){ss.makeGenericType(w,[nu]).call(this)};be.__typeName="Serenity.LookupFiltering";global.Serenity.LookupFiltering=be;yu=function(n,t){Serenity.Widget.call(this,n,t);n.mask(this.options.mask,{placeholder:this.options.placeholder})};yu.__typeName="Serenity.MaskedEditor";global.Serenity.MaskedEditor=yu;ci=function(){};ci.__typeName="Serenity.MaskedEditorOptions";ci.createInstance=function(){return ci.$ctor()};ci.$ctor=function(){var n={};return n.mask=null,n.placeholder=null,n.mask="",n.placeholder="_",n};ci.isInstanceOfType=function(){return!0};global.Serenity.MaskedEditorOptions=ci;gf=function(n){this.maxLength=0;this.maxLength=n};gf.__typeName="Serenity.MaxLengthAttribute";global.Serenity.MaxLengthAttribute=gf;pu=function(){};pu.__typeName="Serenity.MinuteFormatter";pu.format=function(n){var t=ss.Int32.trunc(Math.floor(n/60)),i=n-t*60,r,u;return!ss.isValue(n)||isNaN(n)?"":(r=t<10?"0"+t:t.toString(),u=i<10?"0"+i:i.toString(),ss.formatString("{0}:{1}",r,u))};global.Serenity.MinuteFormatter=pu;wu=function(n,t){var i,r,u;this.entities=null;this.toolbar=null;this.fileSymbols=null;this.uploadInput=null;this.$4$JsonEncodeValueField=!1;Serenity.Widget.call(this,n,t);this.entities=[];n.addClass("s-MultipleImageUploadEditor");i=this;this.toolbar=new vi($("<div/>").appendTo(this.element),{buttons:this.getToolButtons()});r=$("<div><div><\/div><\/div>").addClass("upload-progress").prependTo(this.toolbar.element);u=this.toolbar.findButton("add-file-button");this.uploadInput=h.addUploadInput({container:u,inputName:this.uniqueName,progress:r,fileDone:ss.mkdel(this,function(n,t){if(h.checkImageConstraints(n,this.options)){var r={OriginalName:t,Filename:n.TemporaryFile};i.entities.push(r);i.populate();i.updateInterface()}})});this.fileSymbols=$("<ul/>").appendTo(this.element);this.updateInterface()};wu.__typeName="Serenity.MultipleImageUploadEditor";global.Serenity.MultipleImageUploadEditor=wu;or=function(){this.$1$DisplayFormatField=null};or.__typeName="Serenity.NumberFormatter";or.format=function(n,t){if(t=ss.coalesce(t,"0.##"),!ss.isValue(n))return"";if(typeof n=="number")return isNaN(n)?"":Q.htmlEncode(Q.formatNumber(n,t));var i=Q.parseDecimal(n.toString());return ss.isNullOrUndefined(i)?"":Q.htmlEncode(n.toString())};global.Serenity.NumberFormatter=or;ne=function(){};ne.__typeName="Serenity.OneWayAttribute";global.Serenity.OneWayAttribute=ne;te=function(n){ri.call(this,n);n.attr("type","password")};te.__typeName="Serenity.PasswordEditor";global.Serenity.PasswordEditor=te;ie=function(n){Serenity.Widget.call(this,n,{});this.addValidationRule(this.uniqueName,ss.mkdel(this,function(){return new RegExp("^[ A-Za-zıİğĞöÖüÜşŞÇç]+$").test(Q.trimToEmpty(this.get_value()))?null:"Lütfen sadece harflerden oluşan bir metin giriniz!"}))};ie.__typeName="Serenity.PersonNameEditor";global.Serenity.PersonNameEditor=ie;r=function(n,t){var r,i;Serenity.Widget.call(this,n,t);r=this;this.addValidationRule(this.uniqueName,ss.mkdel(this,function(){var n=Q.trimToNull(this.get_value());return ss.isNullOrUndefined(n)?null:this.validate(n)}));i=this.options.internal?"Dahili telefon numarası '456, 8930, 12345' formatlarında":this.options.mobile?"Cep telefonu numarası '(533) 342 01 89' formatında":"Telefon numarası '(216) 432 10 98' formatında";this.options.multiple&&(i=ss.replaceAllString(i,"numarası","numaraları")+" ve birden fazlaysa virgülle ayrılarak ");i+=" girilmelidir.";n.attr("title",i);n.bind("change",ss.mkdel(this,function(n){f.hasOriginalEvent(n)&&this.formatValue()}));n.bind("blur",ss.mkdel(this,function(){this.element.hasClass("valid")&&this.formatValue()}));n.bind("keyup",ss.mkdel(this,function(t){var i,r,u;if(!this.options.internal&&(i=ss.coalesce(n.val(),""),!!(i.length>0&&ss.referenceEquals(n[0].selectionEnd,i.length)&&(t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&i.charCodeAt(i.length-1)>=48&&i.charCodeAt(i.length-1)<=57&&!ss.startsWithString(i,"+")&&i.indexOf(String.fromCharCode(47))<0)))if(ss.isNullOrUndefined(this.validate(i)))this.formatValue();else for(r=1;r<=7;r++)if(i+="9",ss.isNullOrUndefined(this.validate(i))){for(this.set_value(i),this.formatValue(),i=this.get_value(),u=1;u<=r;u++)i=i.trim(),i=i.substr(0,i.length-1);this.set_value(i);break}}))};r.__typeName="Serenity.PhoneEditor";r.$formatMulti=function(n,t){for(var e,u,f=ss.replaceAllString(n,String.fromCharCode(59),String.fromCharCode(44)).split(String.fromCharCode(44)),i="",r=0;r<f.length;r++)(e=f[r],u=Q.trimToNull(e),ss.isNullOrUndefined(u))||(i.length>0&&(i+=", "),i+=t(u));return i};r.$formatPhoneTurkey=function(n){return r.$isValidPhoneTurkey(n)?(n=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(n," ",""),"(",""),")",""),ss.startsWithString(n,"0")&&(n=n.substring(1)),"("+n.substr(0,3)+") "+n.substr(3,3)+" "+n.substr(6,2)+" "+n.substr(8,2)):n};r.$formatPhoneTurkeyMulti=function(n){return r.$isValidPhoneTurkeyMulti(n)?r.$formatMulti(n,r.$formatPhoneTurkey):n};r.$formatMobileTurkey=function(n){return r.$isValidMobileTurkey(n)?r.$formatPhoneTurkey(n):n};r.$formatMobileTurkeyMulti=function(n){return r.$isValidMobileTurkeyMulti(n)?r.$formatPhoneTurkeyMulti(n):n};r.$formatPhoneInternal=function(n){return r.$isValidPhoneInternal(n)?n.trim():n};r.$formatPhoneInternalMulti=function(n){return r.$isValidPhoneInternalMulti(n)?r.$formatMulti(n,r.$formatPhoneInternal):n};r.$isValidPhoneTurkeyMulti=function(n){return r.$isValidMulti(n,r.$isValidPhoneTurkey)};r.$isValidMobileTurkeyMulti=function(n){return r.$isValidMulti(n,r.$isValidMobileTurkey)};r.$isValidPhoneInternalMulti=function(n){return r.$isValidMulti(n,r.$isValidPhoneInternal)};r.$validate=function(n,t,i,u,f,e){var o,s,h;return(o=i?r.$isValidPhoneInternal:u?r.$isValidMobileTurkey:r.$isValidPhoneTurkey,s=function(n){var t,r;return o(n)?!0:i?!1:(n=ss.coalesce(n,"").trim(),ss.startsWithString(n,"+"))?f&&n.length>7?!0:!1:e&&n.indexOf(String.fromCharCode(47))>0?(t=ss.netSplit(n,[47].map(function(n){return String.fromCharCode(n)})),t.length!==2)?!1:t[0].length<5||!o(t[0])?!1:(r={},!ss.Int32.tryParse(t[1].trim(),r))?!1:!0:!1},h=t?r.$isValidMulti(n,s):s(n),h)?null:t?i?"Dahili telefon numaraları '4567' formatında ve birden fazlaysa virgülle ayrılarak girilmelidir!":u?"Telefon numaraları '(533) 342 01 89' formatında ve birden fazlaysa virgülle ayrılarak girilmelidir!":"Telefon numaları '(216) 432 10 98' formatında ve birden fazlaysa virgülle ayrılarak girilmelidir!":i?"Dahili telefon numarası '4567' formatında girilmelidir!":u?"Telefon numarası '(533) 342 01 89' formatında girilmelidir!":"Telefon numarası '(216) 432 10 98' formatında girilmelidir!"};r.$isValidPhoneTurkey=function(n){var t,i;if(Q.isEmptyOrNull(n)||(n=ss.replaceAllString(n," ",""),n.length<10)||(ss.startsWithString(n,"0")&&(n=n.substring(1)),ss.startsWithString(n,"(")&&n.charCodeAt(4)===41&&(n=n.substr(1,3)+n.substring(5)),n.length!==10)||ss.startsWithString(n,"0"))return!1;for(t=0;t<n.length;t++)if(i=n.charCodeAt(t),i<48||i>57)return!1;return!0};r.$isValidMobileTurkey=function(n){if(!r.$isValidPhoneTurkey(n))return!1;n=ss.trimStartString(n);n=ss.replaceAllString(n," ","");var t=0;return(ss.startsWithString(n,"0")&&t++,n.charCodeAt(t)===53||n.charCodeAt(t)===40&&n.charCodeAt(t+1)===53)?!0:!1};r.$isValidPhoneInternal=function(n){var t,i;if(Q.isEmptyOrNull(n)||(n=n.trim(),n.length<2||n.length>5))return!1;for(t=0;t<n.length;t++)if(i=n.charCodeAt(t),i<48||i>57)return!1;return!0};r.$isValidMulti=function(n,t){var r,u,i,e,f;if(Q.isEmptyOrNull(n))return!1;for(r=ss.replaceAllString(n,String.fromCharCode(59),String.fromCharCode(44)).split(String.fromCharCode(44)),u=!1,i=0;i<r.length;i++)if(e=r[i],f=Q.trimToNull(e),!ss.isNullOrUndefined(f)){if(!t(f))return!1;u=!0}return u?!0:!1};global.Serenity.PhoneEditor=r;li=function(){};li.__typeName="Serenity.PhoneEditorOptions";li.createInstance=function(){return li.$ctor()};li.$ctor=function(){var n={};return n.multiple=!1,n.internal=!1,n.mobile=!1,n.allowExtension=!1,n.allowInternational=!1,n};li.isInstanceOfType=function(){return!0};global.Serenity.PhoneEditorOptions=li;bu=function(n){this.value=null;this.value=n};bu.__typeName="Serenity.PlaceholderAttribute";global.Serenity.PlaceholderAttribute=bu;tu=function(n,t){Serenity.Widget.call(this,n,t);var i=this;n.addClass("s-PopupMenuButton");n.click(ss.mkdel(this,function(n){var t,r;n.preventDefault();n.stopPropagation();ss.staticEquals(this.options.onPopup,null)||this.options.onPopup();t=i.options.menu;t.show().position({my:ss.coalesce(this.options.positionMy,"left top"),at:ss.coalesce(this.options.positionAt,"left bottom"),of:i.element});r=i.uniqueName;$(document).one("click."+r,function(){t.hide()})}));i.options.menu.hide().appendTo(document.body).addClass("s-PopupMenu").menu()};tu.__typeName="Serenity.PopupMenuButton";global.Serenity.PopupMenuButton=tu;ke=function(n,t){tu.call(this,n,t);n.addClass("s-PopupToolButton");$("<b/>").appendTo(n.children(".button-outer").children("span"))};ke.__typeName="Serenity.PopupToolButton";global.Serenity.PopupToolButton=ke;de=function(n){this.idPrefix=null;this.idPrefix=n};de.__typeName="Serenity.PrefixedContext";global.Serenity.PrefixedContext=de;ge=function(n){this.$entity=null;this.$entityId=null;this.propertyGrid=null;Serenity.TemplatedDialog.call(this,n);this.isAsyncWidget()||(this.$initPropertyGrid(),this.loadInitialEntity())};ge.__typeName="Serenity.PropertyDialog";global.Serenity.PropertyDialog=ge;no=function(){iu.call(this)};no.__typeName="Serenity.PropertyEditorHelper";global.Serenity.PropertyEditorHelper=no;c=function c(n,t){var f,l,e,i,r,o,s,a,y;this.$editors=null;this.$items=null;Serenity.Widget.call(this,n,t);ss.isValue(t.mode)||(t.mode=0);this.$items=this.options.items||[];n.addClass("s-PropertyGrid");this.$editors=[];var h={},u=n,v=this.options.useCategories&&Q.any(this.$items,function(n){return!ss.isNullOrEmptyString(n.category)});for(this.options.useCategories&&(f=$("<div/>").addClass("category-links"),h=this.$createCategoryLinks(f,this.$items),ss.getKeyCount(h)>1?f.appendTo(n):f.find("a.category-link").unbind("click",c.$categoryLinkClick).remove()),u=$("<div/>").addClass("categories").appendTo(n),l=v?u:$("<div/>").addClass("category").appendTo(u),e=null,i=0;i<this.$items.length;i++)r=this.$items[i],o=r.category,ss.isNullOrUndefined(o)&&(o=ss.coalesce(this.options.defaultCategory,"")),s=o,v&&!ss.referenceEquals(e,s)&&(a=this.$createCategoryDiv(u,h,s,r.collapsible!==!0?null:ss.coalesce(r.collapsed,!1)),ss.isNullOrUndefined(e)&&a.addClass("first-category"),e=s,l=a),y=this.$createField(l,r),this.$editors[i]=y;this.$updateInterface()};c.__typeName="Serenity.PropertyGrid";c.$categoryLinkClick=function(n){var t,i,r;n.preventDefault();t=$("a[name="+n.target.getAttribute("href").toString().substr(1)+"]");t.closest(".category").hasClass("collapsed")&&t.closest(".category").children(".category-title").click();i=function(){t.fadeTo(100,.5,function(){t.fadeTo(100,1,function(){})})};r=t.closest(".category");r.closest(":scrollable(both)").length===0?i():r.scrollintoview({duration:"fast",direction:"y",complete:i})};c.loadEditorValue=function(){};c.saveEditorValue=function(n,t,i){e.saveValue(n,t,i)};c.$setMaxLength=function(n,t){n.element.is(":input")&&(t>0?n.element.attr("maxlength",t.toString()):n.element.removeAttr("maxlength"))};c.setRequired=function(n,t){e.setRequired(n,t)};c.setReadOnly=function(n,t){e.setReadOnly(n,t)};c.setReadOnly$1=function(n,t){return e.setReadonly(n,t)};global.Serenity.PropertyGrid=c;to=function(){};to.__typeName="Serenity.PropertyGridMode";global.Serenity.PropertyGridMode=to;st=function(){};st.__typeName="Serenity.PropertyGridOptions";st.createInstance=function(){return st.$ctor()};st.$ctor=function(){var n={};return n.idPrefix=null,n.items=null,n.useCategories=!1,n.categoryOrder=null,n.defaultCategory=null,n.localTextPrefix=null,n.mode=0,n.useCategories=!0,n.defaultCategory=Q.text("Controls.PropertyGrid.DefaultCategory"),n};st.isInstanceOfType=function(){return!0};global.Serenity.PropertyGridOptions=st;iu=function(){};iu.__typeName="Serenity.PropertyItemHelper";iu.getPropertyItemsFor=function(n){var e,c,o,t,r,rt,l,ot,a,s,v,y,p,w,d,g,nt,tt,h,it,f;if(ss.isNullOrUndefined(n))throw new ss.Exception("type");for(e=[],c=ss.getMembers(n,31,20),o=0;o<c.length;o++)if((t=c[o],r={},t.type===16||t.type===4)&&(rt=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,hi)}),!(rt.length>0))){var ut=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,i)}),ft=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,lu)}),et=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,bu)}),u=t.type===16?ss.cast(t,ss.isValue(t)&&t.type===16).returnType:ss.cast(t,ss.isValue(t)&&t.type===4).returnType;if(t.type===16){if(l=ss.cast(t,ss.isValue(t)&&t.type===16),ss.isNullOrUndefined(l.fname))continue;r.name=l.fname}else if(t.type===4)ot=ss.cast(t,ss.isValue(t)&&t.type===4),r.name=ot.sname;else continue;a=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,fu)});a.length>0?r.category=ss.cast(a[0],fu).category:e.length>0&&(r.category=e[e.length-1].category);s=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,pr)});s.length>0&&ss.cast(s[0],pr).value&&(r.collapsible=!0,r.collapsed=ss.cast(s[0],pr).collapsed);v=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,ou)});v.length>0&&(r.cssClass=ss.cast(v[0],ou).cssClass);(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,ne)}).length>0&&(r.oneWay=!0);(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,re)}).length>0&&(r.readOnly=!0);ut.length>0&&(r.title=ss.cast(ut[0],i).displayName);ft.length>0&&(r.hint=ss.cast(ft[0],lu).hint);et.length>0&&(r.placeholder=ss.cast(et[0],bu).value);ss.isNullOrUndefined(r.title)&&(r.title=r.name);y=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,su)});y.length===1&&(r.defaultValue=ss.cast(y[0],su).value);p=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,kf)});r.insertable=p.length>0?p[0].value:!0;w=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,ee)});r.updatable=w.length>0?w[0].value:!0;var st=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,wi)}),b=u,k=null;for(ss.isEnum(u)?k=u:ss.isValue(b)&&ss.isEnum(b)&&(k=b),st.length===0?r.editorType=ss.isValue(k)?"Select":ss.referenceEquals(u,ss.JsDate)?"Date":ss.referenceEquals(u,Boolean)?"Boolean":ss.referenceEquals(u,Number)||ss.referenceEquals(u,Number)?"Decimal":ss.referenceEquals(u,ss.Int32)?"Integer":"String":(d=ss.cast(st[0],wi),r.editorType=d.editorType,d.setParams(r.editorParams)),g=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,fe)}),g.length>0&&(r.required=g[0].isRequired),nt=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,gf)}),nt.length>0&&(r.maxLength=nt.maxLength,r.editorParams.maxLength=r.maxLength),tt=(t.attr||[]).filter(function(n){return ss.isInstanceOfType(n,hu)}),h=0;h<tt.length;h++)it=tt[h],f=it.key,ss.isValue(f)&&f.length>=1&&(f=f.substr(0,1).toLowerCase()+f.substring(1)),r.editorParams[f]=it.value;e.push(r)}return e};global.Serenity.PropertyItemHelper=iu;sr=function(){};sr.__typeName="Serenity.PropertyItemSlickConverter";sr.toSlickColumns=function(n){var i=[],t;if(ss.isNullOrUndefined(n))return i;for(t=0;t<n.length;t++)i.push(sr.toSlickColumn(n[t]));return i};sr.toSlickColumn=function(n){var t={},r,i,u;return t.sourceItem=n,t.visible=n.visible!==!1&&n.filterOnly!==!0&&(ss.isNullOrUndefined(n.readPermission)||Q.Authorization.hasPermission(n.readPermission)),t.field=n.name,r=Q.tryGetText(n.title),ss.isNullOrUndefined(r)&&(r=n.title),t.name=r,t.cssClass=n.cssClass,t.headerCssClass=n.headerCssClass,t.sortable=n.sortable!==!1,t.sortOrder=ss.coalesce(n.sortOrder,0),ss.isValue(n.alignment)&&n.alignment.length>0&&(Q.isEmptyOrNull(t.cssClass)?t.cssClass="align-"+n.alignment:t.cssClass+=" align-"+n.alignment),t.width=ss.isValue(n.width)?n.width:80,t.minWidth=ss.coalesce(n.minWidth,30),t.maxWidth=ss.isNullOrUndefined(n.maxWidth)||n.maxWidth===0?null:n.maxWidth,t.resizable=ss.isNullOrUndefined(n.resizable)||ss.unbox(n.resizable),ss.isValue(n.formatterType)&&n.formatterType.length>0&&(i=ss.cast(ss.createInstance(v.get(n.formatterType)),et),ss.isValue(n.formatterParams)&&tr.set(i,n.formatterParams),u=ss.safeCast(i,au),ss.isValue(u)&&u.initializeColumn(t),t.format=ss.mkdel(i,i.format)),t};global.Serenity.PropertyItemSlickConverter=sr;io=function(n,t){this.$entity=null;this.$entityId=null;this.propertyGrid=null;lr.call(this,n,t);this.isAsyncWidget()||(this.$initPropertyGrid(),this.loadInitialEntity())};io.__typeName="Serenity.PropertyPanel";global.Serenity.PropertyPanel=io;vt=function(){};vt.__typeName="Serenity.PublicEditorTypes";vt.$registerType=function(n){var f=ss.getTypeFullName(n),r={type:n},u=ss.getAttributes(n,i,!0),t;r.displayName=ss.isValue(u)&&u.length>0?ss.cast(u[0],i).displayName:ss.getTypeFullName(n);t=ss.getAttributes(n,Serenity.OptionsTypeAttribute,!0);ss.isValue(t)&&t.length>0&&(r.optionsType=t[0].optionsType);vt.$registeredTypes[f]=r};vt.get_registeredTypes=function(){var n,t;if(ss.isNullOrUndefined(vt.$registeredTypes)){vt.$registeredTypes={};s.$initialize();n=new ss.ObjectEnumerator(s.$knownTypes);try{while(n.moveNext())(t=n.current(),ss.keyExists(vt.$registeredTypes,ss.getTypeFullName(t.value)))||vt.$registerType(t.value)}finally{n.dispose()}}return vt.$registeredTypes};global.Serenity.PublicEditorTypes=vt;ku=function(n,t){var i,e,u,r,f,o;if(this.$lastValue=null,this.$timer=0,this.$field=null,this.$fieldChanged=!1,Serenity.Widget.call(this,n,t),n.attr("title",Q.text("Controls.QuickSearch.Hint")).attr("placeholder",Q.text("Controls.QuickSearch.Placeholder")),this.$lastValue=Q.trim(ss.coalesce(n.val(),"")),i=this,this.element.bind("keyup."+this.uniqueName,function(){i.checkIfValueChanged()}),this.element.bind("change."+this.uniqueName,function(){i.checkIfValueChanged()}),$("<span><i><\/i><\/span>").addClass("quick-search-icon").insertBefore(n),ss.isValue(this.options.fields)&&this.options.fields.length>0){for(e=$("<a/>").addClass("quick-search-field").attr("title",Q.text("Controls.QuickSearch.FieldSelection")).insertBefore(n),u=$("<ul><\/ul>").css("width","120px"),r=0;r<this.options.fields.length;r++)f=this.options.fields[r],o={$:f},$("<li><a/><\/li>").appendTo(u).children().attr("href","#").text(ss.coalesce(f.title,"")).click(ss.mkdel({field:o,$this:this},function(n){n.preventDefault();this.$this.$fieldChanged=!ss.referenceEquals(i.$field,this.field.$);i.$field=this.field.$;this.$this.$updateInputPlaceHolder();this.$this.checkIfValueChanged()}));new tu(e,{positionMy:"right top",positionAt:"right bottom",menu:u});this.$field=this.options.fields[0];this.$updateInputPlaceHolder()}this.element.bind("execute-search."+this.uniqueName,ss.mkdel(this,function(){!this.$timer||window.clearTimeout(this.$timer);this.$searchNow(Q.trim(ss.coalesce(this.element.val(),"")))}))};ku.__typeName="Serenity.QuickSearchInput";global.Serenity.QuickSearchInput=ku;ai=function(){};ai.__typeName="Serenity.QuickSearchInputOptions";ai.createInstance=function(){return ai.$ctor()};ai.$ctor=function(){var n={};return n.typeDelay=0,n.loadingParentClass=null,n.filteredParentClass=null,n.onSearch=null,n.fields=null,n.typeDelay=500,n.loadingParentClass="s-QuickSearchLoading",n.filteredParentClass="s-QuickSearchFiltered",n};ai.isInstanceOfType=function(){return!0};global.Serenity.QuickSearchInputOptions=ai;ru=function(n,t){var i,u,r,f,o,s,e,h,c;if(Serenity.Widget.call(this,n,t),!Q.isEmptyOrNull(this.options.enumKey)||!ss.isNullOrUndefined(this.options.enumType)||!Q.isEmptyOrNull(this.options.lookupKey))if(Q.isEmptyOrNull(this.options.lookupKey))for(r=this.options.enumType||ut.get(this.options.enumKey),f=this.options.enumKey,ss.isNullOrUndefined(f)&&ss.isValue(r)&&(o=ss.getAttributes(r,Serenity.EnumKeyAttribute,!1),o.length>0&&(f=o[0].value)),s=ss.Enum.getValues(r),e=0;e<s.length;e++)h=s[e],c=ss.Enum.toString(r,h),this.$addRadio(ss.unbox(ss.cast(h,ss.Int32)).toString(),ss.coalesce(Q.tryGetText("Enums."+f+"."+c),c));else for(i=Q.getLookup(this.options.lookupKey),u=0;u<i.items.length;u++){var l=i.items[u],a=l[i.textField],y=ss.isNullOrUndefined(a)?"":a.toString(),v=l[i.idField],p=ss.isNullOrUndefined(v)?"":v.toString();this.$addRadio(p,y)}};ru.__typeName="Serenity.RadioButtonEditor";global.Serenity.RadioButtonEditor=ru;hr=function(){};hr.__typeName="Serenity.RadioButtonEditorOptions";hr.createInstance=function(){return hr.$ctor()};hr.$ctor=function(){var n={};return n.enumKey=null,n.enumType=null,n.lookupKey=null,n};hr.isInstanceOfType=function(){return!0};global.Serenity.RadioButtonEditorOptions=hr;re=function(n){this.value=!1;this.value=n};re.__typeName="Serenity.ReadOnlyAttribute";global.Serenity.ReadOnlyAttribute=re;ue=function(n,t){var u,r,f,i,e,o;Serenity.Widget.call(this,n,t);this.element.addClass("g-recaptcha").attr("data-sitekey",this.options.siteKey);!(ss.isNullOrUndefined(window.window.grecaptcha)&&$("script#RecaptchaInclude").length===0)||(u="https://www.google.com/recaptcha/api.js",r=this.options.language,ss.isNullOrUndefined(r)&&(r=ss.coalesce($("html").attr("lang"),"")),u+="?hl="+r,$("<script/>").attr("id","RecaptchaInclude").attr("src",u).appendTo(document.body));f=$("<input />").insertBefore(this.element).attr("id",this.uniqueName+"_validate").val("x");i={};i.visibility="hidden";i.width="0px";i.height="0px";i.padding="0px";e=f.css(i);o=this;ui.addValidationRule(e,this.uniqueName,ss.mkdel(this,function(){return ss.isNullOrEmptyString(this.get_value())?Q.text("Validation.Required"):null}))};ue.__typeName="Serenity.Recaptcha";global.Serenity.Recaptcha=ue;tr=function(){};tr.__typeName="Serenity.ReflectionOptionsSetter";tr.set=function(n,t){var r,u,f,p,c,e,l,w,a,o,v,s,y;if(!ss.isNullOrUndefined(t)&&(r=ss.getInstanceType(n),!ss.referenceEquals(r,Object))){if(u=r.__propByName,f=r.__fieldByName,ss.isNullOrUndefined(u)){for(p=ss.getMembers(r,16,20),c=p.filter(function(n){return!!n.setter&&((n.attr||[]).filter(function(n){return ss.isInstanceOfType(n,Serenity.OptionAttribute)}).length>0||(n.attr||[]).filter(function(n){return ss.isInstanceOfType(n,i)}).length>0)}),u={},e=0;e<c.length;e++)l=c[e],u[yt.makeCamelCase(l.name)]=l;r.__propByName=u}if(ss.isNullOrUndefined(f)){for(w=ss.getMembers(r,4,20),a=w.filter(function(n){return(n.attr||[]).filter(function(n){return ss.isInstanceOfType(n,Serenity.OptionAttribute)}).length>0||(n.attr||[]).filter(function(n){return ss.isInstanceOfType(n,i)}).length>0}),f={},o=0;o<a.length;o++)v=a[o],f[yt.makeCamelCase(v.name)]=v;r.__fieldByName=f}s=ss.getEnumerator(Object.keys(t));try{while(s.moveNext()){var h=s.current(),b=t[h],k=yt.makeCamelCase(h),d=u[k]||u[h];ss.isValue(d)?ss.midel(d.setter,n)(b):(y=f[k]||f[h],ss.isValue(y)&&ss.fieldAccess(y,n,b))}}finally{s.dispose()}}};global.Serenity.ReflectionOptionsSetter=tr;yt=function(){};yt.__typeName="Serenity.ReflectionUtils";yt.getPropertyValue=function(n,t){var r=n,i=r["get_"+t],u;return!!(typeof i=="undefined")?(u=yt.makeCamelCase(t),i=r["get_"+u],!!!(typeof i=="undefined"))?i.apply(n):r[u]:i.apply(n)};yt.setPropertyValue=function(n,t,i){var u=n,r=u["set_"+t],f;if(!!!(typeof r=="undefined")){r.apply(n,[i]);return}if(f=yt.makeCamelCase(t),r=u["set_"+f],!!!(typeof r=="undefined")){r.apply(n,[i]);return}u[f]=i};yt.makeCamelCase=function(n){var r,t,i;if(ss.isNullOrEmptyString(n))return n;if(n==="ID")return"id";for(r=!1,t=0,i=0;i<n.length;i++)if(n.charCodeAt(i)>=65&&n.charCodeAt(i)<=90)t++;else{r=!0;break}return(r||n.length===1)&&t!==0?t>1?n.substr(0,t-1).toLowerCase()+n.substr(t-1):n.length===1?n.toLowerCase():n.substr(0,1).toLowerCase()+n.substr(1):n};global.Serenity.ReflectionUtils=yt;fe=function(n){this.isRequired=!1;this.isRequired=n};fe.__typeName="Serenity.RequiredAttribute";global.Serenity.RequiredAttribute=fe;du=function(n,t){this.pageSize=50;Serenity.Widget.call(this,n,t);var i=this.emptyItemText();ss.isValue(i)&&n.attr("placeholder",i);n.select2(this.getSelect2Options());n.attr("type","text");n.bind("change."+this.uniqueName,function(t,i){!(f.hasOriginalEvent(t)||!i)||ss.isValue(yi.getValidator(n))&&n.valid()})};du.__typeName="Serenity.Select2AjaxEditor";global.Serenity.Select2AjaxEditor=du;p=function(n,t){var i,r;this.$multiple=!1;this.items=null;this.itemById=null;this.pageSize=100;this.lastCreateTerm=null;Serenity.Widget.call(this,n,t);this.items=[];this.itemById={};i=this.emptyItemText();ss.isValue(i)&&n.attr("placeholder",i);r=this.getSelect2Options();this.$multiple=!!r.multiple;n.select2(r);n.attr("type","text");n.bind("change."+this.uniqueName,function(t,i){!(f.hasOriginalEvent(t)||!i)||ss.isValue(yi.getValidator(n))&&n.valid()})};p.__typeName="Serenity.Select2Editor";global.Serenity.Select2Editor=p;ii=function(n,t){p.call(this,n,t);this.updateItems()};ii.__typeName="Serenity.SelectEditor";global.Serenity.SelectEditor=ii;pt=function(){};pt.__typeName="Serenity.SelectEditorOptions";pt.createInstance=function(){return pt.$ctor()};pt.$ctor=function(){var n={};return n.items=null,n.emptyOptionText=null,n.items=[],n};pt.isInstanceOfType=function(){return!0};global.Serenity.SelectEditorOptions=pt;k=function(){};k.__typeName="Serenity.SlickFormatting";k.getEnumText=function(n){return function(t){return lt.getText(n).call(null,t)}};k.getEnumText$1=function(n,t){return lt.getText$1(n,t)};k.treeToggle=function(n,t,i){return function(r){var u=i(r),e=n(),o=ss.coalesce(r.item._indent,0),f='<span class="s-TreeIndent" style="width:'+15*o+'px"><\/span>',c=t(r.item),l=e.getIdxById(c),s=e.getItemByIdx(ss.unbox(l)+1),h;return ss.isValue(s)&&(h=ss.coalesce(s._indent,0),h>o)?!!r.item._collapsed?f+'<span class="s-TreeToggle s-TreeExpand"><\/span>'+u:f+'<span class="s-TreeToggle s-TreeCollapse"><\/span>'+u:f+'<span class="s-TreeToggle"><\/span>'+u}};k.date=function(n){var t=n;return ss.isNullOrUndefined(t)&&(t=Q.Culture.dateFormat),n=t,function(t){return Q.htmlEncode(bt.format(t.value,n))}};k.dateTime=function(n){var t=n;return ss.isNullOrUndefined(t)&&(t=Q.Culture.dateTimeFormat),n=t,function(t){return Q.htmlEncode(bt.format(t.value,n))}};k.checkBox=function(){return function(n){return'<span class="check-box no-float '+(!n.value?"":" checked")+'"><\/span>'}};k.number=function(n){return function(t){return or.format(t.value,n)}};k.getItemType=function(n){return ss.safeCast(n.data("item-type"),String)};k.getItemId=function(n){var t=n.data("item-id");return ss.isNullOrUndefined(t)?null:t.toString()};k.itemLinkText=function(n,t,i,r,u){return"<a"+(ss.isValue(t)?' href="#'+ss.replaceAllString(n,".","-")+"/"+t+'"':"")+' data-item-type="'+n+'" data-item-id="'+t+'" class="s-EditLink s-'+ss.replaceAllString(n,".","-")+"Link"+(Q.isEmptyOrNull(r)?"":" "+r)+'">'+(u?Q.htmlEncode(ss.coalesce(i,"")):ss.coalesce(i,""))+"<\/a>"};k.itemLink=function(n,t,i,r,u){return function(f){return ss.cast(k.itemLinkText(n,f.item[t],ss.staticEquals(i,null)?f.value:i(f),ss.staticEquals(r,null)?"":r(f),u),String)}};global.Serenity.SlickFormatting=k;cr=function(){};cr.__typeName="Serenity.SlickHelper";cr.setDefaults=function(n,t){var u=ss.getEnumerator(n),i,r,f;try{while(u.moveNext())i=u.current(),i.sortable=ss.isValue(i.sortable)?i.sortable:!0,r=i.id,ss.isNullOrUndefined(r)&&(r=i.field),i.id=r,ss.isValue(t)&&ss.isValue(i.id)&&(ss.isNullOrUndefined(i.name)||ss.startsWithString(i.name,"~"))&&(f=ss.isValue(i.name)?i.name.substr(1):i.id,i.name=Q.text(t+f)),ss.staticEquals(i.formatter,null)&&!ss.staticEquals(i.format,null)?i.formatter=cr.convertToFormatter(i.format):ss.staticEquals(i.formatter,null)&&(i.formatter=function(n,t,i){return Q.htmlEncode(i)})}finally{u.dispose()}return n};cr.convertToFormatter=function(n){return ss.staticEquals(n,null)?null:function(t,i,r,u,f){return n({row:t,cell:i,value:r,column:u,item:f})}};global.Serenity.SlickHelper=cr;ht=function(){};ht.__typeName="Serenity.SlickTreeHelper";ht.filterCustom=function(n,t){for(var i=t(n),r=0;ss.isValue(i);){if(!!i._collapsed)return!1;if(i=t(i),r++>1e3)throw new ss.InvalidOperationException("Possible infinite loop, check parents has no circular reference!");}return!0};ht.filterById=function(n,t,i){return ht.filterCustom(n,function(n){var r=i(n);return ss.isNullOrUndefined(r)?null:t.getItemById(r)})};ht.setCollapsed=function(n,t){var i,r;if(ss.isValue(n)){i=ss.getEnumerator(n);try{while(i.moveNext())r=i.current(),r._collapsed=t}finally{i.dispose()}}};ht.setCollapsedFlag=function(n,t){n._collapsed=t};ht.setIndents=function(n,t,i,r){for(var o,u,e=0,s={},f=0;f<ss.count(n);f++)o=ss.getItem(n,f),f>0&&(u=i(o),ss.isValue(u)&&ss.referenceEquals(u,t(ss.getItem(n,f-1)))?e+=1:ss.isNullOrUndefined(u)?e=0:ss.referenceEquals(u,i(ss.getItem(n,f-1)))||(e=ss.keyExists(s,u)?s[u]+1:0)),s[t(o)]=e,o._indent=e,ss.isValue(r)&&(o._collapsed=ss.unbox(r))};ht.toggleClick=function(n,t,i,r,u){var e=$(n.target),f;if(e.hasClass("s-TreeToggle")&&(e.hasClass("s-TreeCollapse")||e.hasClass("s-TreeExpand"))&&(f=r.getItem(t),!ss.isValue(f)||(f._collapsed=!f._collapsed?!0:!1,r.updateItem(u(f),f)),n.shiftKey)){r.beginUpdate();try{ht.setCollapsed(r.getItems(),!!f._collapsed);r.setItems(r.getItems(),!0)}finally{r.endUpdate()}}};global.Serenity.SlickTreeHelper=ht;ri=function(n){Serenity.Widget.call(this,n,{})};ri.__typeName="Serenity.StringEditor";global.Serenity.StringEditor=ri;ro=function(){b.call(this)};ro.__typeName="Serenity.StringFiltering";global.Serenity.StringFiltering=ro;rt=function(){};rt.__typeName="Serenity.SubDialogHelper";rt.bindToDataChange=function(n,t,i,r){var u=t.widgetName;return n.element.bind("ondatachange."+u,function(n,t){r?window.setTimeout(function(){i(n,t)},0):i(n,t)}).bind("remove."+u,function(){n.element.unbind("ondatachange."+u)}),n};rt.triggerDataChange=function(n){return n.element.triggerHandler("ondatachange"),n};rt.triggerDataChange$1=function(n){return n.triggerHandler("ondatachange"),n};rt.bubbleDataChange=function(n,t,i){return rt.bindToDataChange(n,t,function(){t.element.triggerHandler("ondatachange")},i)};rt.cascade=function(n,t){return n.element.dialog().dialog("option","position",rt.cascadedDialogOffset(t)),n};rt.cascadedDialogOffset=function(n){return{my:"left top",at:"left+20 top+20",of:n[0]}};global.Serenity.SubDialogHelper=rt;lr=function(n,t){this.isPanel=!1;this.validator=null;this.tabs=null;this.toolbar=null;Serenity.TemplatedWidget.call(this,n,t);this.initValidator();this.initTabs();this.initToolbar()};lr.__typeName="Serenity.TemplatedPanel";global.Serenity.TemplatedPanel=lr;gu=function(n,t){Serenity.Widget.call(this,n,t);this.options.cols!==0&&n.attr("cols",ss.coalesce(this.options.cols,80).toString());this.options.rows!==0&&n.attr("rows",ss.coalesce(this.options.rows,6).toString())};gu.__typeName="Serenity.TextAreaEditor";global.Serenity.TextAreaEditor=gu;nf=function(n,t){var i,r;for(this.$minutes=null,Serenity.Widget.call(this,n,t),n.addClass("editor s-TimeEditor hour"),this.options.noEmptyOption||Q.addOption(n,"","--"),i=ss.coalesce(this.options.startHour,0);i<=ss.coalesce(this.options.endHour,23);i++)Q.addOption(n,i.toString(),i<10?"0"+i:i.toString());for(this.$minutes=$("<select/>").addClass("editor s-TimeEditor minute").insertAfter(n),r=0;r<=59;r+=ss.coalesce(this.options.intervalMinutes,5))Q.addOption(this.$minutes,r.toString(),r<10?"0"+r:r.toString())};nf.__typeName="Serenity.TimeEditor";global.Serenity.TimeEditor=nf;vi=function(n,t){var u,r,i;for(Serenity.Widget.call(this,n,t),this.element.addClass("s-Toolbar clearfix").html('<div class="tool-buttons"><div class="buttons-outer"><div class="buttons-inner"><\/div><\/div><\/div>'),u=$("div.buttons-inner",this.element),r=this.options.buttons,i=0;i<r.length;i++)this.$createButton(u,r[i])};vi.__typeName="Serenity.Toolbar";global.Serenity.Toolbar=vi;ee=function(n){this.value=!1;this.value=n};ee.__typeName="Serenity.UpdatableAttribute";global.Serenity.UpdatableAttribute=ee;h=function(){};h.__typeName="Serenity.UploadHelper";h.addUploadInput=function(n){n.container.addClass("fileinput-button");var t=$("<input/>").attr("type","file").attr("name",n.inputName+"[]").attr("data-url",Q.resolveUrl("~/File/TemporaryUpload")).attr("multiple","multiple").appendTo(n.container);return n.allowMultiple&&t.attr("multiple","multiple"),t.fileupload({dataType:"json",done:function(t,i){var r=i.result;ss.staticEquals(n.fileDone,null)||n.fileDone(r,ss.cast(i.files[0].name,String),i)},start:function(){Q.blockUI(null);ss.isValue(n.progress)&&n.progress.show()},stop:function(){Q.blockUndo();ss.isValue(n.progress)&&n.progress.hide()},progress:function(t,i){if(ss.isValue(n.progress)){var r=ss.unbox(ss.cast(i.loaded,Number))/ss.unbox(ss.cast(i.total,Number))*100;n.progress.children().css("width",r.toString()+"%")}}}),t};h.checkImageConstraints=function(n,t){return!n.IsImage&&!t.allowNonImage?(Q.alert(Q.text("Controls.ImageUpload.NotAnImageFile")),!1):t.minSize>0&&n.Size<t.minSize?(Q.alert(ss.formatString(Q.text("Controls.ImageUpload.UploadFileTooSmall"),t.minSize)),!1):t.maxSize>0&&n.Size>t.maxSize?(Q.alert(ss.formatString(Q.text("Controls.ImageUpload.UploadFileTooBig"),t.maxSize)),!1):n.IsImage?t.minWidth>0&&n.Width<t.minWidth?(Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MinWidth"),t.minWidth)),!1):t.maxWidth>0&&n.Width>t.maxWidth?(Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MaxWidth"),t.maxWidth)),!1):t.minHeight>0&&n.Height<t.minHeight?(Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MinHeight"),t.minHeight)),!1):t.maxHeight>0&&n.Height>t.maxHeight?(Q.alert(ss.formatString(Q.text("Controls.ImageUpload.MaxHeight"),t.maxHeight)),!1):!0:!0};h.fileNameSizeDisplay=function(n,t){return n+" ("+h.fileSizeDisplay(t)+")"};h.fileSizeDisplay=function(n){var i=ss.round(n*100/1024)*.01,r="KB",t,u;return i>1e3&&(i=ss.round(i*.001*100)*.01,r="MB"),t=i.toString().split(String.fromCharCode(46)),u=t.length>1?t[0]+"."+t[1].substr(0,2):t[0],u+" "+r};h.hasImageExtension=function(n){return ss.isNullOrUndefined(n)?!1:(n=n.toLowerCase(),ss.endsWithString(n,".jpg")||ss.endsWithString(n,".jpeg")||ss.endsWithString(n,".gif")||ss.endsWithString(n,".png"))};h.thumbFileName=function(n){n=ss.coalesce(n,"");var t=n.lastIndexOf(".");return t>=0&&(n=n.substr(0,t)),n+"_t.jpg"};h.dbFileUrl=function(n){return n=ss.replaceAllString(ss.coalesce(n,""),"\\","/"),Q.resolveUrl("~/upload/")+n};h.colorBox=function(n){console.log($(n).attr("href"));n.colorbox({current:Q.text("Controls.ImageUpload.ColorboxCurrent"),previous:Q.text("Controls.ImageUpload.ColorboxPrior"),next:Q.text("Controls.ImageUpload.ColorboxNext"),close:Q.text("Controls.ImageUpload.ColorboxClose"),href:$(n).attr("href")})};h.populateFileSymbols=function(n,t,i,r){var u;for(t=t||[],n.html(""),u=0;u<t.length;u++){var s=t[u],f=$("<li/>").addClass("file-item").data("index",u),l=h.hasImageExtension(s.Filename);l?f.addClass("file-image"):f.addClass("file-binary");var a="#"+u,e=$("<a/>").addClass("thumb").appendTo(f),c=ss.coalesce(s.OriginalName,""),o=s.Filename;ss.isValue(r)&&ss.isValue(o)&&!ss.startsWithString(o,"temporary/")&&(o=r+o);e.attr("href",h.dbFileUrl(o));e.attr("target","_blank");Q.isEmptyOrNull(c)||e.attr("title",c);l&&(e.css("backgroundImage","url('"+h.dbFileUrl(h.thumbFileName(s.Filename))+"')"),h.colorBox(e,{}));i&&$("<div/>").addClass("filename").text(c).attr("title",c).appendTo(f);f.appendTo(n)}};global.Serenity.UploadHelper=h;oe=function(n){ri.call(this,n);n.addClass("url").attr("title","URL 'http://www.site.com/sayfa' formatında girilmelidir.");n.bind("blur."+this.uniqueName,function(){var i=n.closest("form").data("validator"),t;ss.isNullOrUndefined(i)||n.hasClass("error")&&((t=Q.trimToNull(n.val()),ss.isNullOrUndefined(t))||(t="http://"+t,!ss.referenceEquals($.validator.methods.url.apply(i,[t,n[0]]),!0)||(n.val(t),i.element(n[0]))))})};oe.__typeName="Serenity.URLEditor";global.Serenity.URLEditor=oe;se=function(){this.$1$DisplayPropertyField=null;this.$1$DisplayFormatField=null;this.$1$UrlPropertyField=null;this.$1$UrlFormatField=null;this.$1$TargetField=null};se.__typeName="Serenity.UrlFormatter";global.Serenity.UrlFormatter=se;yi=function(){};yi.__typeName="Serenity.ValidationHelper";yi.asyncSubmit=function(n,t,i){var u=n.validate(),r=u.settings;return!ss.isValue(r.abortHandler)?!ss.staticEquals(t,null)&&t()===!1?!1:(r.abortHandler=Q.validatorAbortHandler,r.submitHandler=function(){return ss.staticEquals(i,null)||i(),!1},n.trigger("submit"),!0):!1};yi.submit=function(n,t,i){var r=n.validate(),u=r.settings;return!ss.isValue(u.abortHandler)?!ss.staticEquals(t,null)&&t()===!1?!1:r.form()?(ss.staticEquals(i,null)||i(),!0):!1:!1};yi.getValidator=function(n){var t=n.closest("form");return t.length===0?null:t.data("validator")};global.Serenity.ValidationHelper=yi;ui=function(){};ui.__typeName="Serenity.VX";ui.addValidationRule=function(n,t,i){if(n.length===0)return n;if(ss.staticEquals(i,null))throw new ss.Exception("rule is null!");return n.addClass("customValidate").bind("customValidate."+t,i),n};ui.removeValidationRule=function(n,t){return n.unbind("customValidate."+t),n};ui.validateElement=function(n,t){return n.element(t.element[0])};global.Serenity.VX=ui;uo=function(){};uo.__typeName="Serenity.WidgetPrototype";global.Serenity.WidgetPrototype=uo;f=function(){};f.__typeName="Serenity.WX";f.getWidget=function(n){return function(t){if(ss.isNullOrUndefined(t))throw new ss.ArgumentNullException("element");if(t.length===0)throw new ss.Exception(ss.formatString("Searching for widget of type '{0}' on a non-existent element! ({1})",ss.getTypeFullName(n),t.selector));var i=t.tryGetWidget(n);if(ss.isNullOrUndefined(i))throw new ss.Exception(ss.formatString("Element has no widget of type '{0}'!",ss.getTypeFullName(n)));return i}};f.getWidgetName=function(n){return ss.replaceAllString(ss.getTypeFullName(n),".","_")};f.hasOriginalEvent=function(n){return!!!(typeof n.originalEvent=="undefined")};f.change=function(n,t){n.element.bind("change."+n.uniqueName,t)};f.changeSelect2=function(n,t){n.element.bind("change."+n.uniqueName,function(n,i){!(f.hasOriginalEvent(n)||!i)||t(n)})};f.getGridField=function(n){return n.element.closest(".field")};f.create=function(n){return function(t,i){return Serenity.Widget.create({type:n,element:t,options:i,init:null})}};global.Serenity.WX=f;he=function(n){this.$propertyItems=null;this.$propertyGrid=null;this.$reportKey=null;Serenity.TemplatedDialog.call(this,n);ss.isValue(n.reportKey)&&this.loadReport(n.reportKey)};he.__typeName="Serenity.Reporting.ReportDialog";global.Serenity.Reporting.ReportDialog=he;fo=function(n){Serenity.Widget.call(this,n,null);$(".report-link").click(ss.mkdel(this,this.$reportLinkClick));$("div.line").click(ss.mkdel(this,this.$categoryClick));var i=this,r=$("#QuickSearchInput"),t=ai.$ctor();t.onSearch=function(n,t,r){i.$updateMatchFlags(t);r(!0)};new ku(r,t)};fo.__typeName="Serenity.Reporting.ReportPage";global.Serenity.Reporting.ReportPage=fo;i=function(n){this.displayName=null;this.displayName=n};i.__typeName="System.ComponentModel.DisplayNameAttribute";global.System.ComponentModel.DisplayNameAttribute=i;ss.initInterface(nt,n,{setEditValue:null});ss.initInterface(g,n,{getEditValue:null});ss.initInterface(o,n,{get_value:null,set_value:null});ss.initInterface(y,n,{get_readOnly:null,set_readOnly:null});ss.initClass(p,n,{emptyItemText:function(){var n=this.element.attr("placeholder");return ss.isNullOrUndefined(n)&&(n=Q.text("Controls.SelectEditor.EmptyItemText")),n},getSelect2Options:function(){var n=this.emptyItemText();return{data:this.items,placeHolder:Q.isEmptyOrNull(n)?null:n,allowClear:ss.isValue(n),createSearchChoicePosition:"bottom",query:ss.mkdel(this,function(n){var t=Q.isEmptyOrNull(n.term)?"":Select2.util.stripDiacritics(ss.coalesce(n.term,"")).toUpperCase(),i=this.items.filter(function(n){return ss.isNullOrUndefined(t)||ss.startsWithString(Select2.util.stripDiacritics(ss.coalesce(n.text,"")).toUpperCase(),t)});ss.arrayAddRange(i,this.items.filter(function(n){return ss.isValue(t)&&!ss.startsWithString(Select2.util.stripDiacritics(ss.coalesce(n.text,"")).toUpperCase(),t)&&Select2.util.stripDiacritics(ss.coalesce(n.text,"")).toUpperCase().indexOf(t)>=0}));n.callback({results:i.slice((n.page-1)*this.pageSize,n.page*this.pageSize),more:i.length>=n.page*this.pageSize})}),initSelection:ss.mkdel(this,function(n,t){var e=n.val(),r,u,i,o,f;if(this.$multiple){for(r=[],u=e.split(","),i=0;i<u.length;i++)o=u[i],f=this.itemById[o],ss.isValue(f)&&r.push(f);t(r);return}t(this.itemById[e])})}},get_delimited:function(){return!!!!this.options.delimited},clearItems:function(){ss.clear(this.items);this.itemById={}},addItem:function(n){this.items.push(n);this.itemById[n.id]=n},addOption:function(n,t,i,r){this.addItem({id:n,text:t,source:i,disabled:r})},addInplaceCreate:function(n,t){var e=this,r=n,i,u;ss.isNullOrUndefined(r)&&(r=Q.text("Controls.SelectEditor.InplaceAdd"));n=r;i=t;ss.isNullOrUndefined(i)&&(i=Q.text("Controls.SelectEditor.InplaceEdit"));t=i;u=$("<a><b/><\/a>").addClass("inplace-button inplace-create").attr("title",n).insertAfter(this.element).click(function(n){e.inplaceCreateClick(n)});this.get_select2Container().add(this.element).addClass("has-inplace-button");f.change(this,ss.mkdel(this,function(){var i=Q.isEmptyOrNull(this.get_value());u.attr("title",i?n:t).toggleClass("edit",!i)}));f.changeSelect2(this,ss.mkdel(this,function(){ss.referenceEquals(this.get_value(),(-2147483648).toString())&&(this.set_value(null),this.inplaceCreateClick(null))}))},inplaceCreateClick:function(){},getCreateSearchChoice:function(n){return ss.mkdel(this,function(t){return(t=ss.coalesce(Select2.util.stripDiacritics(t),"").toLowerCase(),this.lastCreateTerm=t,Q.isTrimmedEmpty(t))?null:Q.any(this.get_items(),function(i){var r=ss.staticEquals(n,null)?i.text:n(i.source);return ss.referenceEquals(Select2.util.stripDiacritics(ss.coalesce(r,"")).toLowerCase(),t)})?null:Q.any(this.get_items(),function(n){return ss.coalesce(Select2.util.stripDiacritics(n.text),"").toLowerCase().indexOf(t)!==-1})?{id:(-2147483648).toString(),text:Q.text("Controls.SelectEditor.ClickToDefine")}:{id:(-2147483648).toString(),text:Q.text("Controls.SelectEditor.NoResultsClickToDefine")}})},setEditValue:function(n,t){var i=n[t.name];ss.isArray(i)?this.set_values(i):this.set_value(ss.isNullOrUndefined(i)?null:i.toString())},getEditValue:function(n,t){t[n.name]=!this.$multiple||this.get_delimited()?this.get_value():this.get_values()},get_select2Container:function(){return this.element.prevAll(".select2-container")},get_items:function(){return this.items},get_itemByKey:function(){return this.itemById},get_value:function(){var n=this.element.select2("val");return ss.isValue(n)&&ss.isArray(n)?ss.cast(n,Array).join(","):ss.safeCast(n,String)},set_value:function(n){if(!ss.referenceEquals(n,this.get_value())){var t=n;!ss.isNullOrEmptyString(n)&&this.$multiple&&(t=n.split(String.fromCharCode(44)).map(function(n){return Q.trimToNull(n)}).filter(function(n){return ss.isValue(n)}));this.element.select2("val",t).triggerHandler("change",[!0])}},get_values:function(){var n=this.element.select2("val"),t;return ss.isNullOrUndefined(n)?[]:ss.isArray(n)?ss.cast(n,Array):(t=ss.safeCast(n,String),ss.isNullOrEmptyString(t))?[]:[t]},set_values:function(n){if(ss.isNullOrUndefined(n)||n.length===0){this.set_value(null);return}this.set_value(n.join(","))},get_text:function(){var n=this.element.select2("data");return ss.isNullOrUndefined(n)&&(n={}),ss.cast(n.text,String)},get_readOnly:function(){return!ss.isNullOrEmptyString(this.element.attr("readonly"))},set_readOnly:function(n){n!==this.get_readOnly()&&(e.setReadonly(this.element,n),this.element.nextAll(".inplace-create").attr("disabled",n?"disabled":"").css("opacity",n?"0.1":"").css("cursor",n?"default":""))}},Serenity.Widget,[nt,g,o,y]);ss.initClass(ar,n,{emptyItemText:function(){return Q.isEmptyOrNull(this.get_value())?Q.text("Controls.FilterPanel.SelectField"):null},getSelect2Options:function(){var n=p.prototype.getSelect2Options.call(this);return n.allowClear=!1,n}},p,[nt,g,o,y]);ss.initClass(vr,n,{emptyItemText:function(){return null},getSelect2Options:function(){var n=p.prototype.getSelect2Options.call(this);return n.allowClear=!1,n}},p,[nt,g,o,y]);ss.initClass(ot,n,{initializeAsync:function(){return this.updateItemsAsync().then(ss.mkdel(this,function(){Q.ScriptData.bindToChange("Lookup."+this.getLookupKey(),this.uniqueName,ss.mkdel(this,function(){this.updateItemsAsync()}))}),null)},destroy:function(){Q.ScriptData.unbindFromChange(this.uniqueName);this.element.select2("destroy");Serenity.Widget.prototype.destroy.call(this)},getLookupKey:function(){if(ss.isValue(this.options.lookupKey))return this.options.lookupKey;var n=ss.getTypeFullName(ss.getInstanceType(this)),t=n.indexOf(".");return t>=0&&(n=n.substring(t+1)),ss.endsWithString(n,"Editor")&&(n=n.substr(0,n.length-6)),n},getLookup:function(){return Q.getLookup(this.getLookupKey())},getLookupAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.getLookupKey();return Q.getLookupAsync(n)}),null)},getItems:function(n){return this.filterItems(this.cascadeItems(n.items))},getItemText:function(n,t){var i=ss.staticEquals(t.textFormatter,null)?n[t.textField]:t.textFormatter(n);return ss.isNullOrUndefined(i)?"":i.toString()},getItemDisabled:function(){return!1},updateItems:function(){var n=this.getLookup(),r,t;for(this.clearItems(),r=this.getItems(n),t=0;t<r.length;t++){var i=r[t],f=this.getItemText(i,n),e=this.getItemDisabled(i,n),u=i[n.idField],o=ss.isNullOrUndefined(u)?"":u.toString();this.addItem({id:o,text:f,source:i,disabled:e})}},updateItemsAsync:function(){return this.getLookupAsync().then(ss.mkdel(this,function(n){var r,t;for(this.clearItems(),r=this.getItems(n),t=0;t<r.length;t++){var i=r[t],f=this.getItemText(i,n),e=this.getItemDisabled(i,n),u=i[n.idField],o=ss.isNullOrUndefined(u)?"":u.toString();this.addItem({id:o,text:f,source:i,disabled:e})}}),null)},getDialogTypeKey:function(){return ss.isValue(this.options.dialogType)?this.options.dialogType:this.getLookupKey()},createEditDialog:function(n){var t=this.getDialogTypeKey(),i=ft.get(t);Serenity.Widget.create({type:i,element:null,options:{},init:function(t){n(ss.cast(t,fr))}})},initNewEntity:function(n){if(ss.isNullOrEmptyString(this.get_cascadeField())||(n[this.get_cascadeField()]=this.get_cascadeValue()),ss.isNullOrEmptyString(this.get_filterField())||(n[this.get_filterField()]=this.get_filterValue()),!ss.staticEquals(this.onInitNewEntity,null))this.onInitNewEntity(n)},inplaceCreateClick:function(){if(!this.get_readOnly()){var n=this;this.createEditDialog(ss.mkdel(this,function(t){if(rt.bindToDataChange(t,this,ss.mkdel(this,function(t,i){Q.reloadLookup(this.getLookupKey());n.updateItems();n.set_value(null);(i.type==="create"||i.type==="update")&&ss.isValue(i.entityId)&&n.set_value(i.entityId.toString())}),!0),Q.isEmptyOrNull(this.get_value())){var i={};i[this.getLookup().textField]=Q.trimToEmpty(this.lastCreateTerm);this.initNewEntity(i);t.load(i,function(){t.dialogOpen()},null)}else t.load(this.get_value(),function(){t.dialogOpen()},null)}))}},cascadeItems:function(n){if(ss.isNullOrUndefined(this.get_cascadeValue())||ss.safeCast(this.get_cascadeValue(),String)==="")return Q.isEmptyOrNull(this.get_cascadeField())?n:[];var t=this.get_cascadeValue().toString();return n.filter(ss.mkdel(this,function(n){var i=n[this.get_cascadeField()],r;return ss.isNullOrUndefined(i)&&(i=yt.getPropertyValue(n,this.get_cascadeField())),r=i,!!(ss.isValue(r)&&ss.referenceEquals(r.toString(),t))}))},filterItems:function(n){if(ss.isNullOrUndefined(this.get_filterValue())||ss.safeCast(this.get_filterValue(),String)==="")return n;var t=this.get_filterValue().toString();return n.filter(ss.mkdel(this,function(n){var i=n[this.get_filterField()],r;return ss.isNullOrUndefined(i)&&(i=yt.getPropertyValue(n,this.get_filterField())),r=i,!!(ss.isValue(r)&&ss.referenceEquals(r.toString(),t))}))},getCascadeFromValue:function(n){return e.getValue(n)},$setCascadeFrom:function(n){if(ss.isNullOrEmptyString(n)){ss.isValue(this.$cascadeLink)&&(this.$cascadeLink.set_parentID(null),this.$cascadeLink=null);this.options.cascadeFrom=null;return}this.$cascadeLink=new(ss.makeGenericType(uu,[Object]))(this,ss.mkdel(this,function(n){this.set_cascadeValue(this.getCascadeFromValue(n))}));this.$cascadeLink.set_parentID(n);this.options.cascadeFrom=n},getSelect2Options:function(){var n=p.prototype.getSelect2Options.call(this);return ss.isValue(this.options.minimumResultsForSearch)&&(n.minimumResultsForSearch=ss.unbox(this.options.minimumResultsForSearch)),this.options.inplaceAdd&&(ss.isNullOrUndefined(this.options.inplaceAddPermission)||Q.Authorization.hasPermission(this.options.inplaceAddPermission))&&(n.createSearchChoice=this.getCreateSearchChoice(null)),this.options.multiple&&(n.multiple=!0),n.allowClear=ss.coalesce(this.options.allowClear,!0),n},get_cascadeFrom:function(){return this.options.cascadeFrom},set_cascadeFrom:function(n){ss.referenceEquals(n,this.options.cascadeFrom)||(this.$setCascadeFrom(n),this.updateItems())},get_cascadeField:function(){var n=this.options.cascadeField;return ss.isNullOrUndefined(n)&&(n=this.options.cascadeFrom),n},set_cascadeField:function(n){this.options.cascadeField=n},get_cascadeValue:function(){return this.options.cascadeValue},set_cascadeValue:function(n){ss.referenceEquals(this.options.cascadeValue,n)||(this.options.cascadeValue=n,this.set_value(null),this.updateItems())},get_filterField:function(){return this.options.filterField},set_filterField:function(n){this.options.filterField=n},get_filterValue:function(){return this.options.filterValue},set_filterValue:function(n){ss.referenceEquals(this.options.filterValue,n)||(this.options.filterValue=n,this.set_value(null),this.updateItems())}},p,[nt,g,o,y]);ss.initInterface(bf,n,{});ss.initClass(tf,n,{getLookupKey:function(){var n=this.options.lookupKey;return ss.isNullOrUndefined(n)&&(n=ot.prototype.getLookupKey.call(this)),n}},ot,[nt,g,o,y,bf]);ss.initInterface(d,n,{get_field:null,set_field:null,get_container:null,set_container:null,get_operator:null,set_operator:null,createEditor:null,getCriteria:null,getOperators:null,loadState:null,saveState:null});ss.initInterface(it,n,{initQuickFilter:null});ss.initClass(b,n,{get_field:function(){return this.$1$FieldField},set_field:function(n){this.$1$FieldField=n},get_container:function(){return this.$1$ContainerField},set_container:function(n){this.$1$ContainerField=n},get_operator:function(){return this.$1$OperatorField},set_operator:function(n){this.$1$OperatorField=n},getOperators:null,appendNullableOperators:function(n){return this.isNullable()?(n.push({key:t.isNotNull}),n.push({key:t.isNull}),n):n},appendComparisonOperators:function(n){return n.push({key:t.EQ}),n.push({key:t.NE}),n.push({key:t.LT}),n.push({key:t.LE}),n.push({key:t.GT}),n.push({key:t.GE}),n},isNullable:function(){return this.get_field().required!==!0},createEditor:function(){switch(this.get_operator().key){case"true":case"false":case"isnull":case"isnotnull":return;case"contains":case"startswith":case"eq":case"ne":case"lt":case"le":case"gt":case"ge":this.get_container().html('<input type="text"/>');return}throw new ss.Exception(ss.formatString("Filtering '{0}' has no editor for '{1}' operator",ss.getTypeName(ss.getInstanceType(this)),this.get_operator().key));},operatorFormat:function(n){var i=n.format,t;return ss.isNullOrUndefined(i)&&(t=Q.tryGetText("Controls.FilterPanel.OperatorFormats."+n.key),ss.isNullOrUndefined(t)&&(t=n.key),i=t),i},getTitle:function(n){var i=Q.tryGetText(n.title),t;return ss.isNullOrUndefined(i)&&(t=n.title,ss.isNullOrUndefined(t)&&(t=n.name),i=t),i},displayText:function(n,t){return t.length===0?ss.formatString(this.operatorFormat(n),this.getTitle(this.get_field())):t.length===1?ss.formatString(this.operatorFormat(n),this.getTitle(this.get_field()),t[0]):ss.formatString(this.operatorFormat(n),this.getTitle(this.get_field()),t[0],t[1])},getCriteriaField:function(){return this.get_field().name},getCriteria:function(n){var i;switch(this.get_operator().key){case"true":return n.$=this.displayText(this.get_operator(),[]),[[this.getCriteriaField()],"=",!0];case"false":return n.$=this.displayText(this.get_operator(),[]),[[this.getCriteriaField()],"=",!1];case"isnull":return n.$=this.displayText(this.get_operator(),[]),["is null",[this.getCriteriaField()]];case"isnotnull":return n.$=this.displayText(this.get_operator(),[]),["is not null",[this.getCriteriaField()]];case"contains":return i=this.getEditorText(),n.$=this.displayText(this.get_operator(),[i]),[[this.getCriteriaField()],"like","%"+i+"%"];case"startswith":return i=this.getEditorText(),n.$=this.displayText(this.get_operator(),[i]),[[this.getCriteriaField()],"like",i+"%"];case"eq":case"ne":case"lt":case"le":case"gt":case"ge":return i=this.getEditorText(),n.$=this.displayText(this.get_operator(),[i]),[[this.getCriteriaField()],t.toCriteriaOperator[this.get_operator().key],this.getEditorValue()]}throw new ss.Exception(ss.formatString("Filtering '{0}' has no handler for '{1}' operator",ss.getTypeName(ss.getInstanceType(this)),this.get_operator().key));},loadState:function(n){var t=this.get_container().find(":input").first();t.val(ss.safeCast(n,String))},saveState:function(){switch(this.get_operator().key){case"contains":case"startswith":case"eq":case"ne":case"lt":case"le":case"gt":case"ge":var n=this.get_container().find(":input").first();return n.val()}return null},argumentNull:function(){return new ss.ArgumentNullException("value",Q.text("Controls.FilterPanel.ValueRequired"))},validateEditorValue:function(n){if(n.length===0)throw this.argumentNull();return n},getEditorValue:function(){var n=this.get_container().find(":input").not(".select2-focusser").first(),t,i;if(n.length!==1){t=this.get_field().title;ss.isNullOrUndefined(t)&&(t=this.get_field().name);throw new ss.Exception(ss.formatString("Couldn't find input in filter container for {0}",t));}return i=ss.isValue(n.data("select2"))?ss.safeCast(n.select2("val"),String):n.val(),i=ss.coalesce(i,"").trim(),this.validateEditorValue(i)},getEditorText:function(){var n=this.get_container().find(":input").not(".select2-focusser").not(".select2-input").first(),i,t;return n.length===0?this.get_container().text().trim():(ss.isValue(n.data("select2"))?(t=n.select2("data"),ss.isNullOrUndefined(t)&&(t={}),i=ss.cast(t.text,String)):i=n.val(),i)},initQuickFilter:function(n){n.field=this.getCriteriaField();n.type=ri;n.title=this.getTitle(this.get_field());n.options=Q.deepClone({},this.get_field().quickFilterParams)}},null,[d,it]);ss.initInterface(dr,n,{get_value:null,set_value:null});ss.initClass(yr,n,{get_value:function(){return this.element.is(":checked")},set_value:function(n){this.element.prop("checked",!!n)}},Serenity.Widget,[dr]);ss.initClass(rf,n,{getOperators:function(){var n=[];return n.push({key:t.isTrue}),n.push({key:t.isFalse}),this.appendNullableOperators(n)}},b,[d,it]);ss.initInterface(et,n,{format:null});ss.initClass(uf,n,{format:function(n){var t,i,r,u;return ss.isValue(n.value)?!n.value?(r=Q.tryGetText(this.get_falseText()),ss.isNullOrUndefined(r)&&(u=this.get_falseText(),ss.isNullOrUndefined(u)&&(u=ss.coalesce(Q.tryGetText("Dialogs.NoButton"),"No")),r=u),Q.htmlEncode(r)):(t=Q.tryGetText(this.get_trueText()),ss.isNullOrUndefined(t)&&(i=this.get_trueText(),ss.isNullOrUndefined(i)&&(i=ss.coalesce(Q.tryGetText("Dialogs.YesButton"),"Yes")),t=i),Q.htmlEncode(t)):""},get_falseText:function(){return this.$1$FalseTextField},set_falseText:function(n){this.$1$FalseTextField=n},get_trueText:function(){return this.$1$TrueTextField},set_trueText:function(n){this.$1$TrueTextField=n}},null,[et]);ss.initClass(fu,n,{});ss.initClass(ce,n,{format:function(n){return'<span class="check-box no-float readonly '+(!n.value?"":" checked")+'"><\/span>'}},null,[et]);ss.initClass(ff,n,{getItems:function(){return this.options.items||[]},updateItems:function(){var n=this.getItems()},getEditValue:function(){},setEditValue:function(){}},Serenity.Widget,[g,nt]);ss.initClass(fi,n,{});ss.initInterface(gr,n,{getElement:null,getGrid:null,getView:null,getFilterStore:null});ss.initClass(a,n,{add_submitHandlers:function(n){this.$4$submitHandlersField=ss.delegateCombine(this.$4$submitHandlersField,n)},remove_submitHandlers:function(n){this.$4$submitHandlersField=ss.delegateRemove(this.$4$submitHandlersField,n)},layout:function(){this.element.is(":visible")&&(ss.isNullOrUndefined(this.slickContainer)||(Q.layoutFillHeight(this.slickContainer),this.element.hasClass("responsive-height")&&(ss.isValue(this.slickGrid)&&this.slickGrid.getOptions().autoHeight&&(this.slickContainer.children(".slick-viewport").css("height","auto"),this.slickGrid.setOptions({autoHeight:!1})),ss.isValue(this.slickGrid)&&(this.slickContainer.height()<200||$(window.window).width()<768)&&(this.element.css("height","auto"),this.slickContainer.css("height","auto").children(".slick-viewport").css("height","auto"),this.slickGrid.setOptions({autoHeight:!0}))),ss.isValue(this.slickGrid)&&this.slickGrid.resizeCanvas()))},getInitialTitle:function(){return null},createToolbarExtensions:function(){},createQuickFilters:function(){for(var i,t=this.getQuickFilters(),n=0;n<t.length;n++)i=t[n],this.addQuickFilter(i)},getQuickFilters:function(){for(var b,f,e,k,o,s,h,c,a,r,p=[],w=this.allColumns.filter(function(n){return ss.isValue(n.sourceItem)&&n.sourceItem.quickFilter===!0}),v=0;v<w.length;v++){var tt=w[v],n=tt.sourceItem,i={},u=l.get(ss.coalesce(n.filteringType,"String"));if(ss.referenceEquals(u,ef))b=n.name,f=Q.tryGetText(n.title),ss.isNullOrUndefined(f)&&(e=n.title,ss.isNullOrUndefined(e)&&(e=n.name),f=e),i=this.dateRangeQuickFilter(b,f);else if(ss.referenceEquals(u,of))k=n.name,o=Q.tryGetText(n.title),ss.isNullOrUndefined(o)&&(s=n.title,ss.isNullOrUndefined(s)&&(s=n.name),o=s),i=this.dateTimeRangeQuickFilter(k,o);else if(ss.referenceEquals(u,rf)){var g=n.quickFilterParams||{},nt=n.filteringParams||{},rt=n.name,y=Q.tryGetText(n.title);ss.isNullOrUndefined(y)&&(h=n.title,ss.isNullOrUndefined(h)&&(h=n.name),y=h);c=g.trueText;ss.isNullOrUndefined(c)&&(c=nt.trueText);a=g.falseText;ss.isNullOrUndefined(a)&&(a=nt.falseText);i=this.booleanQuickFilter(rt,y,c,a)}else if(r=ss.cast(ss.createInstance(u),d),ss.isValue(r)&&ss.isInstanceOfType(r,it))tr.set(r,n.filteringParams),r.set_field(n),r.set_operator({key:t.EQ}),ss.cast(r,it).initQuickFilter(i),i.options=Q.deepClone(i.options,n.quickFilterParams);else continue;n.quickFilterSeparator===!0&&(i.seperator=!0);i.cssClass=n.quickFilterCssClass;p.push(i)}return p},findQuickFilter:function(n,t){return Serenity.WX.getWidget(n)($("#"+this.uniqueName+"_QuickFilter_"+t))},createIncludeDeletedButton:function(){Q.isEmptyOrNull(this.getIsActiveProperty())||tt.addIncludeDeletedToggle(this.toolbar.element,this.view,null,!1)},getQuickSearchFields:function(){return null},createQuickSearchInput:function(){tt.addQuickSearchInput(this.toolbar.element,this.view,this.getQuickSearchFields())},destroy:function(){this.$4$submitHandlersField=null;ss.isValue(this.toolbar)&&(this.toolbar.destroy(),this.toolbar=null);ss.isValue(this.slickGrid)&&(this.slickGrid.onClick.clear(),this.slickGrid.onSort.clear(),this.slickGrid.onColumnsResized.clear(),this.slickGrid.onColumnsReordered.clear(),this.slickGrid.destroy(),this.slickGrid=null);ss.isValue(this.view)&&(this.view.onDataChanged.clear(),this.view.onSubmit=null,this.view.setFilter(null),this.view=null);this.titleDiv=null;Serenity.Widget.prototype.destroy.call(this)},getItemCssClass:function(n){var i=this.getIsActiveProperty(),t;if(Q.isEmptyOrNull(i)||(t=n[i],ss.isNullOrUndefined(t)))return null;if(typeof t=="number"){if(t<0)return"deleted";if(t===0)return"inactive"}else if(typeof t=="boolean"&&t===!1)return"deleted";return null},getItemMetadata:function(n,t){var i=this.getItemCssClass(n,t);return Q.isEmptyOrNull(i)?{}:{cssClasses:i}},postProcessColumns:function(n){return cr.setDefaults(n,this.getLocalTextDbPrefix()),n},initialPopulate:function(){var n=this;this.populateWhenVisible()?(Serenity.LazyLoadHelper.executeEverytimeWhenShown(this.element,function(){n.$refreshIfNeeded()},!1),this.element.is(":visible")&&this.view.populate()):this.view.populate()},initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.getColumnsAsync),null).then(ss.mkdel(this,function(n){var t,i;this.allColumns=n;this.postProcessColumns(this.allColumns);t=this;ss.isValue(this.filterBar)&&(this.filterBar.set_store(new rr(this.allColumns.filter(function(n){return ss.isValue(n.sourceItem)&&n.sourceItem.notFilterable!==!0}).map(function(n){return n.sourceItem}))),this.filterBar.get_store().add_changed(ss.mkdel(this,function(){this.restoringSettings<=0&&(t.persistSettings(null),t.refresh())})));i=this.allColumns.filter(function(n){return n.visible!==!1});ss.isValue(this.slickGrid)&&this.slickGrid.setColumns(i);this.setInitialSortOrder();this.initialSettings=this.getCurrentSettings(null);this.restoreSettings(null,null);this.initialPopulate()}),null)},createSlickGrid:function(){var t,i,n;return this.isAsyncWidget()?t=[]:(this.allColumns=this.getColumns(),t=this.postProcessColumns(this.allColumns).filter(function(n){return n.visible!==!1})),i=this.getSlickOptions(),n=new Slick.Grid(this.slickContainer,this.view,t,i),n.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0})),this.slickGrid=n,this.rows=this.slickGrid,this.isAsyncWidget()||this.setInitialSortOrder(),n},setInitialSortOrder:function(){var n=this.getDefaultSortBy(),t;ss.isValue(this.view)&&(this.view.sortBy=Array.prototype.slice.call(n));t=n.map(function(n){var t={};return ss.isValue(n)&&ss.endsWithString(n.toLowerCase()," desc")?(t.columnId=ss.trimEndString(n.substr(0,n.length-5)),t.sortAsc=!1):(t.columnId=n,t.sortAsc=!0),t});this.slickGrid.setSortColumns(t)},itemAt:function(n){return this.slickGrid.getDataItem(n)},rowCount:function(){return this.slickGrid.getDataLength()},getItems:function(){return this.view.getItems()},setItems:function(n){this.view.setItems(n,!0)},bindToSlickEvents:function(){var n=this;this.$slickGridOnSort=ss.mkdel(this,function(t,i){var r,u,o,f,s,e,h;n.view.populateLock();try{if(r=[],!i.multiColumnSort)e=i.sortCol,ss.isNullOrUndefined(e)&&(e={}),h=e,r.push(ss.cast(h.field+(!i.sortAsc?" DESC":""),String));else for(u=0;!!(u<i.sortCols.length);u++)o=i.sortCols[u],f=o.sortCol,ss.isNullOrUndefined(f)&&(f={}),s=f,r.push(ss.cast(s.field+(!o.sortAsc?" DESC":""),String));n.view.sortBy=r}finally{n.view.populateUnlock()}n.view.populate();this.persistSettings(null)});this.slickGrid.onSort.subscribe(this.$slickGridOnSort);this.$slickGridOnClick=function(t,i){n.onClick(t,ss.unbox(ss.cast(i.row,ss.Int32)),ss.unbox(ss.cast(i.cell,ss.Int32)))};this.slickGrid.onClick.subscribe(this.$slickGridOnClick);this.slickGrid.onColumnsReordered.subscribe(ss.mkdel(this,function(){return this.persistSettings(null)}));this.slickGrid.onColumnsResized.subscribe(ss.mkdel(this,function(){return this.persistSettings(null)}))},getAddButtonCaption:function(){return"New"},getButtons:function(){return[]},editItem:function(){throw new ss.NotImplementedException;},editItemOfType:function(n,t){if(ss.referenceEquals(n,this.getItemType())){this.editItem(t);return}throw new ss.NotImplementedException;},onClick:function(n){if(!n.isDefaultPrevented()){var t=$(n.target);t.hasClass("s-EditLink")||(t=t.closest("a"));t.hasClass("s-EditLink")&&(n.preventDefault(),this.editItemOfType(k.getItemType(t),k.getItemId(t)))}},$viewDataChanged:function(){this.markupReady()},bindToViewEvents:function(){var n=this;this.view.onDataChanged.subscribe(function(t,i){return n.$viewDataChanged(t,i)});this.view.onSubmit=function(){return n.onViewSubmit()};this.view.setFilter(function(t){return n.onViewFilter(t)});this.view.onProcessData=function(t){return n.onViewProcessData(t)}},onViewProcessData:function(n){return n},onViewFilter:function(){return!0},getIncludeColumns:function(n){for(var t,i,f,u=this.slickGrid.getColumns(),r=0;r<u.length;r++)if(t=u[r],ss.isValue(t.field)&&(n[t.field]=!0),ss.isValue(t.referencedFields))for(i=0;i<t.referencedFields.length;i++)f=t.referencedFields[i],n[f]=!0},setCriteriaParameter:function(){if(delete this.view.params.Criteria,ss.isValue(this.filterBar)){var n=this.filterBar.get_store().get_activeCriteria();Serenity.Criteria.isEmpty(n)||(this.view.params.Criteria=n)}},setEquality:function(n,t){Q.setEquality(this.view.params,n,t)},setIncludeColumnsParameter:function(){var i={},n,t,r;if(this.getIncludeColumns(i),n=null,ss.getKeyCount(i)>0){n=[];t=ss.getEnumerator(Object.keys(i));try{while(t.moveNext())r=t.current(),n.push(r)}finally{t.dispose()}}this.view.params.IncludeColumns=n},onViewSubmit:function(){return this.isDisabled||!this.getGridCanLoad()?!1:(this.setCriteriaParameter(),this.setIncludeColumnsParameter(),this.invokeSubmitHandlers(),!0)},markupReady:function(){},createSlickContainer:function(){return $('<div class="grid-container"><\/div>').appendTo(this.element)},createView:function(){var n=this.getViewOptions();return new Slick.RemoteView(n)},getDefaultSortBy:function(){var n,i,t,r;if(ss.isValue(this.slickGrid)&&this.slickGrid.getColumns().length>0&&(n=this.slickGrid.getColumns().filter(function(n){return ss.isValue(n.sortOrder)&&n.sortOrder!==0}),n.length>0)){for(n.sort(function(n,t){return ss.compare(Math.abs(n.sortOrder),Math.abs(t.sortOrder))}),i=[],t=0;t<n.length;t++)r=n[t],i.push(r.field+(r.sortOrder<0?" DESC":""));return i}return[]},usePager:function(){return!1},enableFiltering:function(){var n=ss.getAttributes(ss.getInstanceType(this),ki,!0);return n.length>0&&n[0].value},populateWhenVisible:function(){return!1},createFilterBar:function(){var t=$("<div/>").appendTo(this.element),n=this;this.filterBar=new lf(t);this.isAsyncWidget()||(this.filterBar.set_store(new rr(this.allColumns.filter(function(n){return ss.isValue(n.sourceItem)&&n.sourceItem.notFilterable!==!0}).map(function(n){return n.sourceItem}))),this.filterBar.get_store().add_changed(ss.mkdel(this,function(){this.restoringSettings<=0&&(n.persistSettings(null),n.refresh())})))},createPager:function(){var n=$("<div><\/div>").appendTo(this.element);n.slickPager({view:this.view,rowsPerPage:20,rowsPerPageOptions:[20,100,500,2500]})},getViewOptions:function(){var n={};return n.idField=this.getIdProperty(),n.sortBy=this.getDefaultSortBy(),n.rowsPerPage=this.usePager()?this.element.hasClass("responsive-height")?$(window.window).width()<768?20:100:100:0,n.getItemMetadata=ss.mkdel(this,function(n,t){return this.getItemMetadata(n,t)}),n},createToolbar:function(n){var t=$('<div class="grid-toolbar"><\/div>').appendTo(this.element);this.toolbar=new vi(t,{buttons:n,hotkeyContext:this.element[0]})},getTitle:function(){return ss.isNullOrUndefined(this.titleDiv)?null:this.titleDiv.children().text()},setTitle:function(n){ss.referenceEquals(n,this.getTitle())||(ss.isNullOrUndefined(n)?ss.isValue(this.titleDiv)&&(this.titleDiv.remove(),this.titleDiv=null):(ss.isNullOrUndefined(this.titleDiv)&&(this.titleDiv=$('<div class="grid-title"><div class="title-text"><\/div><\/div>').prependTo(this.element)),this.titleDiv.children().text(n)),this.layout())},getItemType:function(){return"Item"},itemLink:function(n,t,i,r,u){var e=n,f;return ss.isNullOrUndefined(e)&&(e=this.getItemType()),n=e,f=t,ss.isNullOrUndefined(f)&&(f=this.getIdProperty()),t=f,k.itemLink(n,t,i,r,u)},getColumnsKey:function(){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.ColumnsKeyAttribute,!0);return ss.isValue(n)&&n.length>0?n[0].value:null},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.getColumnsKey();return ss.isNullOrEmptyString(n)?RSVP.resolve([]):Q.getColumnsAsync(n)}),null)},getPropertyItems:function(){var t=ss.getAttributes(ss.getInstanceType(this),Serenity.ColumnsKeyAttribute,!0),n=this.getColumnsKey();return ss.isNullOrEmptyString(n)?[]:Q.getColumns(n)},getColumns:function(){var n=this.getPropertyItems();return this.propertyItemsToSlickColumns(n)},propertyItemsToSlickColumns:function(n){for(var t,i,f,e,u=sr.toSlickColumns(n),r=0;r<n.length;r++)t=n[r],i=u[r],t.editLink===!0&&(f={$:i.format},e={$:ss.isValue(t.editLinkCssClass)?t.editLinkCssClass:null},i.format=this.itemLink(ss.isValue(t.editLinkItemType)?t.editLinkItemType:null,ss.isValue(t.editLinkIdField)?t.editLinkIdField:null,ss.mkdel({oldFormat:f},function(n){return ss.staticEquals(this.oldFormat.$,null)?Q.htmlEncode(n.value):this.oldFormat.$(n)}),ss.mkdel({css:e},function(){return ss.coalesce(this.css.$,"")}),!1),ss.isNullOrEmptyString(t.editLinkIdField)||(i.referencedFields=i.referencedFields||[],i.referencedFields.push(t.editLinkIdField)));return u},getColumnsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(n){return this.propertyItemsToSlickColumns(n)}),null)},getSlickOptions:function(){var n={};return n.multiSelect=!1,n.multiColumnSort=!0,n.enableCellNavigation=!1,n.headerRowHeight=a.defaultHeaderHeight,n.rowHeight=a.defaultRowHeight,n},populateLock:function(){this.view.populateLock()},populateUnlock:function(){this.view.populateUnlock()},getGridCanLoad:function(){return!0},refresh:function(){if(!this.populateWhenVisible()){this.internalRefresh();return}if(this.slickContainer.is(":visible")){this.slickContainer.data("needsRefresh",!1);this.internalRefresh();return}this.slickContainer.data("needsRefresh",!0)},$refreshIfNeeded:function(){!this.slickContainer.data("needsRefresh")||(this.slickContainer.data("needsRefresh",!1),this.internalRefresh())},internalRefresh:function(){this.view.populate()},setIsDisabled:function(n){this.$isDisabled!==n&&(this.$isDisabled=n,this.$isDisabled&&this.view.setItems([],!0),this.updateDisabledState())},getLocalTextDbPrefix:function(){return ss.isNullOrUndefined(this.$localTextDbPrefix)&&(this.$localTextDbPrefix=ss.coalesce(this.getLocalTextPrefix(),""),this.$localTextDbPrefix.length>0&&!ss.endsWithString(this.$localTextDbPrefix,".")&&(this.$localTextDbPrefix="Db."+this.$localTextDbPrefix+".")),this.$localTextDbPrefix},getLocalTextPrefix:function(){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.LocalTextPrefixAttribute,!0);return n.length>=1?n[0].value:""},getIdProperty:function(){if(ss.isNullOrUndefined(this.$idProperty)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.IdPropertyAttribute,!0);this.$idProperty=n.length===1?n[0].value:"ID"}return this.$idProperty},getIsActiveProperty:function(){if(ss.isNullOrUndefined(this.$isActiveProperty)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.IsActivePropertyAttribute,!0);this.$isActiveProperty=n.length===1?n[0].value:""}return this.$isActiveProperty},updateDisabledState:function(){this.slickContainer.toggleClass("ui-state-disabled",!!this.isDisabled)},resizeCanvas:function(){this.slickGrid.resizeCanvas()},subDialogDataChange:function(){this.refresh()},addFilterSeparator:function(){ss.isValue(this.quickFiltersDiv)&&this.quickFiltersDiv.append($("<hr/>"))},determineText:function(n){var i=this.getLocalTextDbPrefix(),t;return!Q.isEmptyOrNull(i)&&(t=Q.tryGetText(n(i)),ss.isValue(t))?t:null},addQuickFilter:function(n){var s,r,u,t,i,o;if(ss.isNullOrUndefined(n))throw new ss.ArgumentNullException("opt");return ss.isNullOrUndefined(this.quickFiltersDiv)&&($("<div/>").addClass("clear").appendTo(this.toolbar.element),this.quickFiltersDiv=$("<div/>").addClass("quick-filters-bar").appendTo(this.toolbar.element)),n.seperator&&this.addFilterSeparator(),s=$("<div class='quick-filter-item'><span class='quick-filter-label'><\/span><\/div>").appendTo(this.quickFiltersDiv).children(),r=n.title,ss.isNullOrUndefined(r)&&(u=this.determineText(function(t){return t+n.field}),ss.isNullOrUndefined(u)&&(u=n.field),r=u),t=s.text(r).parent(),ss.isNullOrEmptyString(n.cssClass)||t.addClass(n.cssClass),i=Serenity.Widget.create({type:n.type,element:ss.mkdel(this,function(i){Q.isEmptyOrNull(n.field)||i.attr("id",this.uniqueName+"_QuickFilter_"+n.field);i.attr("placeholder"," ");i.appendTo(t);ss.staticEquals(n.element,null)||n.element(i)}),options:n.options,init:n.init}),o=ss.mkdel(this,function(){var r,u,o,f;t.hasClass("ignore")||(r=this.view.params,r.EqualityFilter=r.EqualityFilter||{},u=e.getValue(i),o=ss.isValue(u)&&!ss.isNullOrEmptyString(u.toString()),ss.staticEquals(n.handler,null)?(r.EqualityFilter[n.field]=u,t.toggleClass("quick-filter-active",o)):(f={field:n.field,request:r,equalityFilter:r.EqualityFilter,value:u,active:o,widget:i,handled:!0},n.handler(f),t.toggleClass("quick-filter-active",f.active),f.handled||(r.EqualityFilter[n.field]=u)))}),f.changeSelect2(i,ss.mkdel(this,function(n){this.quickFilterChange(n)})),this.add_submitHandlers(o),i.element.bind("remove."+this.uniqueName,ss.mkdel(this,function(){this.remove_submitHandlers(o)})),i},addDateRangeFilter:function(n,t){return ss.cast(this.addQuickFilter(this.dateRangeQuickFilter(n,t)),u)},dateRangeQuickFilter:function(n,t){var i=null;return{field:n,type:u,title:t,element:function(n){i=Serenity.Widget.create({type:u,element:function(t){t.insertAfter(n)},options:null,init:null});i.element.change(function(){n.triggerHandler("change")});$("<span/>").addClass("range-separator").text("-").insertAfter(n)},handler:function(n){var t=!Q.isTrimmedEmpty(n.widget.get_value()),r=!Q.isTrimmedEmpty(i.get_value()),u;t&&!Q.parseDate(n.widget.element.val())&&(t=!1,Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null),n.widget.element.val(""));r&&!Q.parseDate(i.element.val())&&(r=!1,Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null),i.element.val(""));n.active=t||r;t&&(n.request.Criteria=Serenity.Criteria.join(n.request.Criteria,"and",[[n.field],">=",n.widget.get_value()]));r&&(u=new Date(i.get_valueAsDate().valueOf()),u.setDate(u.getDate()+1),n.request.Criteria=Serenity.Criteria.join(n.request.Criteria,"and",[[n.field],"<",Q.formatDate(u,"yyyy-MM-dd")]))}}},addDateTimeRangeFilter:function(n,t){return ss.cast(this.addQuickFilter(this.dateTimeRangeQuickFilter(n,t)),ct)},dateTimeRangeQuickFilter:function(n,t){var i=null;return{field:n,type:ct,title:t,element:function(n){i=Serenity.Widget.create({type:ct,element:function(t){t.insertAfter(n)},options:null,init:null});i.element.change(function(){n.triggerHandler("change")});$("<span/>").addClass("range-separator").text("-").insertAfter(n)},init:function(n){n.element.parent().find(".time").change(function(){n.element.triggerHandler("change")})},handler:function(n){var t=!Q.isTrimmedEmpty(n.widget.get_value()),r=!Q.isTrimmedEmpty(i.get_value());t&&!Q.parseDate(n.widget.element.val())&&(t=!1,Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null),n.widget.element.val(""));r&&!Q.parseDate(i.element.val())&&(r=!1,Q.notifyWarning(Q.text("Validation.DateInvalid"),"",null),i.element.val(""));n.active=t||r;t&&(n.request.Criteria=Serenity.Criteria.join(n.request.Criteria,"and",[[n.field],">=",n.widget.get_value()]));r&&(n.request.Criteria=Serenity.Criteria.join(n.request.Criteria,"and",[[n.field],"<=",i.get_value()]))}}},addBooleanFilter:function(n,t,i,r){return ss.cast(this.addQuickFilter(this.booleanQuickFilter(n,t,i,r)),ii)},booleanQuickFilter:function(n,t,i,r){var o=pt.$ctor(),f=[],e=i,u;return ss.isNullOrUndefined(e)&&(e=Q.text("Controls.FilterPanel.OperatorNames.true")),f.push(["1",e]),u=r,ss.isNullOrUndefined(u)&&(u=Q.text("Controls.FilterPanel.OperatorNames.false")),f.push(["0",u]),o.items=f,{field:n,type:ii,title:t,options:o,handler:function(n){n.equalityFilter[n.field]=ss.isNullOrEmptyString(ss.safeCast(n.value,String))?null:!!Q.toId(n.value)}}},invokeSubmitHandlers:function(){ss.staticEquals(this.$4$submitHandlersField,null)||this.$4$submitHandlersField()},quickFilterChange:function(){this.refresh()},getPersistanceStorage:function(){return a.defaultPersistanceStorage},getPersistanceKey:function(){var n="GridSettings:",t=window.location.pathname;return ss.isNullOrEmptyString(t)||(n+=t.substr(1).split(String.fromCharCode(47)).slice(0,2).join("/")+":"),n+ss.getTypeFullName(ss.getInstanceType(this))},gridPersistanceFlags:function(){return{}},$canShowColumn:function(n){if(ss.isNullOrUndefined(n))return!1;var t=n.sourceItem;return ss.isNullOrUndefined(t)?!0:t.filterOnly===!0?!1:ss.isNullOrUndefined(t.readPermission)?!0:Q.Authorization.hasPermission(t.readPermission)},restoreSettings:function(n,t){var b,u,tt,o,s,f,h,c,l,a,r,d,v,y,p,w,nt,g;if(ss.isNullOrUndefined(n)){if(b=this.getPersistanceStorage(),ss.isNullOrUndefined(b))return;if(u=Q.trimToNull(b.getItem(this.getPersistanceKey())),ss.isValue(u)&&ss.startsWithString(u,"{")&&ss.endsWithString(u,"}"))n=JSON.parse(u);else return}if(!ss.isNullOrUndefined(this.slickGrid)){var e=this.slickGrid.getColumns(),i=null,k=function(n){var t,r;for(i={},t=0;t<n.length;t++)r=n[t],i[r.id]=r};this.view.beginUpdate();this.restoringSettings++;try{if(t=t||this.gridPersistanceFlags(),ss.isValue(n.columns)){if(t.columnVisibility!==!1){for(tt={},k(this.allColumns),o=[],s=0;s<n.columns.length;s++)f=n.columns[s],ss.isValue(f.id)&&f.visible===!0&&(h=i[f.id],this.$canShowColumn(h)&&(h.visible=!0,o.push(h),delete i[f.id]));for(c=0;c<this.allColumns.length;c++)l=this.allColumns[c],ss.keyExists(i,l.id)&&(l.visible=!1,o.push(l));this.allColumns=o;e=this.allColumns.filter(function(n){return n.visible===!0})}if(t.columnWidths!==!1)for(k(e),a=0;a<n.columns.length;a++)r=n.columns[a],ss.isValue(r.id)&&ss.isValue(r.width)&&r.width!==0&&(d=i[r.id],ss.isValue(d)&&(d.width=ss.unbox(r.width)));if(t.sortColumns!==!1){for(k(e),v=[],y=n.columns.filter(function(n){return ss.isValue(n.id)&&ss.coalesce(n.sort,0)!==0}),y.sort(function(n,t){return ss.unbox(n.sort)-ss.unbox(t.sort)}),p=0;p<y.length;p++)w=y[p],nt=i[w.id],ss.isValue(nt)&&v.push({columnId:w.id,sortAsc:ss.Nullable$1.gt(w.sort,0)});this.view.sortBy=v.map(function(n){return n.columnId+(n.sortAsc===!1?" DESC":"")});this.slickGrid.setSortColumns(v)}this.slickGrid.setColumns(e);this.slickGrid.invalidate()}ss.isValue(n.filterItems)&&t.filterItems!==!1&&ss.isValue(this.filterBar)&&ss.isValue(this.filterBar.get_store())&&(ss.clear(this.filterBar.get_store().get_items()),ss.arrayAddRange(this.filterBar.get_store().get_items(),n.filterItems),this.filterBar.get_store().raiseChanged());ss.isValue(n.includeDeleted)&&t.includeDeleted!==!1&&(g=this.element.find(".s-IncludeDeletedToggle"),!!n.includeDeleted!==g.hasClass("pressed")&&g.children("a").click())}finally{this.restoringSettings--;this.view.endUpdate()}}},persistSettings:function(n){var t=this.getPersistanceStorage(),i;ss.isNullOrUndefined(t)||(i=this.getCurrentSettings(n),t.setItem(this.getPersistanceKey(),$.toJSON(i)))},getCurrentSettings:function(n){var t,e,o,u,f,i,r;if(n=n||this.gridPersistanceFlags(),t={},n.columnVisibility!==!1||n.columnWidths!==!1||n.sortColumns!==!1)for(t.columns=[],e=this.slickGrid.getSortColumns(),o=this.slickGrid.getColumns(),u=0;u<o.length;u++)f={$:o[u]},i={},i.id=f.$.id,n.columnVisibility!==!1&&(i.visible=!0),n.columnWidths!==!1&&(i.width=f.$.width),n.sortColumns!==!1&&(r=Q.indexOf(e,ss.mkdel({column:f},function(n){return ss.referenceEquals(n.columnId,this.column.$.id)})),i.sort=r>=0?e[r].sortAsc!==!1?r+1:-r-1:0),t.columns.push(i);return n.includeDeleted!==!1&&(t.includeDeleted=this.element.find(".s-IncludeDeletedToggle").hasClass("pressed")),n.filterItems!==!1&&ss.isValue(this.filterBar)&&ss.isValue(this.filterBar.get_store())&&(t.filterItems=ss.arrayClone(this.filterBar.get_store().get_items())),t},getElement:function(){return this.element},getGrid:function(){return this.slickGrid},getView:function(){return this.view},getFilterStore:function(){return ss.isNullOrUndefined(this.filterBar)?null:this.filterBar.get_store()}},Serenity.Widget,[gr]);ss.initClass(eu,n,{getTreeItems:function(){return[]},updateItems:function(){for(var n,r,t=this.getTreeItems(),u={},i=0;i<t.length;i++)n=t[i],n.children=[],Q.isEmptyOrNull(n.id)||(u[n.id]=n),Q.isEmptyOrNull(n.parentId)||(r=u[n.parentId],ss.isValue(r)&&r.children.push(n));this.view.addData({Entities:t,Skip:0,Take:0,TotalCount:t.length});this.updateSelectAll();this.updateFlags()},getEditValue:function(n,t){t[n.name]=this.get_value()},setEditValue:function(n,t){var i=ss.safeCast(n[t.name],Array);ss.isValue(i)&&this.set_value(i)},getButtons:function(){var i=this.getSelectAllText(),t,n;return Q.isEmptyOrNull(i)?null:(t=this,n=[],n.push(ur.define(function(){return t},function(n){return n.id},function(n){return n.isSelected},ss.mkdel(this,function(n,t){n.isSelected!==t&&(n.isSelected=t,this.itemSelectedChanged(n))}),null,ss.mkdel(this,function(){this.updateFlags()}))),n)},itemSelectedChanged:function(){},getSelectAllText:function(){return"Tümünü Seç"},isThreeStateHierarchy:function(){return!1},createSlickGrid:function(){this.element.addClass("slick-no-cell-border").addClass("slick-no-odd-even");var n=a.prototype.createSlickGrid.call(this);return this.element.addClass("slick-hide-header"),n.resizeCanvas(),n},onViewFilter:function(n){if(!a.prototype.onViewFilter.call(this,n))return!1;var i=this.view.getItems(),t=this;return ht.filterCustom(n,function(n){var r,u;if(ss.isNullOrUndefined(n.parentId))return null;if(ss.isNullOrUndefined(t.$byId))for(t.$byId={},r=0;r<i.length;r++)u=i[r],ss.isValue(u.id)&&(t.$byId[u.id]=u);return t.$byId[n.parentId]})},getInitialCollapse:function(){return!1},onViewProcessData:function(n){return n=a.prototype.onViewProcessData.call(this,n),this.$byId=null,ht.setIndents(n.Entities,function(n){return n.id},function(n){return n.parentId},this.getInitialCollapse()),n},onClick:function(n,t,i){var u;if((a.prototype.onClick.call(this,n,t,i),n.isDefaultPrevented()||ht.toggleClick(n,t,i,this.view,function(n){return n.id}),!n.isDefaultPrevented())&&(u=$(n.target),u.hasClass("check-box"))){var f=u.hasClass("checked")||u.hasClass("partial"),r=this.rows.getDataItem(t),e=r.isSelected!==!f;this.view.beginUpdate();try{r.isSelected!==!f&&(r.isSelected=!f,this.view.updateItem(r.id,r),this.itemSelectedChanged(r));e=!!(this.$setAllSubTreeSelected(r,r.isSelected)|e);this.updateSelectAll();this.updateFlags()}finally{this.view.endUpdate()}e&&this.element.triggerHandler("change")}},updateSelectAll:function(){ur.update(this,function(n){return n.isSelected})},updateFlags:function(){var t=this.view,e=t.getItems(),s=this.isThreeStateHierarchy(),i,n,f,r,u,o;if(s){t.beginUpdate();try{for(i=0;i<e.length;i++){if(n=e[i],ss.isNullOrUndefined(n.children)||n.children.length===0){f=this.getDescendantsSelected(n);f!==n.isAllDescendantsSelected&&(n.isAllDescendantsSelected=f,t.updateItem(n.id,n));continue}r=this.allDescendantsSelected(n);u=r||this.anyDescendantsSelected(n);(r!==n.isAllDescendantsSelected||u!==n.isSelected)&&(o=n.isSelected!==u,n.isAllDescendantsSelected=r,n.isSelected=u,t.updateItem(n.id,n),o&&this.itemSelectedChanged(n))}}finally{t.endUpdate()}}},getDescendantsSelected:function(){return!0},$setAllSubTreeSelected:function(n,t){for(var i,r=!1,u=0;u<n.children.length;u++)i=n.children[u],i.isSelected!==t&&(r=!0,i.isSelected=t,this.view.updateItem(i.id,i),this.itemSelectedChanged(i)),i.children.length>0&&(r=!!(this.$setAllSubTreeSelected(i,t)|r));return r},$allItemsSelected:function(){for(var t,n=0;n<this.rows.getDataLength();n++)if(t=this.rows.getDataItem(n),!t.isSelected)return!1;return this.rows.getDataLength()>0},allDescendantsSelected:function(n){var t,i;if(n.children.length>0)for(t=0;t<n.children.length;t++)if((i=n.children[t],!i.isSelected)||!this.allDescendantsSelected(i))return!1;return!0},anyDescendantsSelected:function(n){var t,i;if(n.children.length>0)for(t=0;t<n.children.length;t++)if((i=n.children[t],i.isSelected)||this.anyDescendantsSelected(i))return!0;return!1},getColumns:function(){var t=this,n=[];return n.push({field:"text",name:"Kayıt",width:80,format:k.treeToggle(function(){return t.view},function(n){return n.id},ss.mkdel(this,function(n){var i="check-box",t=n.item,r;return t.hideCheckBox?this.getItemText(n):(r=this.isThreeStateHierarchy(),t.isSelected&&(i+=r&&!t.isAllDescendantsSelected?" partial":" checked"),'<span class="'+i+'"><\/span>'+this.getItemText(n))}))}),n},getItemText:function(n){return Q.htmlEncode(n.value)},getSlickOptions:function(){var n=a.prototype.getSlickOptions.call(this);return n.forceFitColumns=!0,n},sortItems:function(){var t,r;if(this.moveSelectedUp()){var i={},n=this.view.getItems(),u=0;for(t=0;t<n.length;t++)r=n[t],i[r.id]=u++;n.sort(function(n,t){if(n.isSelected&&!t.isSelected)return-1;if(t.isSelected&&!n.isSelected)return 1;var r=Q.turkishLocaleCompare(n.text,t.text);return r!==0?r:ss.compare(i[n.id],i[t.id])});this.view.setItems(n,!0)}},moveSelectedUp:function(){return!1},get_value:function(){for(var i=[],t=this.view.getItems(),n=0;n<t.length;n++)t[n].isSelected&&i.push(t[n].id);return i},set_value:function(n){var e={},i,u,r,t,f;if(ss.isValue(n))for(i=0;i<n.length;i++)e[n[i]]=!0;this.view.beginUpdate();try{for(u=this.view.getItems(),r=0;r<u.length;r++)t=u[r],f=e[t.id],f!==t.isSelected&&(t.isSelected=f,this.view.updateItem(t.id,t));this.updateSelectAll();this.updateFlags();this.sortItems()}finally{this.view.endUpdate()}}},a,[gr,g,nt]);ss.initClass(pr,n,{});ss.initClass(ou,n,{});ss.initClass(u,n,{get_value:function(){var n=this.element.val().trim();return ss.isValue(n)&&n.length===0?null:Q.formatDate(n,"yyyy-MM-dd")},set_value:function(n){ss.isNullOrUndefined(n)?this.element.val(""):n.toLowerCase()==="today"||n.toLowerCase()==="now"?this.element.val(Q.formatDate(ss.today(),null)):this.element.val(Q.formatDate(n,null))},get_valueAsDate:function(){return ss.isNullOrEmptyString(this.get_value())?null:Q.parseISODateTime(this.get_value())},set_valueAsDate:function(n){ss.staticEquals(n,null)&&this.set_value(null);this.set_value(Q.formatDate(n,"yyyy-MM-dd"))},get_readOnly:function(){return this.element.hasClass("readonly")},set_readOnly:function(n){n!==this.get_readOnly()&&(n?(this.element.addClass("readonly").attr("readonly","readonly"),this.element.nextAll(".ui-datepicker-trigger").css("opacity","0.1")):(this.element.removeClass("readonly").removeAttr("readonly"),this.element.nextAll(".ui-datepicker-trigger").css("opacity","1")))},get_minValue:function(){return this.$4$MinValueField},set_minValue:function(n){this.$4$MinValueField=n},get_maxValue:function(){return this.$4$MaxValueField},set_maxValue:function(n){this.$4$MaxValueField=n},get_minDate:function(){return Q.parseISODateTime(this.get_minValue())},set_minDate:function(n){this.set_minValue(Q.formatDate(n,"yyyy-MM-dd"))},get_maxDate:function(){return Q.parseISODateTime(this.get_maxValue())},set_maxDate:function(n){this.set_maxValue(Q.formatDate(n,"yyyy-MM-dd"))},get_sqlMinMax:function(){return this.get_minValue()==="1753-01-01"&&this.get_maxValue()==="9999-12-31"},set_sqlMinMax:function(n){n?(this.set_minValue("1753-01-01"),this.set_maxValue("9999-12-31")):(this.set_minValue(null),this.set_maxValue(null))}},Serenity.Widget,[o,y]);ss.initClass(ef,n,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))}},ss.makeGenericType(w,[u]),[d,it]);ss.initClass(bt,n,{get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(n){this.$1$DisplayFormatField=n},format:function(n){return bt.format(n.value,this.get_displayFormat())}},null,[et]);ss.initClass(ct,n,{get_value:function(){var n=this.element.val().trim(),t,i;return ss.isValue(n)&&n.length===0?null:(t=Q.formatDate(n,"yyyy-MM-dd"),i=this.$time.val(),t+"T"+i+":00.000")},set_value:function(n){if(ss.isNullOrEmptyString(n))this.element.val(""),this.$time.val("00:00");else if(n.toLowerCase()==="today")this.element.val(Q.formatDate(ss.today(),null)),this.$time.val("00:00");else{var t=n.toLowerCase()==="now"?new Date:Q.parseISODateTime(n);t=ct.roundToMinutes(t,ss.coalesce(this.options.intervalMinutes,5));this.element.val(Q.formatDate(t,null));this.$time.val(Q.formatDate(t,"HH:mm"))}},get_valueAsDate:function(){return ss.isNullOrEmptyString(this.get_value())?null:Q.parseISODateTime(this.get_value())},set_valueAsDate:function(n){ss.staticEquals(n,null)&&this.set_value(null);this.set_value(Q.formatDate(n,"yyyy-MM-ddTHH:mm"))},get_minValue:function(){return this.$4$MinValueField},set_minValue:function(n){this.$4$MinValueField=n},get_maxValue:function(){return this.$4$MaxValueField},set_maxValue:function(n){this.$4$MaxValueField=n},get_minDate:function(){return Q.parseISODateTime(this.get_minValue())},set_minDate:function(n){this.set_minValue(Q.formatDate(n,"yyyy-MM-ddTHH:mm:ss"))},get_maxDate:function(){return Q.parseISODateTime(this.get_maxValue())},set_maxDate:function(n){this.set_maxValue(Q.formatDate(n,"yyyy-MM-ddTHH:mm:ss"))},get_sqlMinMax:function(){return this.get_minValue()==="1753-01-01"&&this.get_maxValue()==="9999-12-31"},set_sqlMinMax:function(n){n?(this.set_minValue("1753-01-01"),this.set_maxValue("9999-12-31")):(this.set_minValue(null),this.set_maxValue(null))},get_readOnly:function(){return this.element.hasClass("readonly")},set_readOnly:function(n){n!==this.get_readOnly()&&(n?(this.element.addClass("readonly").attr("readonly","readonly"),this.element.nextAll(".ui-datepicker-trigger").css("opacity","0.1")):(this.element.removeClass("readonly").removeAttr("readonly"),this.element.nextAll(".ui-datepicker-trigger").css("opacity","1")),e.setReadonly(this.$time,n))}},Serenity.Widget,[o,y]);ss.initClass(of,n,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))},getCriteria:function(n){var f,t;switch(this.get_operator().key){case"eq":case"ne":case"lt":case"le":case"gt":case"ge":f=this.getEditorText();n.$=this.displayText(this.get_operator(),[f]);t=Q.parseISODateTime(ss.cast(this.getEditorValue(),String));t=new Date(t.getFullYear(),t.getMonth(),t.getDate());var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),i=[this.getCriteriaField()],r=Q.formatDate(t,"yyyy-MM-dd"),u=Q.formatDate(e,"yyyy-MM-dd");switch(this.get_operator().key){case"eq":return Serenity.Criteria.join([i,">=",r],"and",[i,"<",u]);case"ne":return Serenity.Criteria.paren(Serenity.Criteria.join([i,"<",r],"or",[i,">",u]));case"lt":return[i,"<",r];case"le":return[i,"<",u];case"gt":return[i,">=",u];case"ge":return[i,">=",r]}}return b.prototype.getCriteria.call(this,n)}},ss.makeGenericType(w,[u]),[d,it]);ss.initClass(le,n,{},bt,[et]);ss.initClass(ii,n,{getItems:function(){return this.options.items||[]},emptyItemText:function(){return ss.isNullOrEmptyString(this.options.emptyOptionText)?p.prototype.emptyItemText.call(this):this.options.emptyOptionText},updateItems:function(){var t=this.getItems(),u,i,n,e,f,r,o;if(this.clearItems(),t.length>0)for(u=typeof t[0]=="string",i=0;i<t.length;i++)n=t[i],e=ss.cast(u?n:n[0],String),u?f=n:(r=n[1],ss.isNullOrUndefined(r)&&(r=n[0]),f=r),o=ss.cast(f,String),this.addOption(e,o,n,!1)}},p,[nt,g,o,y]);ss.initClass(sf,n,{getItems:function(){var n=this.options,r,u;if(ss.isValue(n.items)&&n.items.length>=1)return n.items;var f=[],t=(new Date).getFullYear(),i=(new Date).getFullYear();if(ss.isValue(n.minYear)&&(n.minYear=n.minYear.toString(),ss.startsWithString(n.minYear,"-")?t-=parseInt(n.minYear.substr(1),10):ss.startsWithString(n.minYear,"+")?t+=parseInt(n.minYear.substr(1),10):t=parseInt(n.minYear,10)),ss.isValue(n.maxYear)&&(n.maxYear=n.maxYear.toString(),ss.startsWithString(n.maxYear,"-")?i-=parseInt(n.maxYear.substr(1),10):ss.startsWithString(n.maxYear,"+")?i+=parseInt(n.maxYear.substr(1),10):i=parseInt(n.maxYear,10)),n.descending)for(r=i;r>=t;r--)f.push(r.toString());else for(u=t;u<=i;u++)f.push(u.toString());return f}},ii,[nt,g,o,y]);ss.initClass(pt,n,{});ss.initClass(pi,n,{},pt);ss.initInterface(gi,n,{get_value:null,set_value:null});ss.initClass(kt,n,{get_value:function(){var n=this.element.autoNumeric("get");return(ss.isNullOrUndefined(n)||ss.referenceEquals(n.Length,0))?null:ss.cast(parseFloat(ss.cast(n,String)),Number)},set_value:function(n){ss.isNullOrUndefined(n)||n===""?this.element.val(""):this.element.autoNumeric("set",n)},get_isValid:function(){return!isNaN(this.get_value())}},Serenity.Widget,[gi]);ss.initClass(ei,n,{});ss.initClass(ae,n,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))}},ss.makeGenericType(w,[kt]),[d,it]);ss.initClass(su,n,{});ss.initClass(oi,n,{});ss.initClass(ft,n,{});ss.initClass(hf,n,{get_editorType:function(){return this.$3$EditorTypeField},set_editorType:function(n){this.$3$EditorTypeField=n},get_useRelative:function(){return this.$3$UseRelativeField},set_useRelative:function(n){this.$3$UseRelativeField=n},get_useLike:function(){return this.$3$UseLikeField},set_useLike:function(n){this.$3$UseLikeField=n},getOperators:function(){var n=[];return n.push({key:t.EQ}),n.push({key:t.NE}),this.get_useRelative()&&(n.push({key:t.LT}),n.push({key:t.LE}),n.push({key:t.GT}),n.push({key:t.GE})),this.get_useLike()&&(n.push({key:t.contains}),n.push({key:t.startsWith})),this.appendNullableOperators(n),n},useEditor:function(){return ss.referenceEquals(this.get_operator().key,t.EQ)||ss.referenceEquals(this.get_operator().key,t.NE)||this.get_useRelative()&&(ss.referenceEquals(this.get_operator().key,t.LT)||ss.referenceEquals(this.get_operator().key,t.LE)||ss.referenceEquals(this.get_operator().key,t.GT)||ss.referenceEquals(this.get_operator().key,t.GE))},getEditorOptions:function(){var n=ss.makeGenericType(w,[Object]).prototype.getEditorOptions.call(this);return this.useEditor()&&ss.referenceEquals(this.get_editorType(),ss.coalesce(this.get_field().editorType,"String"))&&(n=$.extend(n,this.get_field().editorParams)),n},createEditor:function(){if(this.useEditor()){var n=s.get(this.get_editorType());this.editor=Serenity.Widget.create({type:n,element:ss.mkdel(this,function(n){n.appendTo(this.get_container())}),options:this.getEditorOptions(),init:null});return}ss.makeGenericType(w,[Object]).prototype.createEditor.call(this)},useIdField:function(){return this.useEditor()},getEditorText:function(){return b.prototype.getEditorText.call(this)},initQuickFilter:function(n){ss.makeGenericType(w,[Object]).prototype.initQuickFilter.call(this,n);n.type=s.get(this.get_editorType())}},ss.makeGenericType(w,[Object]),[d,it]);ss.initClass(hu,n,{});ss.initClass(cu,n,{setParams:function(){}});ss.initClass(wi,n,{},cu);ss.initClass(dt,n,{getItems:function(){var n,t;if(ss.isNullOrUndefined(dt.$editorTypeList)){dt.$editorTypeList=[];n=new ss.ObjectEnumerator(vt.get_registeredTypes());try{while(n.moveNext())t=n.current(),dt.$editorTypeList.push([t.key,t.value.displayName])}finally{n.dispose()}dt.$editorTypeList.sort(function(n,t){var i=n[1],r=t[1];return Q.turkishLocaleCompare(i,r)})}return dt.$editorTypeList}},ii,[nt,g,o,y]);ss.initClass(s,n,{});ss.initClass(e,n,{});ss.initClass(ir,n,{get_value:function(){var i=this.element.nextAll(".emaildomain"),t=this.element.val(),n=i.val();return Q.isEmptyOrNull(t)?this.options.readOnlyDomain||Q.isEmptyOrNull(n)?"":"@"+n:t+"@"+n},set_value:function(n){var i=this.element.nextAll(".emaildomain"),t;n=Q.trimToNull(n);ss.isNullOrUndefined(n)?(this.options.readOnlyDomain||i.val(""),this.element.val("")):(t=n.split("@"),t.length>1?this.options.readOnlyDomain?Q.isEmptyOrNull(this.options.domain)?this.element.val(t[0]):ss.referenceEquals(t[1],this.options.domain)?this.element.val(t[0]):this.element.val(n):(i.val(t[1]),this.element.val(t[0])):this.element.val(t[0]))},get_readOnly:function(){var n=this.element.nextAll(".emaildomain");return!(ss.isNullOrUndefined(this.element.attr("readonly"))&&(!this.options.readOnlyDomain||ss.isNullOrUndefined(n.attr("readonly"))))},set_readOnly:function(n){var t=this.element.nextAll(".emaildomain");n?(this.element.attr("readonly","readonly").addClass("readonly"),this.options.readOnlyDomain||t.attr("readonly","readonly").addClass("readonly")):(this.element.removeAttr("readonly").removeClass("readonly"),this.options.readOnlyDomain||t.removeAttr("readonly").removeClass("readonly"))}},Serenity.Widget,[o,y]);ss.initClass(bi,n,{});ss.initInterface(ni,n,{dialogOpen:null});ss.initInterface(fr,n,{load:null},[ni]);ss.initClass(wr,n,{initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.$initPropertyGridAsync),null).then(ss.mkdel(this,this.$initLocalizationGridAsync),null)},destroy:function(){ss.isValue(this.propertyGrid)&&(this.propertyGrid.destroy(),this.propertyGrid=null);ss.isValue(this.localizationGrid)&&(this.localizationGrid.destroy(),this.localizationGrid=null);this.undeleteButton=null;this.applyChangesButton=null;this.deleteButton=null;this.saveAndCloseButton=null;Serenity.TemplatedDialog.prototype.destroy.call(this)},get_entity:function(){return this.entity},set_entity:function(n){this.entity=n||{}},get_entityId:function(){return this.entityId},set_entityId:function(n){this.entityId=n},getEntityNameFieldValue:function(){return ss.coalesce(this.get_entity()[this.getNameProperty()],"").toString()},getEntityTitle:function(){if(this.isEditMode()){var n=ss.coalesce(this.getEntityNameFieldValue(),"");return ss.formatString(Q.text("Controls.EntityDialog.EditRecordTitle"),this.getEntitySingular(),Q.isEmptyOrNull(n)?"":" ("+n+")")}return ss.formatString(Q.text("Controls.EntityDialog.NewRecordTitle"),this.getEntitySingular())},updateTitle:function(){this.isPanel||this.element.dialog().dialog("option","title",this.getEntityTitle())},isCloneMode:function(){return!1},isEditMode:function(){return ss.isValue(this.get_entityId())&&!this.isCloneMode()},isDeleted:function(){if(ss.isNullOrUndefined(this.get_entityId()))return!1;var n=this.get_entity()[this.getIsActiveProperty()];return ss.isNullOrUndefined(n)?!1:ss.Nullable$1.lt(n,0)},isNew:function(){return ss.isNullOrUndefined(this.get_entityId())},isNewOrDeleted:function(){return this.isNew()||this.isDeleted()},getDeleteOptions:function(){return{}},deleteHandler:function(n){Q.serviceCall(n)},doDelete:function(n){var r=this,t={},i,u,f;t.service=this.getService()+"/Delete";i={};i.EntityId=this.get_entityId();t.request=i;t.onSuccess=ss.mkdel(this,function(t){r.onDeleteSuccess(t);ss.staticEquals(n,null)||n(t);r.element.triggerHandler("ondatachange",[{entityId:i.EntityId,entity:this.entity,type:"delete"}])});u=this.getDeleteOptions(n);f=$.extend(t,u);this.deleteHandler(f,n)},onDeleteSuccess:function(){},getEntityType:function(){var t,n,i;if(ss.isNullOrUndefined(this.$entityType)){if(t=ss.getAttributes(ss.getInstanceType(this),Serenity.EntityTypeAttribute,!0),t.length===1)return this.$entityType=t[0].value,this.$entityType;n=ss.getTypeFullName(ss.getInstanceType(this));i=n.indexOf(".");i>=0&&(n=n.substring(i+1));ss.endsWithString(n,"Dialog")||ss.endsWithString(n,"Control")?n=n.substr(0,n.length-6):ss.endsWithString(n,"Panel")&&(n=n.substr(0,n.length-5));this.$entityType=n}return this.$entityType},getFormKey:function(){if(ss.isNullOrUndefined(this.$formKey)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.FormKeyAttribute,!0);this.$formKey=n.length>=1?n[0].value:this.getEntityType()}return this.$formKey},getLocalTextDbPrefix:function(){return ss.isNullOrUndefined(this.$localTextDbPrefix)&&(this.$localTextDbPrefix=ss.coalesce(this.getLocalTextPrefix(),""),this.$localTextDbPrefix.length>0&&!ss.endsWithString(this.$localTextDbPrefix,".")&&(this.$localTextDbPrefix="Db."+this.$localTextDbPrefix+".")),this.$localTextDbPrefix},getLocalTextPrefix:function(){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.LocalTextPrefixAttribute,!0);return n.length>=1?n[0].value:this.getEntityType()},getEntitySingular:function(){var t,n;return ss.isNullOrUndefined(this.$entitySingular)&&(t=ss.getAttributes(ss.getInstanceType(this),Serenity.ItemNameAttribute,!0),t.length>=1?(this.$entitySingular=t[0].value,this.$entitySingular=Q.LT.getDefault(this.$entitySingular,this.$entitySingular)):(n=Q.tryGetText(this.getLocalTextDbPrefix()+"EntitySingular"),ss.isNullOrUndefined(n)&&(n=this.getEntityType()),this.$entitySingular=n)),this.$entitySingular},getNameProperty:function(){if(ss.isNullOrUndefined(this.$nameProperty)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.NamePropertyAttribute,!0);this.$nameProperty=n.length>=1?n[0].value:"Name"}return this.$nameProperty},getIdProperty:function(){if(ss.isNullOrUndefined(this.$idProperty)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.IdPropertyAttribute,!0);this.$idProperty=n.length>=1?n[0].value:"ID"}return this.$idProperty},getIsActiveProperty:function(){if(ss.isNullOrUndefined(this.$isActiveProperty)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.IsActivePropertyAttribute,!0);this.$isActiveProperty=n.length>=1?n[0].value:"IsActive"}return this.$isActiveProperty},getService:function(){if(ss.isNullOrUndefined(this.$service)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.ServiceAttribute,!0);this.$service=n.length>=1?n[0].value:ss.replaceAllString(this.getEntityType(),String.fromCharCode(46),String.fromCharCode(47))}return this.$service},load:function(n,t,i){var r=ss.mkdel(this,function(){var i,f,r,u;if(ss.isNullOrUndefined(n)){this.loadResponse({});ss.staticEquals(t,null)||t();return}if(i=typeof n,i==="string"||i==="number"){f=this;r=n;this.loadById(r,function(){ss.staticEquals(t,null)||window.setTimeout(t,0)},null);return}u=n||{};this.loadResponse({Entity:u});ss.staticEquals(t,null)||t()}),u;if(ss.staticEquals(i,null)){r();return}try{r()}catch(f){u=ss.Exception.wrap(f);i(u)}},loadNewAndOpenDialog:function(){this.loadResponse({});this.isPanel||this.element.dialog().dialog("open")},loadEntityAndOpenDialog:function(n){this.loadResponse({Entity:n});this.isPanel||this.element.dialog().dialog("open")},loadResponse:function(n){n=n||{};this.onLoadingData(n);var t=n.Entity||{};this.beforeLoadEntity(t);this.loadEntity(t);this.set_entity(t);this.afterLoadEntity()},loadEntity:function(n){var t=this.getIdProperty();ss.isValue(t)&&this.set_entityId(n[t]);this.set_entity(n);ss.isValue(this.propertyGrid)&&(this.propertyGrid.set_mode(this.isEditMode()?1:0),this.propertyGrid.load(n))},beforeLoadEntity:function(){this.localizationPendingValue=null;this.localizationLastValue=null},afterLoadEntity:function(){this.updateInterface();this.updateTitle()},loadByIdAndOpenDialog:function(n){var t=this;this.loadById(n,ss.mkdel(this,function(){window.setTimeout(ss.mkdel(this,function(){this.isPanel||t.element.dialog().dialog("open")}),0)}),ss.mkdel(this,function(){this.isPanel||t.element.is(":visible")||t.element.remove()}))},onLoadingData:function(){},getLoadByIdOptions:function(){return{}},getLoadByIdRequest:function(n){var t={};return t.EntityId=n,t},reloadById:function(){this.loadById(this.get_entityId(),null,null)},loadById:function(n,t,i){var r={},u,f,e;r.service=this.getService()+"/Retrieve";r.blockUI=!0;r.request=this.getLoadByIdRequest(n);u=this;r.onSuccess=function(n){u.loadResponse(n);ss.staticEquals(t,null)||t(n)};r.onCleanup=function(){ss.isValue(u.validator)&&Q.validatorAbortHandler(u.validator)};f=this.getLoadByIdOptions(n,t);e=$.extend(r,f);this.loadByIdHandler(e,t,i)},loadByIdHandler:function(n,t,i){var r=Q.serviceCall(n);ss.staticEquals(i,null)||r.fail(i)},$initLocalizationGrid:function(){var t=this.byId("PropertyGrid"),n;t.length<=0||(n=this.getPropertyGridOptions(),this.$initLocalizationGridCommon(n))},$initLocalizationGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.byId("PropertyGrid");return n.length<=0?RSVP.resolve():this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(n){this.$initLocalizationGridCommon(n)}),null)}),null)},$initLocalizationGridCommon:function(n){for(var v,s,r,u,f,i,t,h,e,l,p,y=this.byId("PropertyGrid"),a=!1,o=0;o<n.items.length;o++)v=n.items[o],v.localizable===!0&&(a=!0);if(a){for(s=$("<div/>").attr("id",this.idPrefix+"LocalizationGrid").hide().insertAfter(y),n.idPrefix=this.idPrefix+"Localization_",r=[],u=0;u<n.items.length;u++)if(f=n.items[u],i=null,f.localizable===!0)for(t=$.extend({},f),t.oneWay=!0,t.readOnly=!0,t.required=!1,t.defaultValue=null,r.push(t),ss.isNullOrUndefined(i)&&(h=this.getLanguages(),i=ss.safeCast(h,Array),(ss.isNullOrUndefined(i)||i.length===0||ss.isNullOrUndefined(i[0])||!ss.isArray(i[0]))&&(i=Array.prototype.slice.call(h.map(function(n){return[n.item1,n.item2]})))),e=0;e<i.length;e++)l=i[e],t=$.extend({},f),t.name=l[0]+"$"+t.name,t.title=l[1],t.cssClass=[t.cssClass,"translation"].join(" "),t.insertable=!0,t.updatable=!0,t.oneWay=!1,t.required=!1,t.localizable=!1,t.defaultValue=null,r.push(t);n.items=r;this.localizationGrid=new c(s,n).init(null);s.addClass("s-LocalizationGrid");p=this}},isLocalizationMode:function(){return ss.isValue(this.localizationButton)&&this.localizationButton.hasClass("pressed")},isLocalizationModeAndChanged:function(){if(!this.isLocalizationMode())return!1;var n=this.$getLocalizationGridValue();return!ss.referenceEquals($.toJSON(this.localizationLastValue),$.toJSON(n))},$localizationButtonClick:function(){if(!this.isLocalizationMode()||this.validateForm()){if(this.isLocalizationModeAndChanged()){var n=this.$getLocalizationGridValue();this.localizationLastValue=n;this.localizationPendingValue=n}this.localizationButton.toggleClass("pressed");this.updateInterface();this.isLocalizationMode()&&this.$loadLocalization()}},getLanguages:function(){return ss.staticEquals(wr.defaultLanguageList,null)?[]:wr.defaultLanguageList()||[]},$loadLocalization:function(){var t,n,r,i;if(ss.isNullOrUndefined(this.localizationLastValue)&&this.isNew()){this.localizationGrid.load({});this.$setLocalizationGridCurrentValues();this.localizationLastValue=this.$getLocalizationGridValue();return}if(ss.isValue(this.localizationLastValue)){this.localizationGrid.load(this.localizationLastValue);this.$setLocalizationGridCurrentValues();return}t=this;n={};n.service=this.getService()+"/Retrieve";n.blockUI=!0;r=this.get_entityId();i=[];i.push("Localizations");n.request={EntityId:r,ColumnSelection:"keyOnly",IncludeColumns:i};n.onSuccess=ss.mkdel(this,function(n){var f=$.extend({},t.get_entity()),i=ss.getEnumerator(Object.keys(n.Localizations)),u;try{while(i.moveNext()){var e=i.current(),o=n.Localizations[e],r=ss.getEnumerator(Object.keys(o));try{while(r.moveNext())u=r.current(),f[e+"$"+u]=o[u]}finally{r.dispose()}}}finally{i.dispose()}t.localizationGrid.load(f);this.$setLocalizationGridCurrentValues();this.localizationPendingValue=null;this.localizationLastValue=this.$getLocalizationGridValue()});Q.serviceCall(n)},$setLocalizationGridCurrentValues:function(){var n={};this.localizationGrid.enumerateItems(ss.mkdel(this,function(t,i){t.name.indexOf("$")<0&&i.element.is(":input")&&(n[t.name]=this.byId(t.name).val(),i.element.val(n[t.name]))}));this.localizationGrid.enumerateItems(function(t,i){var u=t.name.indexOf("$"),r;u>=0&&i.element.is(":input")&&(r=n[t.name.substr(u+1)],ss.isValue(r)&&r.length>0&&i.element.attr("title",r).attr("placeholder",r))})},$getLocalizationGridValue:function(){var n={},t,i;this.localizationGrid.save(n);t=ss.getEnumerator(Object.keys(n));try{while(t.moveNext())i=t.current(),i.indexOf(String.fromCharCode(36))<0&&delete n[i]}finally{t.dispose()}return n},$getPendingLocalizations:function(){var t,f,i,r;if(ss.isNullOrUndefined(this.localizationPendingValue))return null;var e={},o=this.getIdProperty(),s=this.getLanguages(),n=ss.safeCast(s,Array);for((ss.isNullOrUndefined(n)||n.length===0||ss.isNullOrUndefined(n[0])||!ss.isArray(n[0]))&&(n=Array.prototype.slice.call(s.map(function(n){return[n.item1,n.item2]}))),t=0;t<n.length;t++){var c=n[t],h=c[0],u={};ss.isValue(o)&&(u[o]=this.get_entityId());f=h+"$";i=ss.getEnumerator(Object.keys(this.localizationPendingValue));try{while(i.moveNext())r=i.current(),ss.startsWithString(r,f)&&(u[r.substr(f.length)]=this.localizationPendingValue[r])}finally{i.dispose()}e[h]=u}return e},$initPropertyGrid:function(){var n=this.byId("PropertyGrid"),t;n.length<=0||(t=this.getPropertyGridOptions(),this.propertyGrid=new c(n,t).init(null),this.element.closest(".ui-dialog").hasClass("s-Flexify")&&this.propertyGrid.element.children(".categories").flexHeightOnly(1))},$initPropertyGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.byId("PropertyGrid");return n.length<=0?RSVP.resolve():this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(t){return this.propertyGrid=new c(n,t),this.element.closest(".ui-dialog").hasClass("s-Flexify")&&this.propertyGrid.element.children(".categories").flexHeightOnly(1),this.propertyGrid.initialize()}),null)}),null)},getPropertyItems:function(){var n=this.getFormKey();return Q.getForm(n)},getPropertyGridOptions:function(){var n=st.$ctor();return n.idPrefix=this.idPrefix,n.items=this.getPropertyItems(),n.mode=0,n.localTextPrefix="Forms."+this.getFormKey()+".",n},getPropertyGridOptionsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(n){var t=st.$ctor();return t.idPrefix=this.idPrefix,t.items=n,t.mode=0,t.localTextPrefix="Forms."+this.getFormKey()+".",t}),null)},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.getFormKey();return Q.getFormAsync(n)}),null)},validateBeforeSave:function(){return!0},getSaveOptions:function(n){var t=this,i={};return i.service=this.getService()+"/"+(this.isEditMode()?"Update":"Create"),i.onSuccess=ss.mkdel(this,function(r){var o,u,s,e,f,h;t.onSaveSuccess(r);ss.staticEquals(n,null)||n(r);o=t.isEditMode()?"update":"create";u=i.request;ss.isNullOrUndefined(u)&&(u={});s=u.Entity;t.isEditMode()?e=this.get_entityId():(f=r,ss.isNullOrUndefined(f)&&(f={}),e=f.EntityId);h={type:o,entity:s,entityId:e};t.element.triggerHandler("ondatachange",[h])}),i.onCleanup=function(){ss.isValue(t.validator)&&Q.validatorAbortHandler(t.validator)},i.request=this.getSaveRequest(),i},getSaveEntity:function(){var n={},t;return ss.isValue(this.propertyGrid)&&this.propertyGrid.save(n),this.isEditMode()&&(t=this.getIdProperty(),ss.isValue(t)&&!ss.isValue(n[t])&&(n[t]=this.get_entityId())),n},getSaveRequest:function(){var i=this.getSaveEntity(),n={},t;return n.Entity=i,this.isEditMode()&&(t=this.getIdProperty(),ss.isValue(t)&&(n.EntityId=this.get_entityId())),ss.isValue(this.localizationPendingValue)&&(n.Localizations=this.$getPendingLocalizations()),n},onSaveSuccess:function(){},save_SubmitHandler:function(n){var t=this.getSaveOptions(n);this.saveHandler(t,n)},save:function(n){var t=this;return yi.submit(this.byId("Form"),function(){return t.validateBeforeSave()},function(){t.save_SubmitHandler(n)})},saveHandler:function(n){Q.serviceCall(n)},initToolbar:function(){(Serenity.TemplatedDialog.prototype.initToolbar.call(this),ss.isNullOrUndefined(this.toolbar))||(this.saveAndCloseButton=this.toolbar.findButton("save-and-close-button"),this.applyChangesButton=this.toolbar.findButton("apply-changes-button"),this.deleteButton=this.toolbar.findButton("delete-button"),this.undeleteButton=this.toolbar.findButton("undo-delete-button"),this.cloneButton=this.toolbar.findButton("clone-button"),this.localizationButton=this.toolbar.findButton("localization-button"))},showSaveSuccessMessage:function(){Q.notifySuccess(Q.text("Controls.EntityDialog.SaveSuccessMessage"),"",null)},getToolbarButtons:function(){var t=[],n=this;return this.isPanel||t.push({title:Q.text("Controls.EntityDialog.SaveButton"),cssClass:"save-and-close-button",hotkey:"alt+s",onClick:function(){n.save(function(){n.element.dialog().dialog("close")})}}),t.push({title:this.isPanel?Q.text("Controls.EntityDialog.SaveButton"):"",hint:this.isPanel?Q.text("Controls.EntityDialog.SaveButton"):Q.text("Controls.EntityDialog.ApplyChangesButton"),cssClass:"apply-changes-button",hotkey:"alt+a",onClick:ss.mkdel(this,function(){n.save(ss.mkdel(this,function(t){if(n.isEditMode()){var i=t.EntityId;ss.isNullOrUndefined(i)&&(i=n.get_entityId());n.loadById(i,null,null)}else n.loadById(t.EntityId,null,null);this.showSaveSuccessMessage(t)}))})}),this.isPanel||(t.push({title:Q.text("Controls.EntityDialog.DeleteButton"),cssClass:"delete-button",hotkey:"alt+x",onClick:function(){Q.confirm(Q.text("Controls.EntityDialog.DeleteConfirmation"),function(){n.doDelete(function(){n.element.dialog().dialog("close")})})}}),t.push({title:Q.text("Controls.EntityDialog.UndeleteButton"),cssClass:"undo-delete-button",onClick:function(){n.isDeleted()&&Q.confirm(Q.text("Controls.EntityDialog.UndeleteConfirmation"),function(){n.undelete(function(){n.loadById(n.get_entityId(),null,null)})})}}),t.push({title:Q.text("Controls.EntityDialog.LocalizationButton"),cssClass:"localization-button",onClick:ss.mkdel(this,function(){this.$localizationButtonClick()})}),t.push({title:Q.text("Controls.EntityDialog.CloneButton"),cssClass:"clone-button",onClick:ss.mkdel(this,function(){if(n.isEditMode()){var t=this.getCloningEntity();Serenity.Widget.create({type:ss.getInstanceType(this),element:null,options:{},init:ss.mkdel(this,function(n){rt.bubbleDataChange(rt.cascade(n,this.element),this,!0).loadEntityAndOpenDialog(t)})})}})})),t},getCloningEntity:function(){var n={},t,i;return n=$.extend(n,this.get_entity()),t=this.getIdProperty(),Q.isEmptyOrNull(t)||delete n[t],i=this.getIsActiveProperty(),Q.isEmptyOrNull(i)||delete n[i],n},updateInterface:function(){var n=this.isDeleted(),t=this.isLocalizationMode();if(ss.isValue(this.tabs)&&Serenity.TabsExtensions.setDisabled(this.tabs,"Log",this.isNewOrDeleted()),ss.isValue(this.propertyGrid)&&this.propertyGrid.element.toggle(!t),ss.isValue(this.localizationGrid)&&this.localizationGrid.element.toggle(t),ss.isValue(this.localizationButton)&&(this.localizationButton.toggle(ss.isValue(this.localizationGrid)),this.localizationButton.find(".button-inner").text(this.isLocalizationMode()?Q.text("Controls.EntityDialog.LocalizationBack"):Q.text("Controls.EntityDialog.LocalizationButton"))),t){ss.isValue(this.toolbar)&&this.toolbar.findButton("tool-button").not(".localization-hidden").addClass(".localization-hidden").hide();ss.isValue(this.localizationButton)&&this.localizationButton.show();return}this.toolbar.findButton("localization-hidden").removeClass("localization-hidden").show();ss.isValue(this.deleteButton)&&this.deleteButton.toggle(this.isEditMode()&&!n);ss.isValue(this.undeleteButton)&&this.undeleteButton.toggle(this.isEditMode()&&n);ss.isValue(this.saveAndCloseButton)&&(this.saveAndCloseButton.toggle(!n),this.saveAndCloseButton.find(".button-inner").text(Q.text(this.isNew()?"Controls.EntityDialog.SaveButton":"Controls.EntityDialog.UpdateButton")));ss.isValue(this.applyChangesButton)&&this.applyChangesButton.toggle(!n);ss.isValue(this.cloneButton)&&this.cloneButton.toggle(!1)},getUndeleteOptions:function(){return{}},undeleteHandler:function(n){Q.serviceCall(n)},undelete:function(n){var r=this,t={},i,u,f;t.service=this.getService()+"/Undelete";i={};i.EntityId=this.get_entityId();t.request=i;t.onSuccess=ss.mkdel(this,function(t){ss.staticEquals(n,null)||n(t);r.element.triggerHandler("ondatachange",[{entityId:r.get_entityId(),entity:this.entity,type:"undelete"}])});u=this.getUndeleteOptions(n);f=$.extend(t,u);this.undeleteHandler(f,n)}},Serenity.TemplatedDialog,[ni,fr]);ss.initClass(ve,n,{usePager:function(){return!0},createToolbarExtensions:function(){this.createIncludeDeletedButton();this.createQuickSearchInput()},getInitialTitle:function(){return this.getDisplayName()},getLocalTextPrefix:function(){var n=a.prototype.getLocalTextPrefix.call(this);return Q.isEmptyOrNull(n)?this.getEntityType():n},getEntityType:function(){var t,n,i;if(ss.isNullOrUndefined(this.$entityType)){if(t=ss.getAttributes(ss.getInstanceType(this),Serenity.EntityTypeAttribute,!0),t.length===1)return this.$entityType=t[0].value,this.$entityType;n=ss.getTypeFullName(ss.getInstanceType(this));i=n.indexOf(".");i>=0&&(n=n.substring(i+1));ss.endsWithString(n,"Grid")?n=n.substr(0,n.length-4):ss.endsWithString(n,"SubGrid")&&(n=n.substr(0,n.length-7));this.$entityType=n}return this.$entityType},getDisplayName:function(){var t,n;return ss.isNullOrUndefined(this.$displayName)&&(t=ss.getAttributes(ss.getInstanceType(this),i,!0),t.length>=1?(this.$displayName=t[0].displayName,this.$displayName=Q.LT.getDefault(this.$displayName,this.$displayName)):(n=Q.tryGetText(this.getLocalTextDbPrefix()+"EntityPlural"),ss.isNullOrUndefined(n)&&(n=this.getEntityType()),this.$displayName=n)),this.$displayName},getItemName:function(){var t,n;return ss.isNullOrUndefined(this.$itemName)&&(t=ss.getAttributes(ss.getInstanceType(this),Serenity.ItemNameAttribute,!0),t.length>=1?(this.$itemName=t[0].value,this.$itemName=Q.LT.getDefault(this.$itemName,this.$itemName)):(n=Q.tryGetText(this.getLocalTextDbPrefix()+"EntitySingular"),ss.isNullOrUndefined(n)&&(n=this.getEntityType()),this.$itemName=n)),this.$itemName},getAddButtonCaption:function(){return ss.formatString(Q.text("Controls.EntityGrid.NewButton"),this.getItemName())},getButtons:function(){var t=this,n=[];return n.push({title:this.getAddButtonCaption(),cssClass:"add-button",hotkey:"alt+n",onClick:function(){t.addButtonClick()}}),n.push(this.newRefreshButton(!0)),n.push(Serenity.ColumnPickerDialog.createToolButton(this)),n},newRefreshButton:function(n){var t=this;return{title:n?null:Q.text("Controls.EntityGrid.RefreshButton"),hint:n?Q.text("Controls.EntityGrid.RefreshButton"):null,cssClass:"refresh-button",onClick:function(){t.refresh()}}},addButtonClick:function(){this.editItem({})},editItem:function(n){this.createEntityDialog(this.getItemType(),function(t){var i=ss.safeCast(t,fr);if(ss.isValue(i)){i.load(n,function(){i.dialogOpen()},null);return}throw new ss.InvalidOperationException(ss.formatString("{0} doesn't implement IEditDialog!",ss.getTypeFullName(ss.getInstanceType(t))));})},editItemOfType:function(n,t){if(ss.referenceEquals(n,this.getItemType())){this.editItem(t);return}this.createEntityDialog(n,function(n){var i=ss.safeCast(n,fr);if(ss.isValue(i)){i.load(t,function(){i.dialogOpen()},null);return}throw new ss.InvalidOperationException(ss.formatString("{0} doesn't implement IEditDialog!",ss.getTypeFullName(ss.getInstanceType(n))));})},getService:function(){if(ss.isNullOrUndefined(this.$service)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.ServiceAttribute,!0);this.$service=n.length>=1?n[0].value:ss.replaceAllString(this.getEntityType(),String.fromCharCode(46),String.fromCharCode(47))}return this.$service},getViewOptions:function(){var n=a.prototype.getViewOptions.call(this);return n.url=Q.resolveUrl("~/Services/"+this.getService()+"/List"),n},getItemType:function(){return this.getEntityType()},initDialog:function(n){var t=this;rt.bindToDataChange(n,this,function(){t.subDialogDataChange()},!0)},initEntityDialog:function(n,t){if(ss.referenceEquals(n,this.getItemType())){this.initDialog(t);return}var i=this;rt.bindToDataChange(t,this,function(){i.subDialogDataChange()},!0)},createEntityDialog:function(n,t){var i=this.getDialogTypeFor(n);return Serenity.Widget.create({type:i,element:null,options:this.getDialogOptionsFor(n),init:ss.mkdel(this,function(i){this.initEntityDialog(n,i);ss.staticEquals(t,null)||t(i)})})},getDialogOptions:function(){return{}},getDialogOptionsFor:function(n){return ss.referenceEquals(n,this.getItemType())?this.getDialogOptions():{}},getDialogTypeFor:function(n){return ss.referenceEquals(n,this.getItemType())?this.getDialogType():ft.get(n)},getDialogType:function(){if(ss.isNullOrUndefined(this.$dialogType)){var n=ss.getAttributes(ss.getInstanceType(this),Serenity.DialogTypeAttribute,!0);this.$dialogType=n.length>=1?n[0].value:ft.get(this.getEntityType())}return this.$dialogType}},a,[gr]);ss.initClass(br,n,{updateItems:function(){var n,t,r,u,i,f,e;for(this.clearItems(),n=this.options.enumType||ut.get(this.options.enumKey),t=this.options.enumKey,ss.isNullOrUndefined(t)&&ss.isValue(n)&&(r=ss.getAttributes(n,Serenity.EnumKeyAttribute,!1),r.length>0&&(t=r[0].value)),u=ss.Enum.getValues(n),i=0;i<u.length;i++)f=u[i],e=ss.Enum.toString(n,f),this.addOption(ss.unbox(ss.cast(f,ss.Int32)).toString(),ss.coalesce(Q.tryGetText("Enums."+t+"."+e),e),null,!1)},getSelect2Options:function(){var n=p.prototype.getSelect2Options.call(this);return n.allowClear=ss.coalesce(this.options.allowClear,!0),n}},p,[nt,g,o,y]);ss.initClass(si,n,{});ss.initClass(ye,n,{getOperators:function(){var n=[];return n.push({key:t.EQ}),n.push({key:t.NE}),this.appendNullableOperators(n)}},ss.makeGenericType(w,[br]),[d,it]);ss.initClass(lt,n,{get_enumKey:function(){return this.$1$EnumKeyField},set_enumKey:function(n){this.$1$EnumKeyField=n},format:function(n){return lt.format(ut.get(this.get_enumKey()),n.value)}},null,[et]);ss.initClass(ut,n,{});ss.initInterface(au,n,{initializeColumn:null});ss.initClass(kr,n,{format:function(n){var i=ss.safeCast(n.value,String),r,t,u;return ss.isNullOrEmptyString(i)?"":(r=kr.dbFileUrl(i),t=ss.isNullOrEmptyString(this.get_originalNameProperty())?null:ss.safeCast(n.item[this.get_originalNameProperty()],String),t=ss.coalesce(t,""),u=ss.formatString(ss.coalesce(this.get_displayFormat(),"{0}"),t,i,r),"<a class='file-download-link' target='_blank' href='"+Q.htmlEncode(r)+"'>"+Q.htmlEncode(u)+"<\/a>")},get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(n){this.$1$DisplayFormatField=n},get_originalNameProperty:function(){return this.$1$OriginalNamePropertyField},set_originalNameProperty:function(n){this.$1$OriginalNamePropertyField=n},initializeColumn:function(n){if(n.referencedFields=n.referencedFields||[],!ss.isNullOrEmptyString(this.get_originalNameProperty())){n.referencedFields.push(this.get_originalNameProperty());return}}},null,[et,au]);ss.initClass(ki,n,{});ki.$ctor1.prototype=ki.prototype;ss.initClass(cf,n,{getTemplate:function(){return"<div id='~_FilterPanel'/>"},getDialogOptions:function(){var n=Serenity.TemplatedDialog.prototype.getDialogOptions.call(this);return n.buttons=[{text:Q.text("Dialogs.OkButton"),click:ss.mkdel(this,function(){if(this.$filterPanel.search(),this.$filterPanel.get_hasErrors()){Q.notifyError(Q.text("Controls.FilterPanel.FixErrorsMessage"),"",null);return}this.dialogClose()})},{text:Q.text("Dialogs.CancelButton"),click:ss.mkdel(this,this.dialogClose)}],n.title=Q.text("Controls.FilterPanel.DialogTitle"),n},get_filterPanel:function(){return this.$filterPanel}},Serenity.TemplatedDialog,[ni]);ss.initClass(lf,n,{filterStoreChanged:function(){var n,i,t;ss.makeGenericType(gt,[Object]).prototype.filterStoreChanged.call(this);n=Q.trimToNull(this.get_store().get_displayText());this.element.find(".current").toggle(ss.isValue(n));this.element.find(".reset").toggle(ss.isValue(n));i=this.element.find(".txt");t=n;ss.isNullOrUndefined(t)&&(t=Q.text("Controls.FilterPanel.EffectiveEmpty"));i.text("["+t+"]")},getTemplate:function(){return"<div><a class='reset'><\/a><a class='edit'><\/a><div class='current'><span class='cap'><\/span><a class='txt'><\/a><\/div><\/div>"}},ss.makeGenericType(gt,[Object]));ss.initClass(l,n,{});ss.initClass(t,n,{});ss.initClass(di,n,{get_showInitialLine:function(){return this.$showInitialLine},set_showInitialLine:function(n){this.$showInitialLine!==n&&(this.$showInitialLine=n,this.$showInitialLine&&this.$rowsDiv.children().length===0&&this.$addEmptyRow(!1))},filterStoreChanged:function(){ss.makeGenericType(gt,[Object]).prototype.filterStoreChanged.call(this);this.updateRowsFromStore()},updateRowsFromStore:function(){var e,i,n,t,r,o,s,u;for(this.$rowsDiv.empty(),e=this.get_store().get_items(),i=0;i<e.length;i++)n=e[i],this.$addEmptyRow(!1),t=this.$rowsDiv.children().last(),r=t.children("div.l"),r.children(".leftparen").toggleClass("active",!!n.leftParen),r.children(".rightparen").toggleClass("active",!!n.rightParen),r.children(".andor").toggleClass("or",!!n.isOr).text(Q.text(!n.isOr?"Controls.FilterPanel.And":"Controls.FilterPanel.Or")),o=f.getWidget(ar).call(null,t.children("div.f").find("input.field-select")),o.set_value(n.field),this.$rowFieldChange(t),s=f.getWidget(vr).call(null,t.children("div.o").find("input.op-select")),s.set_value(n.operator),this.$rowOperatorChange(t),u=this.$getFilteringFor(t),ss.isValue(u)&&(u.set_operator({key:n.operator}),u.loadState(n.state));this.get_showInitialLine()&&this.$rowsDiv.children().length===0&&this.$addEmptyRow(!1);this.$updateParens()},get_showSearchButton:function(){return this.$showSearchButton},set_showSearchButton:function(n){this.$showSearchButton!==n&&(this.$showSearchButton=n,this.$updateButtons())},get_updateStoreOnReset:function(){return this.$updateStoreOnReset},set_updateStoreOnReset:function(n){this.$updateStoreOnReset!==n&&(this.$updateStoreOnReset=n)},getTemplate:function(){return di.panelTemplate},$initButtons:function(){this.byId("AddButton").text(Q.text("Controls.FilterPanel.AddFilter")).click(ss.mkdel(this,this.$addButtonClick));this.byId("SearchButton").text(Q.text("Controls.FilterPanel.SearchButton")).click(ss.mkdel(this,this.$searchButtonClick));this.byId("ResetButton").text(Q.text("Controls.FilterPanel.ResetButton")).click(ss.mkdel(this,this.$resetButtonClick))},$searchButtonClick:function(n){n.preventDefault();this.search()},get_hasErrors:function(){return this.$rowsDiv.children().children("div.v").children("span.error").length>0},search:function(){var e,i,c,r,n,s,l;this.$rowsDiv.children().children("div.v").children("span.error").remove();var h=[],o=null,t=null;for(e=0;e<this.$rowsDiv.children().length;e++)try{if(t=this.$rowsDiv.children().eq(e),i=this.$getFilteringFor(t),ss.isNullOrUndefined(i))continue;if(c=this.$getFieldFor(t),r=f.getWidget(vr).call(null,t.children("div.o").find("input.op-select")).get_value(),ss.isNullOrUndefined(r)||r.length===0)throw new ss.ArgumentOutOfRangeException("operator",Q.text("Controls.FilterPanel.InvalidOperator"));n={};n.field=c.name;n.operator=r;n.isOr=t.children("div.l").children("a.andor").hasClass("or");n.leftParen=t.children("div.l").children("a.leftparen").hasClass("active");n.rightParen=t.children("div.l").children("a.rightparen").hasClass("active");s={};i.set_operator({key:r});n.criteria=i.getCriteria(s);n.state=i.saveState();n.displayText=s.$;h.push(n)}catch(u){if(u=ss.Exception.wrap(u),ss.isInstanceOfType(u,ss.ArgumentException)){l=ss.cast(u,ss.ArgumentException);o=l.get_message();break}else throw u;}if(ss.isValue(o)){$("<span/>").addClass("error").attr("title",o).appendTo(t.children("div.v"));t.children("div.v").find("input:first").focus();return}ss.clear(this.get_store().get_items());ss.arrayAddRange(this.get_store().get_items(),h);this.get_store().raiseChanged()},$addButtonClick:function(n){this.$addEmptyRow(!0);n.preventDefault()},$resetButtonClick:function(n){n.preventDefault();this.get_updateStoreOnReset()&&this.get_store().get_items().length>0&&(ss.clear(this.get_store().get_items()),this.get_store().raiseChanged());this.$rowsDiv.empty();this.$updateButtons();this.get_showInitialLine()&&this.$addEmptyRow(!1)},$findEmptyRow:function(){var n=null;return this.$rowsDiv.children().each(function(t,i){var u=$(i).children("div.f").children("input.field-select").first(),r;return u.length===0?!0:(r=u.val(),ss.isNullOrUndefined(r)||r.length===0)?(n=$(i),!1):!0}),n},$addEmptyRow:function(n){var i=this.$findEmptyRow(),r,e;if(ss.isValue(i))return i.find("input.field-select").select2("focus"),n&&i.find("input.field-select").select2("open"),i;var o=this.$rowsDiv.children().last().children("a.andor").hasClass("or"),t=$(di.rowTemplate).appendTo(this.$rowsDiv),u=t.children("div.l").hide();return u.children("a.leftparen, a.rightparen").click(ss.mkdel(this,this.$leftRightParenClick)),r=u.children("a.andor").attr("title",Q.text("Controls.FilterPanel.ChangeAndOr")),o?r.addClass("or").text(Q.text("Controls.FilterPanel.Or")):r.text(Q.text("Controls.FilterPanel.And")),r.click(ss.mkdel(this,this.$andOrClick)),t.children("a.delete").attr("title",Q.text("Controls.FilterPanel.RemoveField")).click(ss.mkdel(this,this.$deleteRowClick)),e=new ar(t.children("div.f").children("input"),this.get_store().get_fields()),f.changeSelect2(e,ss.mkdel(this,this.$onRowFieldChange)),this.$updateParens(),this.$updateButtons(),t.find("input.field-select").select2("focus"),n&&t.find("input.field-select").select2("open"),t},$onRowFieldChange:function(n){var t=$(n.target).closest("div.filter-line"),i;this.$rowFieldChange(t);i=t.children("div.o").find("input.op-select");i.select2("focus")},$rowFieldChange:function(n){n.removeData("Filtering");var i=f.getWidget(ar).call(null,n.children("div.f").find("input.field-select")),t=i.get_value(),r=ss.isNullOrUndefined(t)||t==="";this.$removeFiltering(n);this.$populateOperatorList(n);this.$rowOperatorChange(n);this.$updateParens();this.$updateButtons()},$removeFiltering:function(n){n.data("Filtering",null);n.data("FilteringField",null)},$populateOperatorList:function(n){var t,i,r;(n.children("div.o").html(""),t=this.$getFilteringFor(n),ss.isNullOrUndefined(t))||(i=n.children("div.o").html("<input/>").children().attr("type","hidden").addClass("op-select"),r=t.getOperators(),f.changeSelect2(new vr(i,r),ss.mkdel(this,this.$onRowOperatorChange)))},$getFieldFor:function(n){if(n.length===0)return null;var t=f.getWidget(ar).call(null,n.children("div.f").find("input.field-select"));return Q.isEmptyOrNull(t.get_value())?null:this.get_store().get_fieldByName()[t.get_value()]},$getFilteringFor:function(n){var i=this.$getFieldFor(n),t,r,u;return ss.isNullOrUndefined(i)?null:(t=ss.cast(n.data("Filtering"),d),ss.isValue(t))?t:(r=l.get(ss.coalesce(i.filteringType,"String")),u=n.children("div.v"),t=ss.cast(ss.createInstance(r),d),tr.set(t,i.filteringParams),t.set_container(u),t.set_field(i),n.data("Filtering",t),t)},$onRowOperatorChange:function(n){var t=$(n.target).closest("div.filter-line"),i;this.$rowOperatorChange(t);i=t.children("div.v").find(":input:visible").first();try{i.focus()}catch(r){}},$rowOperatorChange:function(n){var e,t,i,r,u;n.length!==0&&((e=n.children("div.v"),e.html(""),t=this.$getFilteringFor(n),ss.isNullOrUndefined(t))||(i=f.getWidget(vr).call(null,n.children("div.o").find("input.op-select")),Q.isEmptyOrNull(i.get_value()))||(r=t.getOperators().filter(function(n){return ss.referenceEquals(n.key,i.get_value())}),u=r.length>0?r[0]:null,ss.isNullOrUndefined(u))||(t.set_operator(u),t.createEditor()))},$deleteRowClick:function(n){n.preventDefault();var t=$(n.target).closest("div.filter-line");t.remove();this.$rowsDiv.children().length===0&&this.search();this.$updateParens();this.$updateButtons()},$updateButtons:function(){this.byId("SearchButton").toggle(this.$rowsDiv.children().length>=1&&this.$showSearchButton);this.byId("ResetButton").toggle(this.$rowsDiv.children().length>=1)},$andOrClick:function(n){n.preventDefault();var t=$(n.target).toggleClass("or");t.text(Q.text("Controls.FilterPanel."+(t.hasClass("or")?"Or":"And")))},$leftRightParenClick:function(n){n.preventDefault();$(n.target).toggleClass("active");this.$updateParens()},$updateParens:function(){var n=this.$rowsDiv.children(),i,u,r,t;if(n.length!==0){for(n.removeClass("paren-start"),n.removeClass("paren-end"),n.children("div.l").css("display",n.length===1?"none":"block"),n.first().children("div.l").children("a.rightparen, a.andor").css("visibility","hidden"),i=1;i<n.length;i++)u=n.eq(i),u.children("div.l").css("display","block").children("a.lefparen, a.andor").css("visibility","visible");for(r=!1,t=0;t<n.length;t++){var f=n.eq(t),e=f.children("div.l"),o=e.children("a.leftparen"),s=e.children("a.rightparen");s.hasClass("active")&&r&&(r=!1,t>0&&n.eq(t-1).addClass("paren-end"));o.hasClass("active")&&(r=!0,t>0&&f.addClass("paren-start"))}}}},ss.makeGenericType(gt,[Object]));ss.initClass(rr,n,{get_fields:function(){return this.$1$FieldsField},set_fields:function(n){this.$1$FieldsField=n},get_fieldByName:function(){return this.$1$FieldByNameField},set_fieldByName:function(n){this.$1$FieldByNameField=n},get_items:function(){return this.$1$ItemsField},set_items:function(n){this.$1$ItemsField=n},raiseChanged:function(){this.$displayText=null;ss.staticEquals(this.$changed,null)||this.$changed(this,ss.EventArgs.Empty)},add_changed:function(n){this.$changed=ss.delegateCombine(this.$changed,n)},remove_changed:function(n){this.$changed=ss.delegateRemove(this.$changed,n)},get_activeCriteria:function(){for(var t,r=!1,n=[""],u=!1,i=[""],f=0;f<this.get_items().length;f++)t=this.get_items()[f],(t.leftParen||r&&t.rightParen)&&(Serenity.Criteria.isEmpty(n)||(r&&(n=Serenity.Criteria.paren(n)),i=u?Serenity.Criteria.join(i,"or",n):Serenity.Criteria.join(i,"and",n),n=[""]),r=!1),t.leftParen&&(u=t.isOr,r=!0),n=t.isOr?Serenity.Criteria.join(n,"or",t.criteria):Serenity.Criteria.join(n,"and",t.criteria);return Serenity.Criteria.isEmpty(n)||(i=u?Serenity.Criteria.join(i,"or",Serenity.Criteria.paren(n)):Serenity.Criteria.join(i,"and",Serenity.Criteria.paren(n))),i},get_displayText:function(){var t,i,n;if(ss.isNullOrUndefined(this.$displayText)){for(t=!1,this.$displayText="",i=0;i<this.get_items().length;i++)n=this.get_items()[i],t&&(n.rightParen||n.leftParen)&&(this.$displayText+=")",t=!1),this.$displayText.length>0&&(this.$displayText+=" "+Q.text("Controls.FilterPanel."+(n.isOr?"Or":"And"))+" "),n.leftParen&&(this.$displayText+="(",t=!0),this.$displayText+=n.displayText;t&&(this.$displayText+=")")}return this.$displayText}});ss.initClass(af,n,{$storeInitialSize:function(){var u,t,f,i,n,r;this.element.data("flexify-init")||(u=this.element,t=this.options.designWidth,ss.isNullOrUndefined(t)&&(t=this.element.width()),u.data("flexify-width",t),f=this.element,i=this.options.designHeight,ss.isNullOrUndefined(i)&&(i=this.element.height()),f.data("flexify-height",i),this.element.data("flexify-init",!0),n=this,this.element.bind("resize."+this.uniqueName,function(){n.$resizeElements()}),this.element.bind("resizestop."+this.uniqueName,function(){n.$resizeElements()}),r=this.element.find(".ui-tabs"),r.length>0&&r.bind("tabsactivate."+this.uniqueName,function(){n.$resizeElements()}),(ss.isValue(this.options.designWidth)||ss.isValue(this.options.designHeight))&&n.$resizeElements())},$getXFactor:function(n){var t=null;return ss.staticEquals(this.options.getXFactor,null)||(t=this.options.getXFactor(n)),ss.isNullOrUndefined(t)&&(t=n.data("flex-x")),ss.coalesce(t,1)},$getYFactor:function(n){var t=null;return ss.staticEquals(this.options.getYFactor,null)||(t=this.options.getYFactor(n)),ss.isNullOrUndefined(t)&&(t=n.data("flex-y")),ss.coalesce(t,0)},$resizeElements:function(){var i=this.element.width(),r=this.element.data("flexify-width"),n,t;ss.isNullOrUndefined(r)&&(this.element.data("flexify-width",i),r=i);n=this.element.height();t=this.element.data("flexify-height");ss.isNullOrUndefined(t)&&(this.element.data("flexify-height",n),t=n);this.$xDifference=i-ss.unbox(r);this.$yDifference=n-ss.unbox(t);var e=this,f=this.element,u=this.element.find(".ui-tabs-panel");u.length>0&&(f=u.filter(":visible"));f.find(".flexify").add(u.filter(".flexify:visible")).each(function(n,t){e.$resizeElement($(t))})},$resizeElement:function(n){var e=this.$getXFactor(n),t,r,u,i,f;e!==0&&(t=n.data("flexify-width"),ss.isNullOrUndefined(t)&&(r=n.width(),n.data("flexify-width",r),t=r),n.width(ss.unbox(t)+e*this.$xDifference|0));u=this.$getYFactor(n);u!==0&&(i=n.data("flexify-height"),ss.isNullOrUndefined(i)&&(f=n.height(),n.data("flexify-height",f),i=f),n.height(ss.unbox(i)+u*this.$yDifference|0));n.hasClass("require-layout")&&n.triggerHandler("layout")}},Serenity.Widget);ss.initClass(v,n,{});ss.initClass(vf,n,{get_map:function(){return this.$map}},Serenity.Widget);ss.initClass(pe,n,{});ss.initClass(yf,n,{clear:function(){ss.clearKeys(this.$include);this.$updateSelectAll()},selectKeys:function(n){for(var i,t=0;t<n.length;t++)i=n[t],this.$include[i]=!0;this.$updateSelectAll()},resetCheckedAndRefresh:function(){this.$include={};this.$updateSelectAll();this.$grid.getView().populate()},$updateSelectAll:function(){var n=this.$grid.getElement().find(".select-all-header .slick-column-name .select-all-items");ss.isValue(n)&&n.toggleClass("checked",ss.getKeyCount(this.$include)>0&&this.$grid.getView().getItems().length===ss.getKeyCount(this.$include))},getSelectedKeys:function(){return Object.keys(this.$include)},getSelectedAsInt32:function(){return Object.keys(this.$include).map(function(n){return parseInt(n)})},getSelectedAsInt64:function(){return Object.keys(this.$include).map(function(n){return parseInt(n)})},setSelectedKeys:function(n){var t,i;for(this.clear(),t=0;t<n.length;t++)i=n[t],this.$include[i]=!0;this.$updateSelectAll()}});ss.initClass(ur,n,{});ss.initClass(tt,n,{});ss.initClass(hi,n,{});ss.initClass(lu,n,{});ss.initClass(at,n,{instanceReady:function(n){this.$instanceReady=!0;$(n.editor.container.$).addClass(this.element.attr("class"));this.element.addClass("select2-offscreen").css("display","block");n.editor.setData(this.element.val())},getLanguage:function(){var n=ss.coalesce(Q.trimToNull($("html").attr("lang")),"en");return!CKEDITOR.lang.languages[n]?(n.indexOf(String.fromCharCode(45))>=0&&(n=n.split(String.fromCharCode(45))[0]),!!CKEDITOR.lang.languages[n])?n:"en":n},getConfig:function(){var n=this;return{customConfig:"",language:this.getLanguage(),bodyClass:"s-HtmlContentBody",on:{instanceReady:function(t){n.instanceReady(t)},change:function(t){t.editor.updateElement();n.element.triggerHandler("change")}},toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"insert",groups:["links","insert","blocks","bidi","list","indent"]},{name:"forms",groups:["forms","mode","document","doctools","others","about","tools"]},{name:"colors"},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"align"},{name:"styles"}],removeButtons:"SpecialChar,Anchor,Subscript,Styles",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",contentsCss:Q.resolveUrl("~/Content/site/site.htmlcontent.css"),entities:!1,entities_latin:!1,entities_greek:!1,autoUpdateElement:!0,height:ss.isNullOrUndefined(this.options.rows)||this.options.rows===0?null:ss.Nullable$1.mul(this.options.rows,20)+"px"}},$getEditorInstance:function(){var n=this.element.attr("id");return CKEDITOR.instances[n]},destroy:function(){var n=this.$getEditorInstance();ss.isValue(n)&&n.destroy();Serenity.Widget.prototype.destroy.call(this)},get_value:function(){var n=this.$getEditorInstance();return this.$instanceReady&&ss.isValue(n)?n.getData():this.element.val()},set_value:function(n){var t=this.$getEditorInstance();this.element.val(n);this.$instanceReady&&ss.isValue(t)&&t.setData(n)},get_readOnly:function(){return!ss.isNullOrEmptyString(this.element.attr("disabled"))},set_readOnly:function(n){if(this.get_readOnly()!==n){n?this.element.attr("disabled","disabled"):this.element.removeAttr("disabled");var t=this.$getEditorInstance();this.$instanceReady&&ss.isValue(t)&&t.setReadOnly(n)}}},Serenity.Widget,[o,y]);ss.initClass(wt,n,{});ss.initClass(pf,n,{getConfig:function(){var n=at.prototype.getConfig.call(this);return n.removeButtons+=",Cut,Copy,Paste,BulletedList,NumberedList,Indent,Outdent,SpecialChar,Subscript,Superscript,Styles,PasteText,PasteFromWord,Strike,Link,Unlink,CreatePlaceholder,Image,Table,HorizontalRule,Source,Maximize,Format,Font,FontSize,Anchor,Blockquote,CreatePlaceholder,BGColor,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,Superscript,RemoveFormat",n.removePlugins+=",elementspath",n}},at,[o,y]);ss.initClass(wf,n,{getConfig:function(){var n=at.prototype.getConfig.call(this);return n.removeButtons+=",Image,Table,HorizontalRule,Anchor,Blockquote,CreatePlaceholder,BGColor,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,Superscript",n}},at,[o,y]);ss.initClass(vu,n,{addFileButtonText:function(){return Q.text("Controls.ImageUpload.AddFileButton")},getToolButtons:function(){var n=this,t=[];return t.push({title:this.addFileButtonText(),cssClass:"add-file-button",onClick:function(){}}),t.push({title:"",hint:Q.text("Controls.ImageUpload.DeleteButtonHint"),cssClass:"delete-button",onClick:function(){n.entity=null;n.populate();n.updateInterface()}}),t},populate:function(){var t=!Q.isTrimmedEmpty(this.options.originalNameProperty),i,n;ss.isNullOrUndefined(this.entity)?h.populateFileSymbols(this.fileSymbols,null,t,this.options.urlPrefix):(i=this.fileSymbols,n=[],n.push(this.entity),h.populateFileSymbols(i,n,t,this.options.urlPrefix))},updateInterface:function(){var n=this.toolbar.findButton("add-file-button"),t=this.toolbar.findButton("delete-button");n.toggleClass("disabled",this.get_readOnly());t.toggleClass("disabled",this.get_readOnly()||ss.isNullOrUndefined(this.entity))},get_readOnly:function(){return!ss.isNullOrUndefined(this.uploadInput.attr("disabled"))},set_readOnly:function(n){this.get_readOnly()!==n&&(n?this.uploadInput.attr("disabled","disabled"):this.uploadInput.removeAttr("disabled"),this.updateInterface())},get_value:function(){if(ss.isNullOrUndefined(this.entity))return null;return $.extend({},this.entity)},set_value:function(n){this.entity=ss.isValue(n)?ss.isNullOrUndefined(n.Filename)?null:$.extend({},n):null;this.populate();this.updateInterface()},getEditValue:function(n,t){t[n.name]=ss.isNullOrUndefined(this.entity)?null:Q.trimToNull(this.entity.Filename)},setEditValue:function(n,t){var i={};i.Filename=ss.cast(n[t.name],String);i.OriginalName=ss.cast(n[this.options.originalNameProperty],String);this.set_value(i)}},Serenity.Widget,[g,nt,y]);ss.initClass(ti,n,{});ss.initClass(kf,n,{});ss.initClass(er,n,{get_value$1:function(){var n=this.element.autoNumeric("get");return Q.isTrimmedEmpty(ss.cast(n,String))?null:ss.cast(parseInt(ss.cast(n,String),10),ss.Int32)},set_value$1:function(n){ss.isNullOrUndefined(n)||n===""?this.element.val(""):this.element.autoNumeric("set",n)},get_value:function(){return this.get_value$1()},set_value:function(n){this.set_value$1(ss.Int32.trunc(n))}},Serenity.Widget,[gi]);ss.initClass(nr,n,{});ss.initClass(we,n,{getOperators:function(){return this.appendNullableOperators(this.appendComparisonOperators([]))}},ss.makeGenericType(w,[er]),[d,it]);ss.initInterface(df,n,{get_required:null,set_required:null});ss.initClass(nu,n,{},ot,[nt,g,o,y]);ss.initClass(be,n,{getOperators:function(){var n=[];return n.push({key:t.EQ}),n.push({key:t.NE}),n.push({key:t.contains}),n.push({key:t.startsWith}),this.appendNullableOperators(n)},useEditor:function(){return ss.referenceEquals(this.get_operator().key,t.EQ)||ss.referenceEquals(this.get_operator().key,t.NE)},useIdField:function(){return this.useEditor()},getEditorText:function(){return this.useEditor()?this.editor.get_text():b.prototype.getEditorText.call(this)}},ss.makeGenericType(w,[nu]),[d,it]);ss.initClass(yu,n,{get_value:function(){return this.element.triggerHandler("blur.mask"),this.element.val()},set_value:function(n){this.element.val(n)}},Serenity.Widget,[o]);ss.initClass(ci,n,{});ss.initClass(gf,n,{});ss.initClass(pu,n,{format:function(n){return pu.format(n.value)}},null,[et]);ss.initClass(wu,n,{addFileButtonText:function(){return Q.text("Controls.ImageUpload.AddFileButton")},getToolButtons:function(){var t=this,n=[];return n.push({title:this.addFileButtonText(),cssClass:"add-file-button",onClick:function(){}}),n},populate:function(){h.populateFileSymbols(this.fileSymbols,this.entities,!0,this.options.urlPrefix);this.fileSymbols.children().each(ss.mkdel(this,function(n,t){var i=n;$("<a class='delete'><\/a>").appendTo($(t).children(".filename")).click(ss.mkdel(this,function(n){n.preventDefault();ss.removeAt(this.entities,i);this.populate()}))}))},updateInterface:function(){var n=this.toolbar.findButton("add-file-button");n.toggleClass("disabled",this.get_readOnly())},get_readOnly:function(){return!ss.isNullOrUndefined(this.uploadInput.attr("disabled"))},set_readOnly:function(n){this.get_readOnly()!==n&&(n?this.uploadInput.attr("disabled","disabled"):this.uploadInput.removeAttr("disabled"),this.updateInterface())},get_value:function(){return this.entities.map(function(n){return $.extend({},n)})},set_value:function(n){this.entities=(n||[]).map(function(n){return $.extend({},n)});this.populate();this.updateInterface()},getEditValue:function(n,t){t[n.name]=this.get_jsonEncodeValue()?$.toJSON(this.get_value()):this.get_value()},setEditValue:function(n,t){var u=n[t.name],i,r;ss.isInstanceOfType(u,String)?(i=ss.coalesce(Q.trimToNull(ss.safeCast(n[t.name],String)),"[]"),ss.startsWithString(i,"[")&&ss.endsWithString(i,"]")?this.set_value($.parseJSON(i)):(r=[],r.push({Filename:i,OriginalName:"UnknownFile"}),this.set_value(r))):this.set_value(ss.cast(u,Array))},get_jsonEncodeValue:function(){return this.$4$JsonEncodeValueField},set_jsonEncodeValue:function(n){this.$4$JsonEncodeValueField=n}},Serenity.Widget,[g,nt,y]);ss.initClass(or,n,{get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(n){this.$1$DisplayFormatField=n},format:function(n){return or.format(n.value,this.get_displayFormat())}},null,[et]);ss.initClass(ne,n,{});ss.initClass(ri,n,{get_value:function(){return this.element.val()},set_value:function(n){this.element.val(n)}},Serenity.Widget,[o]);ss.initClass(te,n,{},ri,[o]);ss.initClass(ie,n,{get_value:function(){return this.element.val()},set_value:function(n){this.element.val(n)}},Serenity.Widget,[o]);ss.initClass(r,n,{validate:function(n){return r.$validate(n,this.options.multiple,this.options.internal,this.options.mobile,this.options.allowInternational,this.options.allowExtension)},formatValue:function(){this.element.val(this.getFormattedValue())},getFormattedValue:function(){var t=this.element.val(),n=null,i=ss.mkdel(this,function(t){var i,r;return ss.isNullOrEmptyString(t)||this.options.internal?n(t):(t=ss.coalesce(t,"").trim(),ss.startsWithString(t,"+"))?t:t.indexOf(String.fromCharCode(47))>0?(i=ss.netSplit(t,[47].map(function(n){return String.fromCharCode(n)})),i.length!==2)?t:i[0].length<5?t:(r={},!ss.Int32.tryParse(i[1],r))?t:i[0]+" / "+r.$.toString():n(t)});return(this.options.internal||this.options.mobile?this.options.mobile?n=r.$formatMobileTurkey:this.options.internal&&(n=r.$formatPhoneInternal):n=r.$formatPhoneTurkey,!ss.staticEquals(n,null))?this.options.multiple?r.$formatMulti(t,i):i(t):t},get_value:function(){return this.getFormattedValue()},set_value:function(n){this.element.val(n)}},Serenity.Widget,[o]);ss.initClass(li,n,{});ss.initClass(bu,n,{});ss.initClass(tu,n,{destroy:function(){ss.isValue(this.options.menu)&&this.options.menu.remove();Serenity.Widget.prototype.destroy.call(this)}},Serenity.Widget);ss.initClass(ke,n,{},tu);ss.initClass(de,n,{byId$1:function(n){return $("#"+this.idPrefix+n)},byId:function(n){return function(t){return f.getWidget(n).call(null,this.byId$1(t))}},w:function(n,t){return Serenity.WX.getWidget(t)($("#"+this.idPrefix+n))}});ss.initClass(ge,n,{initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.$initPropertyGridAsync),null).then(ss.mkdel(this,function(){this.loadInitialEntity()}),null)},loadInitialEntity:function(){ss.isValue(this.propertyGrid)&&this.propertyGrid.load({})},getDialogOptions:function(){var n=Serenity.TemplatedDialog.prototype.getDialogOptions.call(this);return n.buttons=this.getDialogButtons(),n.width=400,n.title=this.getDialogTitle(),n},getDialogTitle:function(){return""},okClick:function(){this.validateBeforeSave()&&this.okClickValidated()},okClickValidated:function(){this.dialogClose()},cancelClick:function(){this.dialogClose()},getDialogButtons:function(){var n=[];return n.push({text:Q.text("Dialogs.OkButton"),click:ss.mkdel(this,this.okClick)}),n.push({text:Q.text("Dialogs.CancelButton"),click:ss.mkdel(this,this.cancelClick)}),n},destroy:function(){ss.isValue(this.propertyGrid)&&(this.propertyGrid.destroy(),this.propertyGrid=null);ss.isValue(this.validator)&&(this.byId("Form").remove(),this.validator=null);Serenity.TemplatedDialog.prototype.destroy.call(this)},get_entity:function(){return this.$entity},set_entity:function(n){this.$entity=n||{}},get_entityId:function(){return this.$entityId},set_entityId:function(n){this.$entityId=n},updateTitle:function(){},onDialogOpen:function(){Serenity.TemplatedDialog.prototype.onDialogOpen.call(this)},$initPropertyGrid:function(){var n=this.byId("PropertyGrid"),t;n.length<=0||(t=this.getPropertyGridOptions(),this.propertyGrid=new c(n,t).init(null),this.element.closest(".ui-dialog").hasClass("s-Flexify")&&this.propertyGrid.element.children(".categories").flexHeightOnly(1))},$initPropertyGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.byId("PropertyGrid");return n.length<=0?RSVP.resolve():this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(t){return this.propertyGrid=new c(n,t),this.element.closest(".ui-dialog").hasClass("s-Flexify")&&this.propertyGrid.element.children(".categories").flexHeightOnly(1),this.propertyGrid.initialize()}),null)}),null)},getFormKey:function(){var i=ss.getAttributes(ss.getInstanceType(this),Serenity.FormKeyAttribute,!0),n,t;return i.length>=1?i[0].value:(n=ss.getTypeFullName(ss.getInstanceType(this)),t=n.indexOf("."),t>=0&&(n=n.substring(t+1)),ss.endsWithString(n,"Dialog")?n=n.substr(0,n.length-6):ss.endsWithString(n,"Panel")&&(n=n.substr(0,n.length-5)),n)},getPropertyItems:function(){var n=this.getFormKey();return Q.getForm(n)},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.getFormKey();return Q.getFormAsync(n)}),null)},getPropertyGridOptions:function(){var n=st.$ctor();return n.idPrefix=this.idPrefix,n.items=this.getPropertyItems(),n.mode=0,n.useCategories=!1,n.localTextPrefix="Forms."+this.getFormKey()+".",n},getPropertyGridOptionsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(n){var t=st.$ctor();return t.idPrefix=this.idPrefix,t.items=n,t.mode=0,t.useCategories=!1,t.localTextPrefix="Forms."+this.getFormKey()+".",t}),null)},validateBeforeSave:function(){return this.validator.form()},getSaveEntity:function(){var n={};return ss.isValue(this.propertyGrid)&&this.propertyGrid.save(n),n}},Serenity.TemplatedDialog,[ni]);ss.initClass(iu,n,{});ss.initClass(no,n,{},iu);ss.initClass(c,n,{destroy:function(){if(ss.isValue(this.$editors)){for(var n=0;n<this.$editors.length;n++)this.$editors[n].destroy();this.$editors=null}this.element.find("a.category-link").unbind("click",c.$categoryLinkClick).remove();Serenity.Widget.prototype.destroy.call(this)},$createCategoryDiv:function(n,t,i,r){var u=$("<div/>").addClass("category").appendTo(n),f=$("<div/>").addClass("category-title").append($("<a/>").addClass("category-anchor").text(this.$determineText(i,function(n){return n+"Categories."+i})).attr("name",this.options.idPrefix+"Category"+t[i].toString())).appendTo(u),e;return ss.isValue(r)&&(u.addClass(r===!0?"collapsible collapsed":"collapsible"),e=$("<i/>").addClass(r===!0?"fa fa-plus":"fa fa-minus").appendTo(f),f.click(function(){u.toggleClass("collapsed");e.toggleClass("fa-plus").toggleClass("fa-minus")})),u},$determineText:function(n,t){var i,r;return ss.isValue(n)&&!ss.startsWithString(n,"`")&&(i=Q.tryGetText(n),ss.isValue(i))?i:(ss.isValue(n)&&ss.startsWithString(n,"`")&&(n=n.substr(1)),!Q.isEmptyOrNull(this.options.localTextPrefix)&&(r=Q.tryGetText(t(this.options.localTextPrefix)),ss.isValue(r)))?r:n},$createField:function(n,t){var r=$("<div/>").addClass("field").addClass(t.name).data("PropertyItem",t).appendTo(n),e,i;ss.isNullOrEmptyString(t.cssClass)||r.addClass(t.cssClass);var v=this.options.idPrefix+t.name,y=this.$determineText(t.title,function(n){return n+t.name}),b=this.$determineText(t.hint,function(n){return n+t.name+"_Hint"}),p=this.$determineText(t.placeholder,function(n){return n+t.name+"_Placeholder"}),k=$("<label/>").addClass("caption").attr("for",v),h=b;ss.isNullOrUndefined(h)&&(h=ss.coalesce(y,""));e=k.attr("title",h).html(ss.coalesce(y,"")).appendTo(r);t.required===!0&&$("<sup>*<\/sup>").attr("title",Q.text("Controls.PropertyGrid.RequiredHint")).prependTo(e);var u=s.get(ss.coalesce(t.editorType,"String")),w=ss.getAttributes(u,Serenity.ElementAttribute,!0),d=w.length>0?w[0].value:"<input/>",f=Serenity.Widget.elementFor(u).addClass("editor").addClass("flexify").attr("id",v).appendTo(r);f.is(":input")&&f.attr("name",ss.coalesce(t.name,""));Q.isEmptyOrNull(p)||f.attr("placeholder",p);var o=t.editorParams,l=null,a=ss.getAttributes(u,Serenity.OptionsTypeAttribute,!0);return ss.isValue(a)&&a.length>0&&(l=a[0].optionsType),ss.isValue(l)?(o=$.extend(ss.createInstance(l),t.editorParams),i=new u(f,o)):(o=$.extend({},t.editorParams),i=new u(f,o)),i.initialize(),ss.isInstanceOfType(i,yr)&&(ss.isNullOrUndefined(t.editorParams)||!!!t.editorParams.labelFor)&&e.removeAttr("for"),ss.isInstanceOfType(i,ru)&&(ss.isNullOrUndefined(t.editorParams)||!!!t.editorParams.labelFor)&&e.removeAttr("for"),ss.isValue(t.maxLength)&&c.$setMaxLength(i,ss.unbox(t.maxLength)),ss.isValue(t.editorParams)&&tr.set(i,t.editorParams),$("<div/>").addClass("vx").appendTo(r),$("<div/>").addClass("clear").appendTo(r),i},$getCategoryOrder:function(n){var s=0,t={},h=Q.trimToNull(this.options.categoryOrder),e,i,c,r,u,l,f,o;if(ss.isValue(h))for(e=h.split(";"),i=0;i<e.length;i++)(c=e[i],r=Q.trimToNull(c),ss.isNullOrUndefined(r))||ss.isValue(t[r])||(t[r]=s++);for(u=0;u<n.length;u++)l=n[u],f=l.category,ss.isNullOrUndefined(f)&&(f=ss.coalesce(this.options.defaultCategory,"")),o=f,ss.isNullOrUndefined(t[o])&&(t[o]=s++);return t},$createCategoryLinks:function(n,t){for(var w,a,i,f,v,r,e,y=0,o={},u={},s=0;s<t.length;s++){var h=t[s],p=h.name,l=h.category;ss.isNullOrUndefined(l)&&(l=ss.coalesce(this.options.defaultCategory,""));u[p]=l;o[h.name]=y++}for(w=this,a=this.$getCategoryOrder(t),t.sort(function(n,t){var i=0,e=u[n.name],s=u[t.name],r,f;return ss.referenceEquals(e,s)||(r=a[e],f=a[s],ss.isValue(r)&&ss.isValue(f)?i=ss.unbox(r)-ss.unbox(f):ss.isValue(r)?i=-1:ss.isValue(f)&&(i=1)),i===0&&(i=ss.compareStrings(e,s)),i===0&&(i=ss.compare(o[n.name],o[t.name])),i}),i={},f=0;f<t.length;f++)v=t[f],r={$:u[v.name]},ss.keyExists(i,r.$)||(e=ss.getKeyCount(i)+1,i[r.$]=e,e>1&&$("<span/>").addClass("separator").text("|").prependTo(n),$("<a/>").addClass("category-link").text(this.$determineText(r.$,ss.mkdel({category:r},function(n){return n+"Categories."+this.category.$}))).attr("tabindex","-1").attr("href","#"+this.options.idPrefix+"Category"+e.toString()).click(c.$categoryLinkClick).prependTo(n));return $("<div/>").addClass("clear").appendTo(n),i},get_editors:function(){return this.$editors},get_items:function(){return this.$items},get_idPrefix:function(){return this.options.idPrefix},get_mode:function(){return this.options.mode},set_mode:function(n){this.options.mode!==n&&(this.options.mode=n,this.$updateInterface())},load:function(n){for(var t,r,i=0;i<this.$editors.length;i++)t=this.$items[i],r=this.$editors[i],!(this.get_mode()===0&&!ss.isNullOrUndefined(t.defaultValue)&&typeof n[t.name]=="undefined")||(n[t.name]=t.defaultValue),e.loadValue(r,t,n)},save:function(n){for(var i,r,t=0;t<this.$editors.length;t++)i=this.$items[t],i.oneWay!==!0&&this.$canModifyItem(i)&&(r=this.$editors[t],e.saveValue(r,i,n))},$canModifyItem:function(n){return this.get_mode()===0?n.insertable===!1?!1:ss.isNullOrUndefined(n.insertPermission)?!0:Q.Authorization.hasPermission(n.insertPermission):this.get_mode()===1?n.updatable===!1?!1:ss.isNullOrUndefined(n.updatePermission)?!0:Q.Authorization.hasPermission(n.updatePermission):!0},$updateInterface:function(){for(var u,t=0;t<this.$editors.length;t++){var n=this.$items[t],i=this.$editors[t],r=n.readOnly===!0||!this.$canModifyItem(n);e.setReadOnly(i,r);e.setRequired(i,!r&&!!n.required&&n.editorType!=="Boolean");(n.visible===!1||ss.isValue(n.readPermission)||ss.isValue(n.insertPermission)||ss.isValue(n.updatePermission)||n.hideOnInsert===!0||n.hideOnUpdate===!0)&&(u=ss.isValue(n.readPermission)&&!Q.Authorization.hasPermission(n.readPermission)||n.visible===!1||this.get_mode()===0&&n.hideOnInsert===!0||this.get_mode()===1&&n.hideOnUpdate===!0,f.getGridField(i).toggle(!u))}},enumerateItems:function(n){for(var i,r,t=0;t<this.$editors.length;t++)i=this.$items[t],r=this.$editors[t],n(i,r)}},Serenity.Widget);ss.initEnum(to,n,{insert:0,update:1});ss.initClass(st,n,{});ss.initClass(sr,n,{});ss.initClass(lr,n,{destroy:function(){ss.isValue(this.tabs)&&this.tabs.tabs("destroy");ss.isValue(this.toolbar)&&(this.toolbar.destroy(),this.toolbar=null);ss.isValue(this.validator)&&(this.byId("Form").remove(),this.validator=null);Serenity.Widget.prototype.destroy.call(this)},initToolbar:function(){var n=this.byId("Toolbar"),t;n.length!==0&&(t={buttons:this.getToolbarButtons()},this.toolbar=new vi(n,t))},getToolbarButtons:function(){return[]},getValidatorOptions:function(){return{}},initValidator:function(){var n=this.byId("Form"),t;n.length>0&&(t=this.getValidatorOptions(),this.validator=n.validate(Q.validateOptions(t)))},resetValidation:function(){ss.isValue(this.validator)&&this.validator.resetAll()},validateForm:function(){return ss.isNullOrUndefined(this.validator)||!!this.validator.form()},arrange:function(){this.element.find(".require-layout").filter(":visible").each(function(n,t){$(t).triggerHandler("layout")})},initTabs:function(){var n=this.byId("Tabs");n.length!==0&&(this.tabs=n.tabs({}))}},Serenity.TemplatedWidget);ss.initClass(io,n,{initializeAsync:function(){return Serenity.Widget.prototype.initializeAsync.call(this).then(ss.mkdel(this,this.$initPropertyGridAsync),null).then(ss.mkdel(this,function(){this.loadInitialEntity()}),null)},loadInitialEntity:function(){ss.isValue(this.propertyGrid)&&this.propertyGrid.load({})},destroy:function(){ss.isValue(this.propertyGrid)&&(this.propertyGrid.destroy(),this.propertyGrid=null);ss.isValue(this.validator)&&(this.byId("Form").remove(),this.validator=null);lr.prototype.destroy.call(this)},get_entity:function(){return this.$entity},set_entity:function(n){this.$entity=n||{}},get_entityId:function(){return this.$entityId},set_entityId:function(n){this.$entityId=n},$initPropertyGrid:function(){var n=this.byId("PropertyGrid"),t;n.length<=0||(t=this.getPropertyGridOptions(),this.propertyGrid=new c(n,t).init(null),this.element.closest(".ui-Panel").hasClass("s-Flexify")&&this.propertyGrid.element.children(".categories").flexHeightOnly(1))},$initPropertyGridAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.byId("PropertyGrid");return n.length<=0?RSVP.resolve():this.getPropertyGridOptionsAsync().then(ss.mkdel(this,function(t){return this.propertyGrid=new c(n,t),this.element.closest(".ui-Panel").hasClass("s-Flexify")&&this.propertyGrid.element.children(".categories").flexHeightOnly(1),this.propertyGrid.initialize()}),null)}),null)},getFormKey:function(){var i=ss.getAttributes(ss.getInstanceType(this),Serenity.FormKeyAttribute,!0),n,t;return i.length>=1?i[0].value:(n=ss.getTypeFullName(ss.getInstanceType(this)),t=n.indexOf("."),t>=0&&(n=n.substring(t+1)),ss.endsWithString(n,"Panel")?n=n.substr(0,n.length-6):ss.endsWithString(n,"Panel")&&(n=n.substr(0,n.length-5)),n)},getPropertyItems:function(){var n=this.getFormKey();return Q.getForm(n)},getPropertyItemsAsync:function(){return RSVP.resolve().then(ss.mkdel(this,function(){var n=this.getFormKey();return Q.getFormAsync(n)}),null)},getPropertyGridOptions:function(){var n=st.$ctor();return n.idPrefix=this.idPrefix,n.items=this.getPropertyItems(),n.mode=0,n.useCategories=!1,n.localTextPrefix="Forms."+this.getFormKey()+".",n},getPropertyGridOptionsAsync:function(){return this.getPropertyItemsAsync().then(ss.mkdel(this,function(n){var t=st.$ctor();return t.idPrefix=this.idPrefix,t.items=n,t.mode=0,t.useCategories=!1,t.localTextPrefix="Forms."+this.getFormKey()+".",t}),null)},validateBeforeSave:function(){return this.validator.form()},getSaveEntity:function(){var n={};return ss.isValue(this.propertyGrid)&&this.propertyGrid.save(n),n}},lr);ss.initClass(vt,n,{});ss.initClass(ku,n,{$updateInputPlaceHolder:function(){var n=this.element.prevAll(".quick-search-field");ss.isValue(this.$field)?n.text(this.$field.title):n.text("")},checkIfValueChanged:function(){var n=Q.trim(ss.coalesce(this.element.val(),"")),t;if(ss.referenceEquals(n,this.$lastValue)&&(!this.$fieldChanged||Q.isEmptyOrNull(n))){this.$fieldChanged=!1;return}this.$fieldChanged=!1;!this.$timer||window.clearTimeout(this.$timer);t=this;this.$timer=window.setTimeout(function(){t.$searchNow(n)},this.options.typeDelay);this.$lastValue=n},$searchNow:function(n){this.element.parent().toggleClass(ss.coalesce(this.options.filteredParentClass,""),!!(n.length>0));this.element.parent().addClass(ss.coalesce(this.options.loadingParentClass,"")).addClass(ss.coalesce(this.options.loadingParentClass,""));var t=ss.mkdel(this,function(n){this.element.removeClass(ss.coalesce(this.options.loadingParentClass,"")).parent().removeClass(ss.coalesce(this.options.loadingParentClass,""));n||this.element.closest(".s-QuickSearchBar").find(".quick-search-icon i").effect("shake",{distance:2})});if(ss.staticEquals(this.options.onSearch,null))t(!0);else this.options.onSearch(ss.isValue(this.$field)&&!Q.isEmptyOrNull(this.$field.name)?this.$field.name:null,n,t)},get_field:function(){return this.$field},set_field:function(n){ss.referenceEquals(this.$field,n)||(this.$fieldChanged=!0,this.$field=n,this.$updateInputPlaceHolder(),this.checkIfValueChanged())}},Serenity.Widget);ss.initClass(ai,n,{});ss.initClass(ru,n,{$addRadio:function(n,t){var i=$("<label/>").text(t);$('<input type="radio"/>').attr("name",this.uniqueName).attr("id",this.uniqueName+"_"+n).attr("value",n).prependTo(i);i.appendTo(this.element)},get_value:function(){return this.element.find("input:checked").first().val()},set_value:function(n){if(!ss.referenceEquals(n,this.get_value())){var t=this.element.find("input");t.filter(":checked").removeAttr("checked");ss.isNullOrEmptyString(n)||t.filter("[value="+n+"]").attr("checked","checked")}}},Serenity.Widget,[o]);ss.initClass(hr,n,{});ss.initClass(re,n,{});ss.initClass(ue,n,{get_value:function(){return this.element.find(".g-recaptcha-response").val()},set_value:function(){}},Serenity.Widget,[o]);ss.initClass(tr,n,{});ss.initClass(yt,n,{});ss.initClass(fe,n,{});ss.initClass(du,n,{emptyItemText:function(){var n=this.element.attr("placeholder");return ss.isNullOrUndefined(n)&&(n=Q.text("Controls.SelectEditor.EmptyItemText")),n},getService:function(){throw new ss.NotImplementedException;},query:function(n,t){var i={blockUI:!1,service:this.getService()+"/List",request:n,onSuccess:function(n){t(n)}};this.executeQuery(i)},executeQuery:function(n){Q.serviceCall(n)},queryByKey:function(n,t){var i={blockUI:!1,service:this.getService()+"/Retrieve",request:{EntityId:n},onSuccess:function(n){t(n.Entity)}};this.executeQueryByKey(i)},executeQueryByKey:function(n){Q.serviceCall(n)},getItemKey:null,getItemText:null,getTypeDelay:function(){return 500},getSelect2Options:function(){var n=this.emptyItemText(),t=0;return{minimumResultsForSearch:10,placeHolder:Q.isEmptyOrNull(n)?null:n,allowClear:ss.isValue(n),query:ss.mkdel(this,function(n){var i={ContainsText:Q.trimToNull(n.term),Skip:(n.page-1)*this.pageSize,Take:this.pageSize+1};t!==0&&window.clearTimeout(t);t=window.setTimeout(ss.mkdel(this,function(){this.query(i,ss.mkdel(this,function(t){n.callback({results:t.Entities.slice(0,this.pageSize).map(ss.mkdel(this,function(n){return{id:this.getItemKey(n),text:this.getItemText(n),source:n}})),more:t.Entities.length>=this.pageSize})}))}),this.getTypeDelay())}),initSelection:ss.mkdel(this,function(n,t){var i=n.val();if(Q.isEmptyOrNull(i)){t(null);return}this.queryByKey(i,ss.mkdel(this,function(n){t(ss.isNullOrUndefined(n)?null:{id:this.getItemKey(n),text:this.getItemText(n),source:n})}))})}},addInplaceCreate:function(n){var t=this;$("<a><b/><\/a>").addClass("inplace-button inplace-create").attr("title",n).insertAfter(this.element).click(function(n){t.inplaceCreateClick(n)});this.get_select2Container().add(this.element).addClass("has-inplace-button")},inplaceCreateClick:function(){},get_select2Container:function(){return this.element.prevAll(".select2-container")},get_value:function(){return ss.safeCast(this.element.select2("val"),String)},set_value:function(n){ss.referenceEquals(n,this.get_value())||this.element.select2("val",n).triggerHandler("change",[!0])}},Serenity.Widget,[o]);ss.initClass(k,n,{});ss.initClass(cr,n,{});ss.initClass(ht,n,{});ss.initClass(ro,n,{getOperators:function(){var n=[];return n.push({key:t.contains}),n.push({key:t.startsWith}),n.push({key:t.EQ}),n.push({key:t.NE}),n.push({key:t.BW}),this.appendNullableOperators(n)},validateEditorValue:function(n){return n.length===0?n:b.prototype.validateEditorValue.call(this,n)}},b,[d,it]);ss.initClass(rt,n,{});ss.initClass(gu,n,{get_value:function(){return this.element.val()},set_value:function(n){this.element.val(n)}},Serenity.Widget,[o]);ss.initClass(nf,n,{get_value:function(){var n=Q.toId(this.element.val()),t=Q.toId(this.$minutes.val());return ss.isNullOrUndefined(n)||ss.isNullOrUndefined(t)?null:ss.unbox(n)*60+ss.unbox(t)},set_value:function(n){ss.isNullOrUndefined(n)?this.options.noEmptyOption?(this.element.val(this.options.startHour.toString()),this.$minutes.val("0")):(this.element.val(""),this.$minutes.val("0")):(this.element.val(Math.floor(ss.unbox(n)/60).toString()),this.$minutes.val((ss.unbox(n)%60).toString()))}},Serenity.Widget,[gi]);ss.initClass(vi,n,{$createButton:function(n,t){var f=ss.coalesce(t.cssClass,""),i,u,r;t.separator===!0&&$('<div class="separator"><\/div>').appendTo(n);i=$('<div class="tool-button"><div class="button-outer"><span class="button-inner"><\/span><\/div><\/div>').appendTo(n);f.length>0&&i.addClass(f);Q.isEmptyOrNull(t.hint)||i.attr("title",t.hint);i.click(function(n){if(!i.hasClass("disabled"))t.onClick(n)});u=t.title;t.htmlEncode!==!1&&(u=Q.htmlEncode(t.title));ss.isNullOrEmptyString(t.icon)||(i.addClass("icon-tool-button"),r=t.icon,ss.startsWithString(r,"fa-")?r="fa "+r:ss.startsWithString(r,"glyphicon-")&&(r="glyphicon "+r),u="<i class='"+r+"'><\/i> "+u);ss.isNullOrUndefined(u)||u.length===0?i.addClass("no-text"):i.find("span").html(u);!(!ss.isNullOrEmptyString(t.hotkey)&&ss.isValue(window.window.Mousetrap))||Mousetrap(this.options.hotkeyContext||window.document.documentElement).bind(t.hotkey,function(){return i.is(":visible")&&i.triggerHandler("click"),t.hotkeyAllowDefault})},destroy:function(){this.element.find("div.tool-button").unbind("click");Serenity.Widget.prototype.destroy.call(this)},findButton:function(n){return ss.isValue(n)&&ss.startsWithString(n,".")&&(n=n.substr(1)),$("div.tool-button."+n,this.element)}},Serenity.Widget);ss.initClass(ee,n,{});ss.initClass(h,n,{});ss.initClass(oe,n,{},ri,[o]);ss.initClass(se,n,{format:function(n){var t=ss.isNullOrEmptyString(this.get_urlProperty())?ss.coalesce(n.value,"").toString():ss.coalesce(n.item[this.get_urlProperty()],"").toString(),i,r;return ss.isNullOrEmptyString(t)?"":(ss.isNullOrEmptyString(this.get_urlFormat())||(t=ss.formatString(this.get_urlFormat(),t)),ss.isValue(t)&&ss.startsWithString(t,"~/")&&(t=Q.resolveUrl(t)),i=ss.isNullOrEmptyString(this.get_displayProperty())?ss.coalesce(n.value,"").toString():ss.coalesce(n.item[this.get_displayProperty()],"").toString(),ss.isNullOrEmptyString(this.get_displayFormat())||(i=ss.formatString(this.get_displayFormat(),i)),r="<a href='"+Q.htmlEncode(t)+"'",ss.isNullOrEmptyString(this.get_target())||(r+=" target='"+this.get_target()+"'"),r+(">"+Q.htmlEncode(i)+"<\/a>"))},get_displayProperty:function(){return this.$1$DisplayPropertyField},set_displayProperty:function(n){this.$1$DisplayPropertyField=n},get_displayFormat:function(){return this.$1$DisplayFormatField},set_displayFormat:function(n){this.$1$DisplayFormatField=n},get_urlProperty:function(){return this.$1$UrlPropertyField},set_urlProperty:function(n){this.$1$UrlPropertyField=n},get_urlFormat:function(){return this.$1$UrlFormatField},set_urlFormat:function(n){this.$1$UrlFormatField=n},get_target:function(){return this.$1$TargetField},set_target:function(n){this.$1$TargetField=n}},null,[et]);ss.initClass(yi,n,{});ss.initClass(ui,n,{});ss.initClass(uo,n,{});ss.initClass(f,n,{});ss.initClass(he,n,{createPropertyGrid:function(){ss.isValue(this.$propertyGrid)&&(this.byId("PropertyGrid").html("").attr("class",""),this.$propertyGrid=null);var t=this.byId("PropertyGrid"),n=st.$ctor();n.idPrefix=this.idPrefix;n.useCategories=!0;n.items=this.$propertyItems;this.$propertyGrid=new c(t,n).init(null)},loadReport:function(n){Q.serviceCall({service:"Report/Retrieve",request:{ReportKey:n},onSuccess:ss.mkdel(this,function(t){this.$reportKey=ss.coalesce(t.ReportKey,n);this.$propertyItems=t.Properties||[];this.element.dialog().dialog("option","title",t.Title);this.createPropertyGrid();var r=this.$propertyGrid,i=t.InitialSettings;ss.isNullOrUndefined(i)&&(i={});r.load(i);this.toolbar.findButton("print-preview-button").toggle(!t.IsDataOnlyReport);this.toolbar.findButton("export-pdf-button").toggle(!t.IsDataOnlyReport);this.toolbar.findButton("export-docx-button").toggle(!t.IsDataOnlyReport);this.dialogOpen()})})},executeReport:function(n,t){if(this.validateForm()){var i={};this.$propertyGrid.save(i);Q.postToService({service:"Report/Execute",request:{ReportKey:this.$reportKey,DesignId:"Default",ExportType:t,Parameters:i},target:n})}},getToolbarButtons:function(){var n=[];return n.push({title:"Önizleme",cssClass:"print-preview-button",onClick:ss.mkdel(this,function(){this.executeReport("_blank",null)})}),n.push({title:"PDF",cssClass:"export-pdf-button",onClick:ss.mkdel(this,function(){this.executeReport("","Pdf")})}),n.push({title:"Excel",cssClass:"export-xlsx-button",onClick:ss.mkdel(this,function(){this.executeReport("","Xlsx")})}),n.push({title:"Word",cssClass:"export-docx-button",onClick:ss.mkdel(this,function(){this.executeReport("","Docx")})}),n}},Serenity.TemplatedDialog,[ni]);ss.initClass(fo,n,{$updateMatchFlags:function(n){var t=$("#ReportList").find("li").removeClass("non-match"),i,r,u;if(n=Q.trimToNull(n),ss.isNullOrUndefined(n)){t.children("ul").hide();t.show().removeClass("expanded");return}for(i=ss.netSplit(n,[44,32].map(function(n){return String.fromCharCode(n)}),null,1),r=0;r<i.length;r++)i[r]=Q.trimToNull(Select2.util.stripDiacritics(i[r]).toUpperCase());u=t.filter(".report-item");u.each(function(n,t){for(var u,f=$(t),e=Select2.util.stripDiacritics(ss.coalesce(f.text(),"").toUpperCase()),r=0;r<i.length;r++)if(u=i[r],ss.isValue(u)&&!(e.indexOf(u)!==-1)){f.addClass("non-match");break}});var e=u.not(".non-match"),f=e.parents("li").add(e),o=t.not(f);o.hide().addClass("non-match");f.show();f.length<=100&&(t.children("ul").show(),t.addClass("expanded"))},$categoryClick:function(n){var t=$(n.target).closest("li");t.hasClass("expanded")?(t.find("ul").hide("fast"),t.removeClass("expanded"),t.find("li").removeClass("expanded")):(t.addClass("expanded"),t.children("ul").show("fast"),t.children("ul").children("li").length!==1||t.children("ul").children("li").hasClass("expanded")||t.children("ul").children("li").children(".line").click())},$reportLinkClick:function(n){n.preventDefault();var t=new he({reportKey:$(n.target).data("key")})}},Serenity.Widget);ss.initClass(i,n,{});ss.setMetadata(tf,{attr:[new Serenity.EditorAttribute,new Serenity.OptionsTypeAttribute(Object)]});ss.setMetadata(yr,{attr:[new Serenity.EditorAttribute,new i("Checkbox"),new Serenity.ElementAttribute('<input type="checkbox"/>')]});ss.setMetadata(uf,{members:[{attr:[new Serenity.OptionAttribute],name:"FalseText",type:16,returnType:String,getter:{name:"get_FalseText",type:8,sname:"get_falseText",returnType:String,params:[]},setter:{name:"set_FalseText",type:8,sname:"set_falseText",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"TrueText",type:16,returnType:String,getter:{name:"get_TrueText",type:8,sname:"get_trueText",returnType:String,params:[]},setter:{name:"set_TrueText",type:8,sname:"set_trueText",returnType:Object,params:[String]}}]});ss.setMetadata(ff,{attr:[new Serenity.EditorAttribute,new i("Checkbox'lı Liste"),new Serenity.OptionsTypeAttribute(fi),new Serenity.ElementAttribute("<ul/>")]});ss.setMetadata(fi,{members:[{attr:[new hi],name:"Items",type:16,returnType:Array,getter:{name:"get_Items",type:8,params:[],returnType:Array,fget:"items"},setter:{name:"set_Items",type:8,params:[Array],returnType:Object,fset:"items"},fname:"items"},{attr:[new i("Tümünü Seç Metni")],name:"SelectAllOptionText",type:16,returnType:String,getter:{name:"get_SelectAllOptionText",type:8,params:[],returnType:String,fget:"selectAllOptionText"},setter:{name:"set_SelectAllOptionText",type:8,params:[String],returnType:Object,fset:"selectAllOptionText"},fname:"selectAllOptionText"}]});ss.setMetadata(eu,{attr:[new Serenity.ElementAttribute("<div/>"),new Serenity.IdPropertyAttribute("id")]});ss.setMetadata(u,{attr:[new Serenity.EditorAttribute,new i("Tarih"),new Serenity.ElementAttribute('<input type="text"/>')],members:[{attr:[new Serenity.OptionAttribute],name:"MaxValue",type:16,returnType:String,getter:{name:"get_MaxValue",type:8,sname:"get_maxValue",returnType:String,params:[]},setter:{name:"set_MaxValue",type:8,sname:"set_maxValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"MinValue",type:16,returnType:String,getter:{name:"get_MinValue",type:8,sname:"get_minValue",returnType:String,params:[]},setter:{name:"set_MinValue",type:8,sname:"set_minValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"SqlMinMax",type:16,returnType:Boolean,getter:{name:"get_SqlMinMax",type:8,sname:"get_sqlMinMax",returnType:Boolean,params:[]},setter:{name:"set_SqlMinMax",type:8,sname:"set_sqlMinMax",returnType:Object,params:[Boolean]}}]});ss.setMetadata(bt,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}}]});ss.setMetadata(ct,{attr:[new Serenity.EditorAttribute,new i("Date/Time"),new Serenity.ElementAttribute('<input type="text"/>')],members:[{attr:[new Serenity.OptionAttribute],name:"MaxValue",type:16,returnType:String,getter:{name:"get_MaxValue",type:8,sname:"get_maxValue",returnType:String,params:[]},setter:{name:"set_MaxValue",type:8,sname:"set_maxValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"MinValue",type:16,returnType:String,getter:{name:"get_MinValue",type:8,sname:"get_minValue",returnType:String,params:[]},setter:{name:"set_MinValue",type:8,sname:"set_minValue",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"SqlMinMax",type:16,returnType:Boolean,getter:{name:"get_SqlMinMax",type:8,sname:"get_sqlMinMax",returnType:Boolean,params:[]},setter:{name:"set_SqlMinMax",type:8,sname:"set_sqlMinMax",returnType:Object,params:[Boolean]}}]});ss.setMetadata(sf,{attr:[new Serenity.EditorAttribute,new i("Yıl"),new Serenity.OptionsTypeAttribute(pi),new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(kt,{attr:[new Serenity.EditorAttribute,new i("Ondalıklı Sayı"),new Serenity.OptionsTypeAttribute(ei),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(ei,{members:[{attr:[new i("Ondalık"),new wi("Integer")],name:"Decimals",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),getter:{name:"get_Decimals",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),fget:"decimals"},setter:{name:"set_Decimals",type:8,params:[ss.makeGenericType(ss.Nullable$1,[ss.Int32])],returnType:Object,fset:"decimals"},fname:"decimals"},{attr:[new i("Max Değer")],name:"MaxValue",type:16,returnType:String,getter:{name:"get_MaxValue",type:8,params:[],returnType:String,fget:"maxValue"},setter:{name:"set_MaxValue",type:8,params:[String],returnType:Object,fset:"maxValue"},fname:"maxValue"},{attr:[new i("Min Değer")],name:"MinValue",type:16,returnType:String,getter:{name:"get_MinValue",type:8,params:[],returnType:String,fget:"minValue"},setter:{name:"set_MinValue",type:8,params:[String],returnType:Object,fset:"minValue"},fname:"minValue"},{attr:[new i("Ondalıkları Sıfırla Doldur"),new wi("Boolean")],name:"PadDecimals",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[Boolean]),getter:{name:"get_PadDecimals",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[Boolean]),fget:"padDecimals"},setter:{name:"set_PadDecimals",type:8,params:[ss.makeGenericType(ss.Nullable$1,[Boolean])],returnType:Object,fset:"padDecimals"},fname:"padDecimals"}]});ss.setMetadata(hf,{members:[{attr:[new Serenity.OptionAttribute],name:"EditorType",type:16,returnType:String,getter:{name:"get_EditorType",type:8,sname:"get_editorType",returnType:String,params:[]},setter:{name:"set_EditorType",type:8,sname:"set_editorType",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"UseLike",type:16,returnType:Boolean,getter:{name:"get_UseLike",type:8,sname:"get_useLike",returnType:Boolean,params:[]},setter:{name:"set_UseLike",type:8,sname:"set_useLike",returnType:Object,params:[Boolean]}},{attr:[new Serenity.OptionAttribute],name:"UseRelative",type:16,returnType:Boolean,getter:{name:"get_UseRelative",type:8,sname:"get_useRelative",returnType:Boolean,params:[]},setter:{name:"set_UseRelative",type:8,sname:"set_useRelative",returnType:Object,params:[Boolean]}}]});ss.setMetadata(hu,{attrAllowMultiple:!0});ss.setMetadata(dt,{attr:[new Serenity.EditorAttribute,new i("Editör Tipi"),new Serenity.ElementAttribute('<input type="hidden" />')]});ss.setMetadata(ir,{attr:[new Serenity.EditorAttribute,new i("E-posta"),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(bi,{members:[{attr:[new i("Etki Alanı")],name:"Domain",type:16,returnType:String,getter:{name:"get_Domain",type:8,params:[],returnType:String,fget:"domain"},setter:{name:"set_Domain",type:8,params:[String],returnType:Object,fset:"domain"},fname:"domain"},{attr:[new i("Etki Alanı Salt Okunur")],name:"ReadOnlyDomain",type:16,returnType:Boolean,getter:{name:"get_ReadOnlyDomain",type:8,params:[],returnType:Boolean,fget:"readOnlyDomain"},setter:{name:"set_ReadOnlyDomain",type:8,params:[Boolean],returnType:Object,fset:"readOnlyDomain"},fname:"readOnlyDomain"}]});ss.setMetadata(br,{attr:[new Serenity.EditorAttribute,new i("Enumeration"),new Serenity.OptionsTypeAttribute(si),new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(si,{members:[{attr:[new i("Allow Clear"),new wi("Boolean")],name:"AllowClear",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[Boolean]),getter:{name:"get_AllowClear",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[Boolean]),fget:"allowClear"},setter:{name:"set_AllowClear",type:8,params:[ss.makeGenericType(ss.Nullable$1,[Boolean])],returnType:Object,fset:"allowClear"},fname:"allowClear"},{attr:[new i("Enum Type Key")],name:"EnumKey",type:16,returnType:String,getter:{name:"get_EnumKey",type:8,params:[],returnType:String,fget:"enumKey"},setter:{name:"set_EnumKey",type:8,params:[String],returnType:Object,fset:"enumKey"},fname:"enumKey"},{attr:[new i("Enum Type Key"),new hi],name:"EnumType",type:16,returnType:Function,getter:{name:"get_EnumType",type:8,params:[],returnType:Function,fget:"enumType"},setter:{name:"set_EnumType",type:8,params:[Function],returnType:Object,fset:"enumType"},fname:"enumType"}]});ss.setMetadata(lt,{members:[{attr:[new Serenity.OptionAttribute],name:"EnumKey",type:16,returnType:String,getter:{name:"get_EnumKey",type:8,sname:"get_enumKey",returnType:String,params:[]},setter:{name:"set_EnumKey",type:8,sname:"set_enumKey",returnType:Object,params:[String]}}]});ss.setMetadata(kr,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"OriginalNameProperty",type:16,returnType:String,getter:{name:"get_OriginalNameProperty",type:8,sname:"get_originalNameProperty",returnType:String,params:[]},setter:{name:"set_OriginalNameProperty",type:8,sname:"set_originalNameProperty",returnType:Object,params:[String]}}]});ss.setMetadata(vf,{attr:[new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(at,{attr:[new Serenity.EditorAttribute,new i("Html İçerik"),new Serenity.OptionsTypeAttribute(wt),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(wt,{members:[{attr:[new hi],name:"Cols",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),getter:{name:"get_Cols",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),fget:"cols"},setter:{name:"set_Cols",type:8,params:[ss.makeGenericType(ss.Nullable$1,[ss.Int32])],returnType:Object,fset:"cols"},fname:"cols"},{attr:[new hi],name:"Rows",type:16,returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),getter:{name:"get_Rows",type:8,params:[],returnType:ss.makeGenericType(ss.Nullable$1,[ss.Int32]),fget:"rows"},setter:{name:"set_Rows",type:8,params:[ss.makeGenericType(ss.Nullable$1,[ss.Int32])],returnType:Object,fset:"rows"},fname:"rows"}]});ss.setMetadata(pf,{attr:[new Serenity.EditorAttribute,new i("Html Content (Font Style and Color Only)"),new Serenity.OptionsTypeAttribute(wt),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(wf,{attr:[new Serenity.EditorAttribute,new i("Html Content (Report Compatible Limited Set)"),new Serenity.OptionsTypeAttribute(wt),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(vu,{attr:[new Serenity.EditorAttribute,new i("Image Upload"),new Serenity.OptionsTypeAttribute(ti),new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(ti,{members:[{attr:[new i("Allow Non Image Files")],name:"AllowNonImage",type:16,returnType:Boolean,getter:{name:"get_AllowNonImage",type:8,params:[],returnType:Boolean,fget:"allowNonImage"},setter:{name:"set_AllowNonImage",type:8,params:[Boolean],returnType:Object,fset:"allowNonImage"},fname:"allowNonImage"},{attr:[new i("Max Height")],name:"MaxHeight",type:16,returnType:ss.Int32,getter:{name:"get_MaxHeight",type:8,params:[],returnType:ss.Int32,fget:"maxHeight"},setter:{name:"set_MaxHeight",type:8,params:[ss.Int32],returnType:Object,fset:"maxHeight"},fname:"maxHeight"},{attr:[new i("Max Size")],name:"MaxSize",type:16,returnType:ss.Int32,getter:{name:"get_MaxSize",type:8,params:[],returnType:ss.Int32,fget:"maxSize"},setter:{name:"set_MaxSize",type:8,params:[ss.Int32],returnType:Object,fset:"maxSize"},fname:"maxSize"},{attr:[new i("Min Width")],name:"MaxWidth",type:16,returnType:ss.Int32,getter:{name:"get_MaxWidth",type:8,params:[],returnType:ss.Int32,fget:"maxWidth"},setter:{name:"set_MaxWidth",type:8,params:[ss.Int32],returnType:Object,fset:"maxWidth"},fname:"maxWidth"},{attr:[new i("Max Height")],name:"MinHeight",type:16,returnType:ss.Int32,getter:{name:"get_MinHeight",type:8,params:[],returnType:ss.Int32,fget:"minHeight"},setter:{name:"set_MinHeight",type:8,params:[ss.Int32],returnType:Object,fset:"minHeight"},fname:"minHeight"},{attr:[new i("Min Size")],name:"MinSize",type:16,returnType:ss.Int32,getter:{name:"get_MinSize",type:8,params:[],returnType:ss.Int32,fget:"minSize"},setter:{name:"set_MinSize",type:8,params:[ss.Int32],returnType:Object,fset:"minSize"},fname:"minSize"},{attr:[new i("Min Width")],name:"MinWidth",type:16,returnType:ss.Int32,getter:{name:"get_MinWidth",type:8,params:[],returnType:ss.Int32,fget:"minWidth"},setter:{name:"set_MinWidth",type:8,params:[ss.Int32],returnType:Object,fset:"minWidth"},fname:"minWidth"},{attr:[new i("Original Name Property")],name:"OriginalNameProperty",type:16,returnType:String,getter:{name:"get_OriginalNameProperty",type:8,params:[],returnType:String,fget:"originalNameProperty"},setter:{name:"set_OriginalNameProperty",type:8,params:[String],returnType:Object,fset:"originalNameProperty"},fname:"originalNameProperty"},{attr:[new i("UrlPrefix")],name:"UrlPrefix",type:16,returnType:String,getter:{name:"get_UrlPrefix",type:8,params:[],returnType:String,fget:"urlPrefix"},setter:{name:"set_UrlPrefix",type:8,params:[String],returnType:Object,fset:"urlPrefix"},fname:"urlPrefix"}]});ss.setMetadata(er,{attr:[new Serenity.EditorAttribute,new i("Tamsayı"),new Serenity.OptionsTypeAttribute(nr),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(nu,{attr:[new Serenity.EditorAttribute,new Serenity.OptionsTypeAttribute(Object)]});ss.setMetadata(ot,{attr:[new Serenity.ElementAttribute('<input type="hidden"/>')],members:[{attr:[new Serenity.OptionAttribute],name:"CascadeField",type:16,returnType:String,getter:{name:"get_CascadeField",type:8,sname:"get_cascadeField",returnType:String,params:[]},setter:{name:"set_CascadeField",type:8,sname:"set_cascadeField",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"CascadeFrom",type:16,returnType:String,getter:{name:"get_CascadeFrom",type:8,sname:"get_cascadeFrom",returnType:String,params:[]},setter:{name:"set_CascadeFrom",type:8,sname:"set_cascadeFrom",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"CascadeValue",type:16,returnType:Object,getter:{name:"get_CascadeValue",type:8,sname:"get_cascadeValue",returnType:Object,params:[]},setter:{name:"set_CascadeValue",type:8,sname:"set_cascadeValue",returnType:Object,params:[Object]}},{attr:[new Serenity.OptionAttribute],name:"FilterField",type:16,returnType:String,getter:{name:"get_FilterField",type:8,sname:"get_filterField",returnType:String,params:[]},setter:{name:"set_FilterField",type:8,sname:"set_filterField",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"FilterValue",type:16,returnType:Object,getter:{name:"get_FilterValue",type:8,sname:"get_filterValue",returnType:Object,params:[]},setter:{name:"set_FilterValue",type:8,sname:"set_filterValue",returnType:Object,params:[Object]}}]});ss.setMetadata(yu,{attr:[new Serenity.EditorAttribute,new i("Maskeli Giriş"),new Serenity.OptionsTypeAttribute(ci),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(ci,{members:[{attr:[new i("Giriş Maskesi")],name:"Mask",type:16,returnType:String,getter:{name:"get_Mask",type:8,params:[],returnType:String,fget:"mask"},setter:{name:"set_Mask",type:8,params:[String],returnType:Object,fset:"mask"},fname:"mask"},{attr:[new i("Yer Tutucu Karakter")],name:"Placeholder",type:16,returnType:String,getter:{name:"get_Placeholder",type:8,params:[],returnType:String,fget:"placeholder"},setter:{name:"set_Placeholder",type:8,params:[String],returnType:Object,fset:"placeholder"},fname:"placeholder"}]});ss.setMetadata(wu,{attr:[new Serenity.EditorAttribute,new i("MultipleImage Upload"),new Serenity.OptionsTypeAttribute(ti),new Serenity.ElementAttribute("<div/>")],members:[{attr:[new Serenity.OptionAttribute],name:"JsonEncodeValue",type:16,returnType:Boolean,getter:{name:"get_JsonEncodeValue",type:8,sname:"get_jsonEncodeValue",returnType:Boolean,params:[]},setter:{name:"set_JsonEncodeValue",type:8,sname:"set_jsonEncodeValue",returnType:Object,params:[Boolean]}}]});ss.setMetadata(or,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}}]});ss.setMetadata(te,{attr:[new Serenity.EditorAttribute,new i("Şifre")]});ss.setMetadata(ie,{attr:[new Serenity.EditorAttribute,new i("Kişi İsim"),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(r,{attr:[new Serenity.EditorAttribute,new i("Telefon"),new Serenity.OptionsTypeAttribute(li),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(li,{members:[{attr:[new i("Dahili Girişine İzin Ver")],name:"AllowExtension",type:16,returnType:Boolean,getter:{name:"get_AllowExtension",type:8,params:[],returnType:Boolean,fget:"allowExtension"},setter:{name:"set_AllowExtension",type:8,params:[Boolean],returnType:Object,fset:"allowExtension"},fname:"allowExtension"},{attr:[new i("Uluslararası Telefon Girişine İzin Ver")],name:"AllowInternational",type:16,returnType:Boolean,getter:{name:"get_AllowInternational",type:8,params:[],returnType:Boolean,fget:"allowInternational"},setter:{name:"set_AllowInternational",type:8,params:[Boolean],returnType:Object,fset:"allowInternational"},fname:"allowInternational"},{attr:[new i("Dahili Telefon")],name:"Internal",type:16,returnType:Boolean,getter:{name:"get_Internal",type:8,params:[],returnType:Boolean,fget:"internal"},setter:{name:"set_Internal",type:8,params:[Boolean],returnType:Object,fset:"internal"},fname:"internal"},{attr:[new i("Cep Telefonu")],name:"Mobile",type:16,returnType:Boolean,getter:{name:"get_Mobile",type:8,params:[],returnType:Boolean,fget:"mobile"},setter:{name:"set_Mobile",type:8,params:[Boolean],returnType:Object,fset:"mobile"},fname:"mobile"},{attr:[new i("Birden Çok Girişe İzin Ver")],name:"Multiple",type:16,returnType:Boolean,getter:{name:"get_Multiple",type:8,params:[],returnType:Boolean,fget:"multiple"},setter:{name:"set_Multiple",type:8,params:[Boolean],returnType:Object,fset:"multiple"},fname:"multiple"}]});ss.setMetadata(ru,{attr:[new Serenity.EditorAttribute,new i("Radio Button"),new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(ue,{attr:[new Serenity.EditorAttribute,new Serenity.ElementAttribute("<div />")]});ss.setMetadata(du,{attr:[new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(p,{attr:[new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(ii,{attr:[new Serenity.EditorAttribute,new i("Açılır Liste"),new Serenity.OptionsTypeAttribute(pt),new Serenity.ElementAttribute('<input type="hidden"/>')]});ss.setMetadata(pt,{members:[{attr:[new i("Boş Eleman Metni")],name:"EmptyOptionText",type:16,returnType:String,getter:{name:"get_EmptyOptionText",type:8,params:[],returnType:String,fget:"emptyOptionText"},setter:{name:"set_EmptyOptionText",type:8,params:[String],returnType:Object,fset:"emptyOptionText"},fname:"emptyOptionText"},{attr:[new hi],name:"Items",type:16,returnType:Array,getter:{name:"get_Items",type:8,params:[],returnType:Array,fget:"items"},setter:{name:"set_Items",type:8,params:[Array],returnType:Object,fset:"items"},fname:"items"}]});ss.setMetadata(ri,{attr:[new Serenity.EditorAttribute,new i("Metin"),new Serenity.ElementAttribute('<input type="text"/>')]});ss.setMetadata(lr,{attr:[new Serenity.ElementAttribute("<div/>")]});ss.setMetadata(gu,{attr:[new Serenity.EditorAttribute,new i("Çok Satırlı Metin"),new Serenity.OptionsTypeAttribute(Object),new Serenity.ElementAttribute("<textarea />")]});ss.setMetadata(nf,{attr:[new Serenity.EditorAttribute,new i("Zaman"),new Serenity.OptionsTypeAttribute(Object),new Serenity.ElementAttribute("<select/>")]});ss.setMetadata(oe,{attr:[new Serenity.EditorAttribute,new i("URL")]});ss.setMetadata(se,{members:[{attr:[new Serenity.OptionAttribute],name:"DisplayFormat",type:16,returnType:String,getter:{name:"get_DisplayFormat",type:8,sname:"get_displayFormat",returnType:String,params:[]},setter:{name:"set_DisplayFormat",type:8,sname:"set_displayFormat",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"DisplayProperty",type:16,returnType:String,getter:{name:"get_DisplayProperty",type:8,sname:"get_displayProperty",returnType:String,params:[]},setter:{name:"set_DisplayProperty",type:8,sname:"set_displayProperty",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"Target",type:16,returnType:String,getter:{name:"get_Target",type:8,sname:"get_target",returnType:String,params:[]},setter:{name:"set_Target",type:8,sname:"set_target",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"UrlFormat",type:16,returnType:String,getter:{name:"get_UrlFormat",type:8,sname:"get_urlFormat",returnType:String,params:[]},setter:{name:"set_UrlFormat",type:8,sname:"set_urlFormat",returnType:Object,params:[String]}},{attr:[new Serenity.OptionAttribute],name:"UrlProperty",type:16,returnType:String,getter:{name:"get_UrlProperty",type:8,sname:"get_urlProperty",returnType:String,params:[]},setter:{name:"set_UrlProperty",type:8,sname:"set_urlProperty",returnType:Object,params:[String]}}]}),function(){Serenity.Widget.prototype.changeSelect2=function(n){var t=this;t.element.bind("change."+t.uniqueName,function(t,i){!(f.hasOriginalEvent(t)||!i)||n(t)})};Serenity.Widget.prototype.change=function(n){var t=this;t.element.bind("change."+t.uniqueName,n)};Serenity.Widget.prototype.getGridField=function(){return this.element.closest(".field")};$.fn.tryGetWidget=function(n){var u=this,t,e,i,r,o;if(ss.isAssignableFrom(Serenity.Widget,n)&&(e=f.getWidgetName(n),t=u.data(e),ss.isValue(t)&&!ss.isAssignableFrom(n,ss.getInstanceType(t))&&(t=null),ss.isValue(t)))return t;if(i=u.data(),ss.isNullOrUndefined(i))return null;r=ss.getEnumerator(Object.keys(i));try{while(r.moveNext())if(o=r.current(),t=i[o],ss.isValue(t)&&ss.isAssignableFrom(n,ss.getInstanceType(t)))return t}finally{r.dispose()}return null};$.fn.getWidget=function(n){var t=this,i;if(ss.isNullOrUndefined(t))throw new ss.ArgumentNullException("element");if(t.length===0)throw new ss.Exception(ss.formatString("Searching for widget of type '{0}' on a non-existent element! ({1})",ss.getTypeFullName(n),t.selector));if(i=t.tryGetWidget(n),ss.isNullOrUndefined(i))throw new ss.Exception(ss.formatString("Element has no widget of type '{0}'!",ss.getTypeFullName(n)));return i}}(),function(){e.$dummy={name:"_"}}(),function(){Q.prop(p,"value");Q.prop(p,"values");Q.prop(p,"readOnly")}(),function(){ft.$knownTypes={}}(),function(){Q.prop(ot,"cascadeField");Q.prop(ot,"cascadeFrom");Q.prop(ot,"cascadeValue");Q.prop(ot,"filterField");Q.prop(ot,"filterValue")}(),function(){t.isTrue="true";t.isFalse="false";t.contains="contains";t.startsWith="startswith";t.EQ="eq";t.NE="ne";t.GT="gt";t.GE="ge";t.LT="lt";t.LE="le";t.BW="bw";t.IN="in";t.isNull="isnull";t.isNotNull="isnotnull";t.toCriteriaOperator=null;t.toCriteriaOperator={};t.toCriteriaOperator[t.EQ]="=";t.toCriteriaOperator[t.NE]="!=";t.toCriteriaOperator[t.GT]=">";t.toCriteriaOperator[t.GE]=">=";t.toCriteriaOperator[t.LT]="<";t.toCriteriaOperator[t.LE]="<="}(),function(){Q.prop(ri,"value")}(),function(){Q.prop(yr,"value")}(),function(){l.$knownTypes=null}(),function(){Serenity.Widget.prototype.addValidationRule=function(n,t){return ui.addValidationRule(this.element,n,t)}}(),function(){Q.prop(u,"value");Q.prop(u,"valueAsDate")}(),function(){ut.$knownTypes=null}(),function(){di.panelTemplate="<div id='~_Rows' class='filter-lines'><\/div><div id='~_Buttons' class='buttons'><button id='~_AddButton' class='btn btn-primary add'><\/button><button id='~_SearchButton' class='btn btn-success search'><\/button><button id='~_ResetButton' class='btn btn-danger reset'><\/button><\/div><div style='clear: both'><\/div>";di.rowTemplate="<div class='filter-line'><a class='delete'><span><\/span><\/a><div class='l'><a class='rightparen' href='#'>)<\/a><a class='andor' href='#'><\/a><a class='leftparen' href='#'>(<\/a><\/div><div class='f'><input type='hidden' class='field-select'><\/div><div class='o'><\/div><div class='v'><\/div><div style='clear: both'><\/div><\/div>"}(),function(){v.$knownTypes=null}(),function(){Q.prop(ct,"value");Q.prop(ct,"valueAsDate")}(),function(){a.defaultPersistanceStorage=null;a.defaultRowHeight=0;a.defaultHeaderHeight=0;a.defaultRowHeight=27;a.defaultHeaderHeight=30}(),function(){Q.prop(eu,"value")}(),function(){Q.prop(kt,"value")}(),function(){oi.$enterKeyCode=13}(),function(){s.$knownTypes=null}(),function(){vt.$registeredTypes=null}(),function(){dt.$editorTypeList=null}(),function(){Q.prop(ir,"value")}(),function(){Q.prop(ru,"value")}(),function(){c.$knownEditorTypes=null;c.$knownEditorTypes={}}(),function(){wr.defaultLanguageList=null}(),function(){Q.prop(at,"value")}(),function(){Q.prop(vu,"value")}(),function(){Q.prop(er,"value")}(),function(){Q.prop(yu,"value")}(),function(){Q.prop(wu,"value")}(),function(){Q.prop(r,"value")}(),function(){Q.prop(du,"value")}(),function(){Q.prop(gu,"value")}(),function(){Q.prop(nf,"value")}()})();