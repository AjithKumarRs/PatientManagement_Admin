/*!
Theme Name: Trendy
Theme URI: http://themeforest.net/user/Medhati/portfolio
Author: Medhati
Author URI: http://themeforest.net/user/Medhati
Description: Trendy Multipurpose Coming Soon template
*/
var D={radius:{},angle:{},medhatiWorms:[],Random:function(a,n){return Math.random()*(n-a)+a},Position:function(a,n,e){var i=a.x+Math.cos(n)*e,t=a.y+Math.sin(n)*e;return i>D.canvas.width&&(i-=D.canvas.width),0>i&&(i=D.canvas.width+i),t>D.canvas.height&&(t-=D.canvas.height),0>t&&(t=D.canvas.height+t),{x:i,y:t}},Change:function(a){var n=D.Random(D.radius.min,D.radius.max),e=a.speed<0?1:-1;a.center=D.Position(a.center,a.angle.a,a.radius+n),a.radius=n,a.speed=2*Math.asin(D.speed/a.radius)*e,a.angle.a=a.angle.a+Math.PI,a.angle.b=a.angle.a+D.Random(D.angle.min,D.angle.max)*e},Move:function(a){var n=D.Position(a.center,a.angle.a,a.radius);a.x=n.x,a.y=n.y,a.points.push({x:a.x,y:a.y}),a.points.length>D.tail&&a.points.shift();for(var e=0;e<a.points.length;e++){var i=e*D.size/a.points.length;D.ctx.fillStyle="rgba(66,222,123,0.5)",D.ctx.fillRect(a.points[e].x,a.points[e].y,i,i)}},Update:function(){for(var a=0;a<D.medhatiWorms.length;a++){var n=D.medhatiWorms[a],e=(n.angle.a+=n.speed,n.speed>0&&n.angle.a>n.angle.b),i=n.speed<=0&&n.angle.a<=n.angle.b;D.Move(n),(e||i)&&D.Change(n)}},Clear:function(){D.ctx.clearRect(0,0,D.canvas.width,D.canvas.height)},Draw:function(){D.Clear(),D.Update(),requestAnimationFrame(D.Draw,D.canvas)},Point:function(){this.points=[],this.radius=D.Random(D.radius.min,D.radius.max),this.speed=2*Math.asin(D.speed/this.radius),this.center={x:Math.random()*D.canvas.width,y:Math.random()*D.canvas.height}},Angle:function(){this.a=Math.random()*Math.PI*2,this.b=this.a+D.Random(D.angle.min,D.angle.max)},Create:function(){for(var a=0;a<D.medhatiWorms.length;a++)D.medhatiWorms[a]=new D.Point,D.medhatiWorms[a].angle=new D.Angle},Params:function(){var a=D.Random(10,100),n=D.Random(1,50),e=D.Random(.1,.9);D.medhatiWorms=new Array(Math.round(n)),D.tail=Math.round(5e3/D.medhatiWorms.length*D.Random(.1,1)),D.radius.min=D.Random(1,a/2),D.radius.max=D.Random(D.radius.min+1,a),D.size=D.Random(1,5),D.angle.min=Math.PI*e,D.angle.max=Math.PI*(2-e),D.speed=D.Random(.5,1.5)},Randomize:function(){D.Params(),D.Create()},Size:function(){D.canvas.width=window.innerWidth,D.canvas.height=window.innerHeight},Init:function(){D.canvas=document.getElementById("worms"),D.ctx=D.canvas.getContext("2d"),D.canvas.addEventListener("click",D.Randomize,!1),window.addEventListener("resize",D.Size,!1)},Run:function(){D.Init(),D.Size(),D.Randomize(),D.Draw()}};D.Run();